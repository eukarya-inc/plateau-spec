# 附属書D 妥当な道路オブジェクト

## 附属書D （規定） 妥当な道路オブジェクト

## D.1 概要

本付属書では、「3D都市モデル標準製品仕様書」（以下、「標準製品仕様書」という）に適合したデータ製品について、妥当な交通（道路）オブジェクトの要件と、妥当な交通（道路）オブジェクトを作成するための標準的な作業手順を示す。

本付属書が対象とする交通（道路）モデルのLODは、LOD0からLOD3までとする。

**表 D-1 — D-1: 妥当な交通（道路）オブジェクト**

| ID | `/req/tran` |
| --- | --- |
| 対象の種類 | 妥当な交通（道路）オブジェクトの要件 |
| 説明 | 道路の説明とLODの要件 |
| 規定 | 要件D-1: 道路記述のLOD対応条件要件D-2: 道路3Dモデルの幾何オブジェクト要件要件D-3: tran:Roadの幾何座標一致条件要件D-4: LOD0 tran:Roadの交差禁止条件要件D-5: tran:Roadオブジェクトの区切り位置要件D-6: LOD2 tran:Roadの空間属性一致条件要件D-7: LOD3 tran:Roadの空間属性一致条件要件D-8: 交通領域の区分方法要件D-9: tran:TrafficAreaの重なり禁止条件要件D-10: 交通補助領域の区分方法要件D-11: tran:AuxiliaryTrafficAreaの重なり禁止条件 |

## D.2 道路の記述とLOD

## D.2.1 使用可能な地物型とLOD

CityGMLには、道路を記述するための地物型が用意されている。詳細度（LOD）ごとに、使用すべき地物型やその空間属性が異なる。

**表 D-2 — D-1: 道路記述のLOD対応条件**

| ID | `/req/tran/1` |
| --- | --- |
| 主題 | 妥当な交通（道路）データセットの要件 |
| 分類 | 要件分類D-1: 妥当な交通（道路）オブジェクト |
| 条文 | 道路の記述には、指定されたLODに対応する地物型及び空間属性を使用する。 |

道路は、CityGMLのTransportationモジュールに定義されたtran:Roadを用いて記述する。tran:Roadは道路面に該当する。

道路面は歩道や車道のように、機能の異なる複数の要素から構成される。この道路を構成する要素は、tran:TrafficArea又はtran:AuxiliaryTrafficAreaを用いて記述する。tran:TrafficAreaは、車線や歩道のように、通行の用に供される領域である。

一方、tran:AuxiliaryTrafficAreaは、中央帯や植樹帯のように補助的な役割を果たす領域である。tran:Roadは、tran:TrafficArea及びtran:AuxiliaryTrafficAreaの集まりとして構成される。

tran:Roadの空間属性は、LOD0では、線として表現する。LOD1以降では面として表現する。tran:TrafficArea及びtran:AuxiliaryTrafficAreaは、いずれも面として表現する。ただし、これら二つの地物型はLOD2以降でのみ使用可能となる。

すなわち、LOD1では道路は歩車道の区別がない道路面として表現され、LOD2以降では道路の歩道や車道あるいは車線など、道路内の構造を区別できるようになる。

各LODにおいて使用可能な地物型とその空間属性を、表D-3に示す。

**表 D-3 — 交通（道路）モデルの記述に使用する地物型と空間属性**

| 地物型 | 空間属性 | LOD0 | LOD1 | LOD2 | LOD3 | 適用 |
| --- | --- | --- | --- | --- | --- | --- |
| tran:Road |  | ● | ● | ● | ● |  |
| ↑ | tran:lod0Network | ■ |  |  |  | LOD0はネットワークを原則とするが、数値地形図との互換性を保つために、道路縁を選択できる。 |
| ↑ | uro:lod0Geometry | ■ |  |  |  | ↑ |
| ↑ | tran:lod1MultiSurface |  | ● |  |  |  |
| ↑ | tran:lod2MultiSurface |  |  | ● |  |  |
| ↑ | tran:lod3MultiSurface |  |  |  | ● |  |
| tran:TrafficArea |  |  |  | ● | ● |  |
| ↑ | tran:lod2MultiSurface |  |  | ● |  |  |
| ↑ | tran:lod3MultiSurface |  |  |  | ● |  |
| tran:AuxiliaryTrafficArea |  |  |  | ● | ● |  |
| ↑ | tran:lod2MultiSurface |  |  | ● |  |  |
| ↑ | tran:lod3MultiSurface |  |  |  | ● |  |
| ●：必須■：条件付必須〇：任意（ユースケースに応じて要否を決定してよい） | ← | ← | ← | ← | ← | ← |

## D.2.2 交通（道路）モデルのLOD

交通（道路）モデルにおいて、LOD0では道路の形状を線により表現し、LOD1以降は面として表現する。LOD1では道路内の区分はできず、LOD2以降で道路内を区分可能となる。CityGMLでは、LODの枠組みとそこで使用可能な地物型及び空間属性をデータ構造として定義しているが、何を取得し記述すべきというデータの内容を定義していない。これにより、同じLODであっても、ユースケースやデータ作成者によってその詳細度が大きく異なる可能性がある。

そこで、標準製品仕様書では、その用途やデータ作成の難易度を考慮し、3D都市モデルにおける道路のLODを図D-1のように整理している。

![Image](images/tocD_img001.png)

前述したように、LOD0における道路は線、LOD1以降では面として表現する。また、その座標はLOD0からLOD2までは高さを持たず、LOD3では高さを持つ。このとき、LOD0からLOD2では、交通（道路）オブジェクトを3次元の地形データに重畳することで3次元的に表示して利用することを想定している。

LOD0は道路を線として表現するが、このときの線は、ネットワーク（道路中心線）又は道路縁のいずれかを選択できる。3D都市モデルでは、ネットワーク（道路中心線）を採用することを原則とする。ネットワークデータとして記述することでマクロな人や物の流れを表現・分析可能となり、公共交通網の見直しや公共施設の再配置等に利用することを想定している。道路縁を採用する場合、「[付録７ 公共測量標準図式](https://www.gsi.go.jp/gijyutukanri/gijyutukanri41018.html)」（以下、「公共測量標準図式」という）に従う。これにより、従来の都市計画基本図の地図表現が可能となる。

LOD1では道路を面として記述する。これにより道路がもつ空間機能の表現・分析が可能となり、火災の延焼シミュレーションや埋設物管理といったシミュレーションや施設管理に利用できる。LOD2では道路の面が歩道及び車道に区分されるため、歩行者ナビゲーションや沿道景観の改善等に利用できる。また、LOD3では道路を3次元で記述し、かつ横断構成要素を詳細に区分するため、バリアフリーナビゲーションや自動運転といった詳細なデータを要求するユースケースに利用できる。

LOD1及びLOD2では道路オブジェクトは高さを持たないため、立体交差や歩道と車道との間の高低差を表現できない。これらが必要な場合には、高さを持つLOD3が必要となる。LOD3では道路内の区分と高さの取得方法により、LODを細分する。表D-4に細分したLOD3の概要を示す。

**表 D-4 — 交通（道路）モデル（LOD3）の概要**

|  | 取得基準 | LOD3.0 | LOD3.1 | LOD3.2 | LOD3.3 | LOD3.4 |
| --- | --- | --- | --- | --- | --- | --- |
| 道路内の区分 | 車道部、車道交差部、島及び歩道部の区分 | ● | ● | ● | ● | ● |
| ↑ | 車道部内の車線の区分 |  | ● | ● | ● | ● |
| ↑ | 歩道部上の植栽の区分 |  |  | ● | ● | ● |
| ↑ | 車道部を車線、すりつけ区間、踏切道、軌道敷、待避所、副道、自動車駐車場、非常駐車帯、中央帯、側帯、路肩、停車帯、乗合自動車停車所に区分する。島を、交通島、分離帯、植樹帯、路面電車停車所に区分する。歩道を、歩道、自転車歩行者道、自転車道、植樹ますに区分する。 |  |  |  |  | 〇a) |
| 高さの取得方法 | 道路の横断方向の高さは一律とし、車道の高さとする。 | ● | ● |  |  |  |
| ↑ | 道路の横断方向に15㎝以上の高さの差が存在した場合に、車道部、歩道部、島それぞれの高さを取得する。 |  |  | ● |  |  |
| ↑ | 道路の横断方向に2㎝以上の高さの差が存在した場合に、車道部、歩道部、島それぞれの高さを取得する。 |  |  |  | ● | ●a) |
| ●：必須〇：任意（ユースケースに応じて要否を決定してよい） | ← | ← | ← | ← | ← | ← |

LOD3は「道路内の区分」及び「高さの取得方法」の組み合わせが異なるLOD3.0、LOD3.1、LOD3.2、LOD3.3及びLOD3.4に分かれる。標準製品仕様は、原則としてLOD3.0とする。ただし、ユースケースの必要に応じて、LOD3.1、LOD3.2、LOD3.3又はLOD3.4を採用できる。LOD3.0からLOD3.4に適用する「高さの取得方法」及び「道路内の区分」を表D-5及び表D-6に示す。

**表 D-5 — 道路LOD3における「高さの取得方法」**

| LOD3.0及びLOD3.1 | LOD3.2 | LOD3.3及びLOD3.4 |
| --- | --- | --- |
| 道路内（車道部、歩道部、島）の高さは、横断方向に同一（全て車道の高さ）となる。立体交差が表現できる。![Image](images/tocD_img002.png) | 道路の横断方向に存在する15㎝以上の高さの差を取得する。高さの差が15㎝以上の段は、段の形状を取得する。![Image](images/tocD_img003.png)高さの差が15㎝以上のスロープは、スロープの形状を取得する。![Image](images/tocD_img004.png)高さの差が15㎝未満の段が複数あり、合計15㎝以上の高さの差がある場合は、スロープとして取得する。![Image](images/tocD_img005.png)歩道と車道との間や車道と島との間に存在する縁石による段を表現できる。 | 道路の横断方向に存在する2㎝以上の高さの差を取得する。高さの差が2㎝以上の段は、段の形状を取得する。![Image](images/tocD_img006.png)高さの差が2㎝以上のスロープは、スロープの形状を取得する。![Image](images/tocD_img007.png)高さの差が2㎝未満の段が複数あり、合計2㎝以上の高さの差がある場合は、スロープとして取得する。![Image](images/tocD_img008.png)歩道に設けられた車道への切り下げ部に存在する段が表現できる。![Image](images/tocD_img009.png) |

LOD3.0及びLOD3.1の「高さの表現」では、高架橋、立体交差等、道路全体の上下の階層構造を区別できる。

LOD3.2では、道路内の縁石による高さの差を表現する。この高さの差は、縁石によりマウントアップされた歩道と車道との高さの差や車道内の分離帯や交通島の高さの差（概ね15㎝程度）とする。横断歩道への接続や車両の出入り等の目的で歩道に設けられた、歩道の切り下げ部では緩やかに車道の高さに擦り付ける（歩道切り下げ部と車道との間に生じる高さの差の表現は行わない）。

さらに、LOD3.3及びLOD3.4では、歩道切り下げ部と車道との高さの差（概ね2㎝程度）の表現を行う。なお、LOD3.4における高さの取得基準の下限値はユースケースにより決定できる。

**表 D-6 — 道路LOD3における「道路内の区分」**

| LOD3.0 | LOD3.1 | LOD3.2及びLOD3.3 | LOD3.4 |
| --- | --- | --- | --- |
| 車道部、車道交差部、島及び歩道部を区分する。 | LOD3.0の区分を細分する。車道部のうち、車線を区分する。 | LOD3.1の区分を細分する。歩道部のうち、植栽を区分する。 | LOD3.3の区分を細分する。細分はユースケースに応じて決定する。 |
| ![Image](images/tocD_img010.png) | ![Image](images/tocD_img011.png) | ![Image](images/tocD_img012.png) | ![Image](images/tocD_img013.png) |
| 注記D.2.2の注記青色着色している道路内の区分は、当該LODにおいて新たに区別ができるようになる区分である。 | ← | ← | ← |

LOD3において最も粗い「道路内の区分」では、道路を車道部、車道交差部、島及び歩道部に区分する。この区分はLOD3.0に適用され、区分の内容はLOD2.0と同様である。すなわち、LOD3.0は、LOD2.0に高さが付与されたデータとなる。LOD3.0では車道部内の車線は区別しない。また、歩道部には歩道上に存在する植栽も含まれる。LOD3.1は、LOD3.0の車道部のうち、車線を区分する。よって、車両が通行する範囲を明確にできる。次にLOD3.2及びLOD3.3は、LOD3.1の区分に加えて、歩道部のうち歩道上の植栽を区分する。すなわち、歩道においても、通行の用に供される部分を明確に区分できる。さらにLOD3.4では、道路の横断構成要素をさらに細分する。車道部のうち、路肩や停車帯等を区別したり、歩道を歩道や自転車歩行車道等に区別したりできる。LOD3.4における横断構成要素の取得基準の区分はユースケースごとに決定できる。

なお、LOD3.0は、航空写真等上空から取得したデータの利用を前提とした区分である。このとき、トンネル内や高架橋の下部等の遮蔽部は上空から取得したデータでは作成することができない。そのため、他の資料による補完又は、推定によるデータ作成をする必要がある。LOD3.1以上は、MMS（Mobile Mapping System）により取得した点群や画像等のデータの利用を前提とした区分である。

データ集合に、航空写真等による図化、他の資料による補完、推定による作図というように、作成方法が異なる道路オブジェクトが混在する場合は、データ品質属性（D.3.2.8）を使用し、個々の道路オブジェクトの品質情報を記述することで、それぞれの作成方法を明示できる。

ユースケースに応じて取得基準の区分又は下限値を決定してよい

## D.2.3 3D都市モデルに含むべき道路のLOD

**表 D-7 — D-2: 道路3Dモデルの幾何オブジェクト要件**

| ID | `/req/tran/2` |
| --- | --- |
| 主題 | 妥当な交通（道路）データセットの要件 |
| 分類 | 要件分類D-1: 妥当な交通（道路）オブジェクト |
| 条文 | 道路の3D都市モデルには、LOD1又はLOD2の幾何オブジェクトを必ず含む。 |

3D都市モデルに道路を含む場合には、幾何オブジェクトとして、LOD1又はLOD2を必ず記述しなければならない。また、ユースケースの必要に応じ、LOD0又はLOD3を記述することができる。

## D.3 tran:Road

tran:Roadは、道路の記述に使用する地物型である。

## D.3.1 道路の空間属性

tran:Roadの空間属性は、いずれのLODにおいても、同一のLODにおける道路の連続性を担保する必要がある。

**表 D-8 — D-3: tran:Roadの幾何座標一致条件**

| ID | `/req/tran/3` |
| --- | --- |
| 主題 | 妥当な交通（道路）データセットの要件 |
| 分類 | 要件分類D-1: 妥当な交通（道路）オブジェクト |
| 条文 | 連続するtran:Roadの幾何オブジェクトは、同一のLODにおいて、その境界の座標を一致させなければならない。 |

## D.3.1.1 LOD0

交通（道路）モデル（LOD0）では、道路の形状を、線として表現する。このとき、線は、ネットワーク（道路中心線）を基本とする。ただし、数値地形図データ（以下、DMデータ）との互換性を保つために、道路縁を選択できる。

LOD0において、道路の形状の線をネットワーク（道路中心線）として記述する場合、gml:GeometrixComplexの下位型であるgml:CompositeCurveを用いて記述する。このとき、gml:CompositeCurveに含む幾何オブジェクトは、gml:LineStringとする。gml:CompositeCurveに含まれるgml:LineString同士は交差してはならない。

**表 D-9 — D-4: LOD0 tran:Roadの交差禁止条件**

| ID | `/req/tran/4` |
| --- | --- |
| 主題 | 妥当な交通（道路）データセットの要件 |
| 分類 | 要件分類D-1: 妥当な交通（道路）オブジェクト |
| 条文 | LOD0におけるtran:Roadの空間属性に含まれるgml:LineStringは互いに交差してはならない。 |

これは、一つの交通（道路）オブジェクトに対して適用するものである。例えば、高架における上の道路と下の道路というように、異なる交通（道路）オブジェクトの空間属性が交差することを許容する。

## D.3.1.2 LOD1

交通（道路）モデル（LOD1）では、道路の形状を面として表現する。道路の横断方向の境界は道路縁となる。道路の延長方向は、以下の場所で区切る。

**表 D-10 — D-5: tran:Roadオブジェクトの区切り位置**

| ID | `/req/tran/5` |
| --- | --- |
| 主題 | 妥当な交通（道路）データセットの要件 |
| 分類 | 要件分類D-1: 妥当な交通（道路）オブジェクト |
| 条文 | tran:Roadのオブジェクトは、以下に示す場所で区切る。 |
| A | 交差部（四差路、多差路及び三差路） |
| B | 道路構造の変化点（uro:RoadStructureAttribute） |
| C | 位置正確度や取得方法が変わる場所（uro:RoadDataQualityAttribute） |

道路は、延長方向に連続して存在する地物であるため、データ作成者によって異なる区切り方になる可能性がある。そこで、標準製品仕様書では、道路を必ず区切るべき位置として、「交差部（四差路、多差路及び三差路）」「道路構造の変化点（トンネル、橋梁）」、及び「位置正確度や取得方法が変わる場所」を指定している。これらの位置では、必ず道路を区切らなければならない。

なお、ユースケースの必要に応じて、より詳細に区切ってもよい。（例：車線数が変わる場所で区切る）

## D.3.1.2.1 交差部（四差路、多差路及び三差路）での道路の区切り方

交差部での道路の区切り方は、以下に定義する優先順位で区切る。ただし、区切った交差部同士が重なる場合は、一つの交差部とする。なお、本手順書では道路が交差、分岐又は合流する場合において、ある道路の道路縁と他の道路縁とが接する点（道路角）を「接点」と呼ぶ。

- 隅切りのない四差路及び多差路
一つの道路において、道路縁の両側に接点が存在する場合は、接点を結んで道路を区切る。
- 隅切りのある四差路及び多差路
一つの道路において、道路縁の両側に隅切りが存在する場合は、隅切りの頂点を接点とし、接点を結んだ範囲を交差部とする。また、どちらか一方に隅切りが存在しない場合は、隅切りの頂点及び接点を結んだ範囲を交差部とする。
- 三差路
道路縁の片側にしか接点が存在しない道路が一つでもある場合（三差路）は、隅切りがある場合は隅切りの頂点を接点とし、全ての接点から垂線を引き区切る。隅切りがある場合や区切りが複数ある場合は、より外側の区切りを採用する。

![Image](images/tocD_img014.png)

![Image](images/tocD_img015.png)

![Image](images/tocD_img016.png)

![Image](images/tocD_img017.png)

![Image](images/tocD_img018.png)

![Image](images/tocD_img019.png)

## D.3.1.2.2 道路構造の変化点（トンネル、橋梁）での道路の区切り方

道路構造の変化点での道路の区切りは、トンネル、橋梁の図式を基に区切る。
区切り例：橋梁、高架橋、トンネル

![Image](images/tocD_img020.png)

区切り例：複雑な道路構造の場合の道路の区切り

![Image](images/tocD_img021.png)

## D.3.1.3 LOD2

交通（道路）モデル（LOD2）では、道路の形状を面として表現する。このとき、道路（tran:Road）は、横断構成要素であるtran:TrafficAreaとtran:AuxiliaryTrafficAreaに分解される。すなわち、tran:Roadの空間属性は、これを構成するtran:TrafficAreaとtran:AuxiliaryTrafficAreaの空間属性の集まりとなる。

**表 D-11 — D-6: LOD2 tran:Roadの空間属性一致条件**

| ID | `/req/tran/6` |
| --- | --- |
| 主題 | 妥当な交通（道路）データセットの要件 |
| 分類 | 要件分類D-1: 妥当な交通（道路）オブジェクト |
| 条文 | LOD2におけるtran:Roadの空間属性は、これを構成するtran:TrafficArea及びtran:AuxiliaryTrafficAreaの空間属性の集まりと一致しなければならない。 |

## D.3.1.4 LOD3

交通（道路）モデル（LOD3）では、道路の形状を面として表現する。このとき、道路（tran:Road）は、横断構成要素であるtran:TrafficAreaとtran:AuxiliaryTrafficAreaに分解される。すなわち、tran:Roadの空間属性は、これを構成するtran:TrafficAreaとtran:AuxiliaryTrafficAreaの空間属性の集まりとなる。

**表 D-12 — D-7: LOD3 tran:Roadの空間属性一致条件**

| ID | `/req/tran/7` |
| --- | --- |
| 主題 | 妥当な交通（道路）データセットの要件 |
| 分類 | 要件分類D-1: 妥当な交通（道路）オブジェクト |
| 条文 | LOD3におけるtran:Roadの空間属性は、これを構成するtran:TrafficArea及びtran:AuxiliaryTrafficAreaの空間属性の集まりと一致しなければならない。 |

## D.3.2 道路の主題属性

道路の主題属性には、あらかじめCityGML又はGMLにおいて定義された属性（接頭辞tran、gml）と、i-URにより拡張された属性（接頭辞uro）がある。CityGMLで定義された属性は、道路の機能など、基本的な情報となる。i-URにより拡張された属性には、道路構造に関する情報を格納するための属性（uro:RoadStructureAttribute、uro:TrafficAreaStructureAttribute）、交通量に関する情報を格納するための属性（uro:TrafficVolumeAttribute）、さらに、作成したデータの品質に関する情報を格納するための属性（uro:RoadDataQualityAttribute）がある。

## D.3.2.1 名称（gml:name）

道路の名称は、道路法に基づき路線が指定又は認定された路線名である。すなわち、政令や告示等による正式な路線名とする。

なお、高速自動車国道、一般国道、都道府県道については、全国道路・街路交通情勢調査（一般交通量調査）の箇所別基本表に路線名の記載があるので参考とできる。市町村道、建築基準法の道路（指定道路）は、市区町村の指定道路図に従う。

## D.3.2.2 機能（tran:function）

道路の機能は、道路法における道路の区分及び建築基準法における道路の区分である。道路法における道路の区分は、道路管理者より管内図や路線網図を入手し、作成する。また、建築基準法における道路の区分については市町村より指定道路図を入手し、作成する。

なお、tran:functionの定義域のうち、「高速自動車道」「一般国道」「都道府県道」「市町村道」は、道路法の区分に従っている。そのため、自動車専用道、一般国道自動車専用道及び都市高速道路（首都高速道路）は、一般国道、都道府県道又は市道（政令指定都市の場合）に区分される。

## D.3.2.3 用途（tran:usage）

道路の用途は、道路の利用方法であり、標準製品仕様書ではその区分として「緊急輸送道路」及び「避難道路」を定義している。これらは、自治体の地域防災計画に含まれる情報である。オープンデータとして「緊急輸送道路」及び「避難道路」のGISデータが公開されている場合は、これを利用してもよい。ただし、最新の地域防災計画の内容が反映されているか否かを確認の上、過不足があれば修正すること。

## D.3.2.4 道路の幅員（uro:widthType、uro:width）

uro:widthTypeは、道路の幅員を一定の長さで区分した属性である（表D-13）。

**表 D-13 — 幅員の区分**

| ファイル名 | RoadStructureAttribute_widthType.xml |
| --- | --- |
| ファイルURL | [https://www.geospatial.jp/iur/codelists/3.2/RoadStructureAttribute_widthType.xml](https://www.geospatial.jp/iur/codelists/3.2/RoadStructureAttribute_widthType.xml) |
| コード | 説明 |
| 1 | 15m以上 |
| 2 | 6m以上15m未満 |
| 3 | 4m以上6m未満 |
| 4 | 4m未満 |
| 出典： [都市計画基礎調査実施要領](https://www.mlit.go.jp/toshi/tosiko/kisotyousa001.html) | ← |

都市計画基礎調査において「道路の状況」として道路幅員が収集されている場合に、都市計画基礎調査のデータを用いてuro:widthTypeを作成する。都市計画基礎調査で収集されていない場合にはuro:widthTypeは作成しない。また、都市計画基礎調査で収集されたデータが表D-13に示す区分と異なる区分の場合は、拡張製品仕様書において収集されたデータに合わせたコードリストを作成し、この属性を作成する。

uro:widthは、道路の幅員値（実数値）である。都市計画基礎調査において、前述の幅員の区分だけではなく、幅員値が収集されている場合にはこれを用いてこの属性を作成する。都市計画基礎調査で収集されていない場合には、他の資料から収集又は道路の図形から算出する。想定される取得方法を以下に示す。

- 全国道路・街路交通量情勢調査（一般交通量調査）の値を採用する。
- 道路台帳に記載された幅員値を採用する。
- 道路の図形を用いてGIS上で平均幅員を算出する。

## D.3.2.5 車線数

uro:numberOfLanesは、上下線の合計（一方通行区間の場合を除く）の車線数である。道路構造令第2条第7号の登坂車線、同第2条第6号にいう付加追越車線、同第2条8号の屈折車線、同第2条第9号の変速車線及び同第2条第14号の停車帯、及びゆずり車線は車線数には含めない。また、「1車線道路」は道路構造令第5条1項ただし書きによって、車線により構成されない車道を持つ道路であるが、ここでは車線数＝1とする。「1車線道路」は車道幅員が5.5m未満の場合とする。
想定される取得方法を以下に示す。

- 都市計画基礎調査で収集されている場合は、これを使用する。
- 道路基盤地図情報より得られる場合はこれを使用する。
- 全国道路・街路交通量情勢調査（一般交通量調査）で収集されている場合はこれを使用する。

既存資料より得られない場合には、航空写真やMMSにより取得された画像や点群を用いて判読する。

## D.3.2.6 道路構造種別

uro:sectionTypeは、道路構造の種別である。交差点とそれ以外の区間、また、橋梁やトンネル、アンダーパスなど、道路構造物が存在する区間を区分する。
複数の道路構造の種別を持つ場合（高架内の交差部、アンダーパス内の交差部等）は、交差部を優先し入力する。

![Image](images/tocD_img022.png)

## D.3.2.7 交通量（uro:TrafficVolumeAttribute）

uro:TrafficVolumeAttributeは道路の交通量に関する情報である。
交通量は、全国道路・街路交通量情勢調査（一般交通量調査）より取得する。そのため、本属性が付与される道路は、全国道路・街路交通情勢調査(一般交通量調査)の対象となる高速自動車国道、都市高速道路、一般国道、主要地方道である都道府県道及び指定市の市道、一般都道府県道、指定市の一部の一般市道となる。

## D.3.2.8 道路のデータ品質属性（uro:tranDataQualityAttribute）

道路の3D都市モデルを作成する場合、既存のGISデータの変換、航空写真からの図化又はMMS等により取得した点群からの図化等、様々な手法が想定される。都市の大部分は航空写真測量によりデータ作成を行うが、高架橋の下部等、航空測量では取得できない場所をMMS測量により補完する又は航空測量では取得できない場所は既存の図面から推定するというように、一つの3D都市モデルの中に複数の手法が混在する可能性がある。また、同じ手法であっても元となる航空写真やレーザ点群の時点が異なる可能性もある。手法や原典資料が異なれば、データの品質も異なる。

3D都市モデルでは、データ集合全体としての品質はメタデータに記録する。しかしながら、メタデータでは、個々の都市オブジェクトに対して位置正確度や適用したLOD等の品質を記述することが困難である。

そこで、標準製品仕様書では、個々の都市オブジェクトに対してデータ品質に関する情報を記述するための属性として、「データ品質属性」（uro:DataQualityAttribute）を定義している。データ品質属性は、属性としてデータ作成に使用した原典資料の地図情報レベル、その他原典資料の諸元及び精緻化したLODをもつ。

3D都市モデルに含まれる全ての交通（道路）オブジェクトは、このデータ品質属性を必ず作成しなければならない。ただし、道路（tran:Road）に対してデータ品質属性を付与することはできるが、これを構成する交通領域（tran:TrafficArea）や交通補助領域（tran:AuxiliaryTrafficArea）にデータ品質属性を付与することはできない。

## D.3.2.9 施設管理のための属性

施設管理のための属性は、港湾施設及び漁港施設、河川管理施設や公園管理施設等の施設管理に必要な情報を定義した属性である。施設管理のための属性は以下のデータ型を用いて記述する。

## D.3.2.9.1 施設分類属性（uro:FacilityTypeAttribute）

uro:FacilityTypeAttributeは、各分野で定める施設の区分を記述するためのデータ型である。CityGMLは、地物型を物体としての性質に着目して定義し、機能や用途は属性で区分している。例えば、「道路（tran:Road）」という地物型を定義し、tran:functionにより「一般国道」や「都道府県道」などを区分している。これにより、都市に存在する様々な地物を、分野を問わず、網羅的に、かつ、矛盾が無く表現することを目指している。一方、各分野には独自の施設の区分がある。この区分は当該分野での施設管理に必要な情報であるが、CityGMLの地物型の区分とは一致しない。そこで、これらの地物型に分野独自の区分を付与するためにこのデータ型を用いる。uro:FacilityTypeAttributeは、二つの属性をもつ。uro:classは分野を特定するための属性である。またuro:functionは、uro:classにより特定した分野における施設の区分を示す。

標準製品仕様書では、港湾施設管理、漁港施設管理及び公園施設管理のそれぞれの分野についてはuro:functionの区分を示している。その他の分野における区分が必要となる場合はuro:classへの分野の追加も含め、拡張製品仕様書において追加できる。

## D.3.2.9.2 施設識別属性（uro:FacilityIdAttribute）

uro:FacilityIdAttributeは、施設の位置を特定する情報及び施設を識別する情報を記述するためのデータ型である。uro:FacilityIdAttributeは、施設を識別するための情報として、識別子（uro:id）や正式な名称以外の呼称（uro:alternativeName）に加え、施設の位置を示すための、都道府県（uro:prefecture）、市区町村（uro:city）及び開始位置の経緯度（uro:startLat、uro:startLong）を属性としてもつ。また、鉄道上や道路上の施設については、路線や距離標での位置特定のための属性（uro:route、uro:startPost、uro:endPost）を使用できる。

なお、河川管理施設の場合は、uro:FacilityIdAttributeを継承するuro:RiverFacilityIdAttributeを使用する。これにより、左右岸上での位置の情報を記述できる。

## D.3.2.9.3 施設詳細属性（uro:FacilityAttribute）

uro:FacilityAttributeは、各分野において施設管理に必要となる情報を記述するためのデータ型である。uro:FacilityAttributeは、抽象クラスであり、これを継承する具象となるデータ型に、施設の区分毎に必要となる情報を属性として定義している。

標準製品仕様書では、港湾施設、漁港施設及び公園施設について、細分した施設の区分ごとにデータ型を定義している。また、施設に関する工事や点検の状況や内容を記述するためのデータ型（uro:MaintenanceHistoryAttribute）を定義している。

## D.4 tran:TrafficArea

tran:TrafficAreaは、車道や歩道のように通行可能な領域（交通領域）を示す。CityGMLでは、地物型として車道や歩道は用意されておらず、tran:TrafficAreaの属性tran:functionを用いて区分する。3D都市モデルでは、LODに応じて交通領域を区分するために、LODごとに属性tran:functionの定義域を定めている。この定義域は、[道路基盤地図情報（整備促進版）製品仕様書（案）](https://www.nilim.go.jp/lab/bcg/siryou/tnn/tnn0848pdf/ks084811.pdf)において道路面を構成する地物の区分との整合を考慮している。

**表 D-14 — D-8: 交通領域の区分方法**

| ID | `/req/tran/8` |
| --- | --- |
| 主題 | 妥当な交通（道路）データセットの要件 |
| 分類 | 要件分類D-1: 妥当な交通（道路）オブジェクト |
| 条文 | LODに応じた交通領域の区分には、属性tran:functionを用いる。 |

LOD2及びLOD3.0では、交通領域は、車道部、車道交差部及び歩道部に区分する（表D-15）。

**表 D-15 — LOD2及びLOD3.0での交通領域の区分**

| ファイル名 | TrafficArea_function.xml | ← | ← | ← |
| --- | --- | --- | --- | --- |
| ファイルURL | [https://www.geospatial.jp/iur/codelists/3.2/TrafficArea_function.xml](https://www.geospatial.jp/iur/codelists/3.2/TrafficArea_function.xml) | ← | ← | ← |
| 大分類 | ← | 小分類 | ← | 定義 |
| コード | 説明 | コード | 説明 | ↑ |
| 1000 | 車道部 |  | ← | 主として自動車が利用する道路の部分。 |
| ↑ | ↑ | 1020 | 車道交差部 | 十字路、丁字路、その他二つ以上の車道が交わる部分。 |
| 2000 | 歩道部 |  | ← | 自転車や歩行者のために供される道路の部分。歩道上の植栽を含む。 |
| 出典： [道路基盤地図情報（整備促進版）製品仕様書（案）](https://www.nilim.go.jp/lab/bcg/siryou/tnn/tnn0848pdf/ks084811.pdf) | ← | ← | ← | ← |

車道部（コード1000）は、車道内の車道交差部（コード1020）以外の全ての部分となる。LOD2及びLOD3.0では、車道部には、車線だけではなく車線と一体的に舗装されている路肩や非常駐車帯のように、本来は車両の通行の用に供されない場所が含まれる。また、歩道部（コード2000）には、歩道上に設けられた植栽が含まれる。

LOD3.1では、LOD3.0の区分に加え、車道内の車線を区分する（表D-16）。車線を区分することで、車両が通行可能な範囲が明らかとなる。

**表 D-16 — LOD3.1での交通領域の区分**

| ファイル名 | TrafficArea_function.xml | ← | ← | ← |
| --- | --- | --- | --- | --- |
| ファイルURL | [https://www.geospatial.jp/iur/codelists/3.2/TrafficArea_function.xml](https://www.geospatial.jp/iur/codelists/3.2/TrafficArea_function.xml) | ← | ← | ← |
| 大分類 | ← | 小分類 | ← | 定義 |
| コード | 説明 | コード | 説明 | ↑ |
| 1000 | 車道部 |  | ← | 主として自動車が利用する道路の部分のうち、自動車の通行の用に供される部分。 |
| ↑ | ↑ | 1010 | 車線 | 一縦列の自動車を安全かつ円滑に通行させるために設けられる帯状の車道の部分。 |
| ↑ | ↑ | 1020 | 車道交差部 | 十字路、丁字路、その他二つ以上の車道が交わる部分。 |
| 2000 | 歩道部 |  | ← | 自転車や歩行者のために供される道路の部分。歩道上の植栽を含む。 |

なお、車道部（コード1000）は、車道内の車線（コード1010）、車道交差部（コード1020）以外の全ての部分となる。つまり、LOD3.0と同様に、車線と一体的に舗装されている路肩や非常駐車帯のような、本来は車両の通行の用に供されない場所が含まれる。また、歩道部には歩道上の植栽が含まれる。

LOD3.2及びLOD3.3では、LOD3.1の区分に加え、歩道上の植栽を区分する（表D-17）。歩道部から植栽の範囲が除かれることで、歩道上の通行可能な領域が明らかとなる。

**表 D-17 — LOD3.2及びLOD3.3での交通領域の区分**

| ファイル名 | TrafficArea_function.xml | ← | ← | ← |
| --- | --- | --- | --- | --- |
| ファイルURL | [https://www.geospatial.jp/iur/codelists/3.2/TrafficArea_function.xml](https://www.geospatial.jp/iur/codelists/3.2/TrafficArea_function.xml) | ← | ← | ← |
| 大分類 | ← | 小分類 | ← | 定義 |
| コード | 説明 | コード | 説明 | ↑ |
| 1000 | 車道部 |  | ← | 主として自動車が利用する道路の部分のうち、自動車の通行の用に供される部分。 |
| ↑ | ↑ | 1010 | 車線 | 一縦列の自動車を安全かつ円滑に通行させるために設けられる帯状の車道の部分。 |
| ↑ | ↑ | 1020 | 車道交差部 | 十字路、丁字路、その他二つ以上の車道が交わる部分。 |
| 2000 | 歩道部 |  | ← | 自転車や歩行者のために供される道路の部分。植栽を含まない。 |
| 出典： [道路基盤地図情報（整備促進版）製品仕様書（案）](https://www.nilim.go.jp/lab/bcg/siryou/tnn/tnn0848pdf/ks084811.pdf) | ← | ← | ← | ← |

車道部（コード1000）は、車道内の車線（コード1010）、車道交差部（コード1020）以外の全ての部分となる。

さらに、LOD3.4では、より詳細に道路内を区分できる（表D-18）。この区分は、[道路基盤地図情報（整備促進版）製品仕様書（案）](https://www.nilim.go.jp/lab/bcg/siryou/tnn/tnn0848pdf/ks084811.pdf)において道路面を構成する地物の区分に一致する。どこまで詳細な区分を行うかは、ユースケースに応じて決定してよい。

**表 D-18 — LOD3.4での交通領域の区分**

| ファイル名 | TrafficArea_function.xml | ← | ← | ← |
| --- | --- | --- | --- | --- |
| ファイルURL | [https://www.geospatial.jp/iur/codelists/3.2/TrafficArea_function.xml](https://www.geospatial.jp/iur/codelists/3.2/TrafficArea_function.xml) | ← | ← | ← |
| 大分類 | ← | 小分類 | ← | 定義 |
| コード | 説明 | コード | 説明 | ↑ |
| 1000 | 車道部 |  | ← | 主として自動車が利用する道路の部分のうち、自動車の通行の用に供される部分。車線やすりつけ区間等区分されている以外の場所を全て車道部として取得する。 |
| ↑ | ↑ | 1010 | 車線 | 一縦列の自動車を安全かつ円滑に通行させるために設けられる帯状の車道の部分。 |
| ↑ | ↑ | 1020 | 車道交差部 | 十字路、丁字路、その他二つ以上の車道が交わる部分。 |
| ↑ | ↑ | 1030 | すりつけ区間 | 車線の数が増加もしくは減少する、又は道路が接続する場合に設けられる車道の部分。 |
| ↑ | ↑ | 1040 | 踏切道 | 鉄道と交差する道路の部分。 |
| ↑ | ↑ | 1050 | 軌道敷 | 路面電車が走行する道路の部分。 |
| ↑ | ↑ | 1070 | 待避所 | 一車線の道路において、車両のすれ違いのために車道の幅員を拡げる部分。 |
| ↑ | ↑ | 1130 | 副道 | 道路の構造により沿道との出入りが妨げられる場合に、沿道への出入りを確保するために本線車道に並行して設置される道路。 |
| 2000 | 歩道部 |  | ← | 自転車や歩行者のために供される道路の部分。 |
| ↑ | ↑ | 2010 | 自転車歩行者道 | 自転車及び歩行者の通行の用に供される道路の部分。 |
| ↑ | ↑ | 2020 | 歩道 | 歩行者の通行の用に供される道路の部分。 |
| ↑ | ↑ | 2030 | 自転車道 | 自転車の通行の用に供される道路の部分。 |
| 6000 | 自転車駐車場 |  | ← | 自転車駐車場のうち、走路部分。 |
| 7000 | 自動車駐車場 |  | ← | 自動車駐車場のうち、走路部分。 |
| 出典： [道路基盤地図情報（整備促進版）製品仕様書（案）](https://www.nilim.go.jp/lab/bcg/siryou/tnn/tnn0848pdf/ks084811.pdf) | ← | ← | ← | ← |

車道部（コード1000）は、車道内の通行可能な範囲のうち、車線（コード1010）や車道交差部（コード1020）等、細分された道路の範囲以外の全てとなる。例えば、車両が転回するために設けられた、中央分離帯の切れ目などの部分がこれに該当する。

## D.4.1 交通領域の空間属性

道路面は一体的な面であり、その一体的な面を機能により交通領域や交通補助領域に区分している。そのため、道路を構成する交通領域は、他の交通領域や交通補助領域と重なることはない。また、道路を構成する交通領域は、隣接する他の交通領域や交通補助領域と隙間が空いていてはならない。

**表 D-19 — D-9: tran:TrafficAreaの重なり禁止条件**

| ID | `/req/tran/9` |
| --- | --- |
| 主題 | 妥当な交通（道路）データセットの要件 |
| 分類 | 要件分類D-1: 妥当な交通（道路）オブジェクト |
| 条文 | 同一のtran:Roadに含まれるtran:TrafficAreaの空間属性は、他のtran:TrafficAreaやtran:AuxiliaryTrafficAreaの空間属性と重なってはならない。また、同一のtran:Roadに含まれるtran:TrafficAreaの空間属性は、隣接するtran:TrafficAreaやtran:AuxiliaryTrafficAreaの空間属性と、境界線の座標が一致しなければならない。 |

ただし、立体交差を2次元で表現する場合には空間属性が互いに重なってしまう。空間属性の重なりが妥当であるのか否かを判定するために、立体交差では必ず道路のインスタンスを分けなければならない。

## D.4.2 交通領域の主題属性

## D.4.2.1 機能（tran:function）

tran:functionは、区画線や路面標示、道路標識等により示された交通領域の機能であり、歩道や車道、分離帯のように、道路を横断方向に区分する属性である。

道路基盤地図情報が得られる場合にはこれが利用できる。道路基盤地図情報が得られない場合、LOD3.0までは道路台帳から取得できる。また、LOD3.1以上では航空写真やMMSから取得した画像や点群からの判読が必要となる。

## D.4.2.2 表面材質（tran:surfaceMaterial）

tran:surfaceMaterialは、表層舗装の有無及び材質である。同一の交通領域内に複数の表層舗装が混在している場合は、最も面積を占める表層舗装の材質とする。

舗装の材質は、工事完成図書、道路台帳又は現地調査により取得できる。ただし、埋設物管理に伴う掘削や車両乗り入れ口の設置に伴う歩道の切り下げ等の部分的な舗装工事が行われることが多く、最新の状態を把握可能な資料を網羅的に収集することは難しいこと、また、現地調査により最新の状態を把握できるが、広域を対象とする場合にはコストがかかることに注意が必要である。

## D.4.2.3 車線数（uro:numberOfLanesInArea）

uro:numberOfLanesInAreaは、交通領域内の車線数である。分離帯により上下が分離されている場合、この属性は当該交通領域（上り又は下り）に含まれる車線の合計数となる。
想定される取得方法を以下に示す。

- 都市計画基礎調査で収集されている場合は、これを使用する。
- 道路基盤地図情報より得られる場合は、これを使用する。
- 全国道路・街路交通量情勢調査（一般交通量調査）で収集されている場合は、これを使用する。

既存資料より得られない場合には、航空写真やMMSから取得した画像や点群を用いて判読する。
車線数は交通領域が車線に分離されていないLOD2及びLOD3.0において、車線数を把握したい場合に、車道部に対して作成する属性である。

## D.5 tran:AuxiliarlyTrafficArea

tran:AuxiliaryTrafficAreaは、植樹帯や分離帯のように交通領域の機能を補助するために設けられた領域（交通補助領域）を示す。通常は、車両や人の通行には用いられない領域である。CityGMLでは、地物型として植樹帯や分離帯は用意されておらず、属性tran:functionを用いて区分する。3D都市モデルでは、LODに応じて交通補助領域を区分するために、LODごとに属性tran:functionの定義域を定めている。なお、この定義域は、[道路基盤地図情報（整備促進版）製品仕様書（案）](https://www.nilim.go.jp/lab/bcg/siryou/tnn/tnn0848pdf/ks084811.pdf)において道路面を構成する地物の区分との整合を考慮している。

**表 D-20 — D-10: 交通補助領域の区分方法**

| ID | `/req/tran/10` |
| --- | --- |
| 主題 | 妥当な交通（道路）データセットの要件 |
| 分類 | 要件分類D-1: 妥当な交通（道路）オブジェクト |
| 条文 | LODに応じた交通補助領域の区分には、属性tran:functionを用いる。 |

LOD2、LOD3.0及びLOD3.1では、交通補助領域は、分離帯や交通島のように道路上に設けられた構造物を区分する（表D-21）。

**表 D-21 — LOD2、LOD3.0及びLOD3.1での交通補助領域の区分**

| ファイル名 | AuxiliaryTrafficArea_function.xml | ← |
| --- | --- | --- |
| ファイルURL | [https://www.geospatial.jp/iur/codelists/3.2/AuxiliaryTrafficArea_function.xml](https://www.geospatial.jp/iur/codelists/3.2/AuxiliaryTrafficArea_function.xml) | ← |
| 大分類 | ← | 定義 |
| コード | 説明 | ↑ |
| 3000 | 島 | 車両の走行を制御し、安全な交通を確保するために設置される分離帯及び交通島。路面電車停車所が設けられた島を含む。 |

LOD3.2及びLOD3.3では、分離帯や交通島のように道路上に設けられた構造物に加え、歩道上の植栽を区分する（表D-22）。

**表 D-22 — LOD3.2及びLOD3.3での交通補助領域の区分**

| ファイル名 | AuxiliaryTrafficArea_function.xml | ← |
| --- | --- | --- |
| ファイルURL | [https://www.geospatial.jp/iur/codelists/3.2/AuxiliaryTrafficArea_function.xml](https://www.geospatial.jp/iur/codelists/3.2/AuxiliaryTrafficArea_function.xml) | ← |
| 大分類 | ← | 定義 |
| コード | 説明 | ↑ |
| 3000 | 島 | 車両の走行を制御し、安全な交通を確保するために設置される分離帯及び交通島。路面電車停車所が設けられた島を含む。 |
| 5000 | 植栽 | 植樹帯及び植樹ます。 |

LOD3.4では、より詳細に道路内を区分できる（表D-23）。この区分は、[道路基盤地図情報（整備促進版）製品仕様書（案）](https://www.nilim.go.jp/lab/bcg/siryou/tnn/tnn0848pdf/ks084811.pdf)において道路面を構成する地物の区分と整合する。
 LOD3.4の区分をどこまで詳細に行うかは、ユースケースに応じて決定してよい。

**表 D-23 — LOD3.4での交通補助領域の区分**

| ファイル名 | AuxiliaryTrafficArea_function.xml | ← | ← | ← |
| --- | --- | --- | --- | --- |
| ファイルURL | [https://www.geospatial.jp/iur/codelists/3.2/AuxiliaryTrafficArea_function.xml](https://www.geospatial.jp/iur/codelists/3.2/AuxiliaryTrafficArea_function.xml) | ← | ← | ← |
| 大分類コード | 大分類定義 | 小分類コード | 小分類定義 | 定義 |
| 1000 | 車道部 |  | ← | 主として自動車が利用する道路の部分のうち、自動車の通行の用に供されない（物理的に通行が可能であっても、道路設計上、車両が通行することが想定されていない）を部分。非常駐車帯や中央帯の区分が不要な場合には、通行が想定されていない範囲を全て車道部として取得する。 |
| ↑ | ↑ | 1060 | 非常駐車帯 | 左側路肩に設けられる、故障車等が本線車線から退避し一時的に駐車するための道路の部分。 |
| ↑ | ↑ | 1080 | 中央帯 | 車線を往復の方向別に区分するための道路の部分。 |
| ↑ | ↑ | 1090 | 側帯 | 運転者の視線を誘導し、側方余裕をもたせるため、路肩及び中央帯にも受けられる道路の部分。 |
| ↑ | ↑ | 1100 | 路肩 | 道路の主要構造を保護し、車道の機能を確保するため、車道部や歩道部に連続して設置される道路の部分。 |
| ↑ | ↑ | 1110 | 停車帯 | 車両が停車するために設けられる道路の部分。 |
| ↑ | ↑ | 1120 | 乗合自動車停車所 | バス乗客の乗降のため、本線車線から分離しても受けられる道路の部分。 |
| 3000 | 島 |  | ← | 交通島、分離帯の区分が不要な場合は、島として取得する。 |
| ↑ | ↑ | 3010 | 交通島 | 車両の走行を制御し歩行者を保護するために設置される島状の道路の部分。 |
| ↑ | ↑ | 3020 | 分離帯 | 同方向又は対方向の交通流を分離するために設置される島状の道路の部分。 |
| 4000 | 路面電車停車所 |  | ← | 路面電車の乗降、待合のための停留場として利用される島状の部分。 |
| 5000 | 植栽 |  | ← | 植樹帯、植樹ますの区分をしない場合には全て植栽として取得する。 |
| ↑ | ↑ | 5010 | 植樹帯 | 植栽のために工作物により区切られる道路の帯状の部分。 |
| ↑ | ↑ | 5020 | 植樹ます | 歩道上に設置される植栽のためのます。 |
| 6000 | 自転車駐車場 |  | ← | 自転車駐車場のうち、駐車区画の部分。 |
| 7000 | 自動車駐車場 |  | ← | 自動車駐車場のうち、駐車区画の部分。 |

## D.5.1 交通補助領域の空間属性

tran:AuxiliaryTrafficAreaも、道路面を構成する要素であるため、tran:TrafficAreaと同様の要件を満たす必要がある。

**表 D-24 — D-11: tran:AuxiliaryTrafficAreaの重なり禁止条件**

| ID | `/req/tran/11` |
| --- | --- |
| 主題 | 妥当な交通（道路）データセットの要件 |
| 分類 | 要件分類D-1: 妥当な交通（道路）オブジェクト |
| 条文 | 同一のtran:Roadに含まれるtran:AuxiliaryTrafficAreaの空間属性は、他のtran:TrafficAreaやtran:AuxiliaryTrafficAreaの空間属性と重なってはならない。また、同一のtran:Roadに含まれるtran:AuxiliaryTrafficAreaの空間属性は、隣接するtran:TrafficAreaやtran:AuxiliaryTrafficAreaの空間属性と、境界線を共有しなければならない。 |

## D.5.2 交通補助領域の主題属性

交通補助領域の主題属性であるtran:function及びtran:surfaceMaterialについては、交通領域と同様である。

## D.6 標準的な作業手順

各LODの幾何オブジェクトを作成する際の標準的な作業手順及び作業上の留意事項を示す。

## D.6.1 幾何オブジェクトの作成

作成に必要となる原典資料を表D-25に示す。

**表 D-25 — 原典資料一覧**

|  | 水平位置 | 高さ | 交通領域・交通補助領域の区分 |
| --- | --- | --- | --- |
| LOD0 | 都市計画基本図等のDMデータ | ― | ― |
| LOD1 | 以下のいずれかのデータを一つ以上使用する。都市計画基本図等のDMデータ航空写真 | ― | ― |
| LOD2 | 以下のいずれかのデータを一つ以上使用する。都市計画基本図等のDMデータ航空写真 | ― | 以下のいずれかのデータを一つ以上使用する。都市計画基本図等のDMデータ航空写真MMS画像MMS点群地上レーザ点群LidarSLAM点群 |
| LOD3.0 | 以下のいずれかのデータを一つ以上使用する。都市計画基本図等のDMデータ航空写真MMS点群地上レーザ点群LidarSLAM点群 | 以下のいずれかのデータを一つ以上使用する。航空写真から作成した点群航空レーザ点群MMS点群地上レーザ点群LidarSLAM点群 | 以下のいずれかのデータを一つ以上使用する。都市計画基本図等のDMデータ航空写真MMS画像MMS点群地上レーザ点群LidarSLAM点群 |
| LOD3.1 | 以下のいずれかのデータを一つ以上使用する。航空写真MMS点群地上レーザ点群LidarSLAM点群 | 以下のいずれかのデータを一つ以上使用する。航空写真から作成した点群航空レーザ点群MMS点群地上レーザ点群LidarSLAM点群 | 以下のいずれかのデータを一つ以上使用する。都市計画基本図等のDMデータ航空写真MMS画像MMS点群地上レーザ点群LidarSLAM点群 |
| LOD3.2 | 以下のいずれかのデータを一つ以上使用する。航空写真MMS点群地上レーザ点群LidarSLAM点群 | 以下のいずれかのデータを一つ以上使用する。航空レーザ点群MMS点群地上レーザ点群LidarSLAM点群 | 以下のいずれかのデータを一つ以上使用する。都市計画基本図等のDMデータ航空写真MMS画像MMS点群地上レーザ点群LidarSLAM点群 |
| LOD3.3 | 以下のいずれかのデータを一つ以上使用する。航空写真MMS点群地上レーザ点群LidarSLAM点群 | 以下のいずれかのデータを一つ以上使用する。MMS点群地上レーザ点群 | 以下のいずれかのデータを一つ以上使用する。都市計画基本図等のDMデータ航空写真MMS画像MMS点群地上レーザ点群LidarSLAM点群 |
| LOD3.4 | 以下のいずれかのデータを一つ以上使用する。航空写真MMS点群地上レーザ点群LidarSLAM点群 | 以下のいずれかのデータを一つ以上使用する。MMS点群地上レーザ点群 | 以下のいずれかのデータを一つ以上使用する。都市計画基本図等のDMデータ航空写真MMS画像MMS点群地上レーザ点群LidarSLAM点群 |

## D.6.1.1 LOD0

## D.6.1.1.1 原典資料

**表 D-26 — LOD0の原典資料**

|  | 水平位置 | 高さ | 交通領域・交通補助領域の区分 |
| --- | --- | --- | --- |
| LOD0 | 都市計画基本図等のDMデータ | ― | ― |

## D.6.1.1.2 作業手順

- 都市計画基本図等のDMデータから道路縁を取得する。
- ネットワーク （道路中心線）を採用する場合は、左右の道路縁から等距離となる点をつないだ線分を取得する。数値地形図との互換性を保つために道路縁をLOD0として採用する場合は公共測量標準図式に従う。

![Image](images/tocD_img023.png)

## D.6.1.2 LOD1

## D.6.1.2.1 原典資料

**表 D-27 — LOD1の原典資料**

|  | 水平位置 | 高さ | 交通領域・交通補助領域の区分 |
| --- | --- | --- | --- |
| LOD1 | 以下のいずれかのデータを一つ以上使用する。都市計画基本図等のDMデータ航空写真 | ― | ― |

## D.6.1.2.2 作業手順

- 都市計画基本図等のDMデータから道路縁を取得する。
- 道路縁をつないだ面を作成する。
ただし、交差部、道路構造が変化する場所及び位置正確度又は取得方法が変わる場所で区切る。 
交差部の区切り方は要件D-5に従う。

![Image](images/tocD_img024.png)

交通（道路）モデル（LOD1）の作成例を図D-13に示す。交通（道路）モデルは、交差部、道路構造が変化する場所及び位置正確度又は取得方法が変わる場所で区切るが、この例に示す範囲では道路構造が変化する場所及び位置正確度又は取得方法が変わる場所が無く、交差部のみで区切られている。

![Image](images/tocD_img025.png)

## D.6.1.3 LOD2

## D.6.1.3.1 原典資料

**表 D-28 — LOD2の原典資料**

|  | 水平位置 | 高さ | 交通領域・交通補助領域の区分 |
| --- | --- | --- | --- |
| LOD2 | 以下のいずれかのデータを一つ以上使用する。都市計画基本図等のDMデータ航空写真 | ― | 以下のいずれかのデータを一つ以上使用する。都市計画基本図等のDMデータ航空写真MMS画像MMS点群地上レーザ点群LidarSLAM点群 |

## D.6.1.3.2 作業手順

- 航空写真又は点群データを参考に、交通（道路）モデル（LOD1）を車道部、車道交差部、歩道部及び島に区分する。
- 車道交差部は、隅切りがある場合は、隅切りに囲まれた車道部を取得する。隅切りがない場合は、交差する道路の道路縁が接する点で結ばれた線に囲まれた車道部を取得する。

![Image](images/tocD_img026.png)

交通（道路）モデル（LOD2）の作成イメージを以下に示す。

![Image](images/tocD_img027.png)

## D.6.1.4 LOD3.0

## D.6.1.4.1 原典資料

**表 D-29 — LOD3.0の原典資料**

|  | 水平位置 | 高さ | 交通領域・交通補助領域の区分 |
| --- | --- | --- | --- |
| LOD3.0 | 以下のいずれかのデータを一つ以上使用する。都市計画基本図等のDMデータ航空写真MMS点群地上レーザ点群LidarSLAM点群 | 以下のいずれかのデータを一つ以上使用する。航空写真から作成した点群航空レーザ点群MMS点群地上レーザ点群LidarSLAM点群 | 以下のいずれかのデータを一つ以上使用する。都市計画基本図等のDMデータ航空写真MMS画像MMS点群地上レーザ点群LidarSLAM点群 |

## D.6.1.4.2 作業手順

- 点群データを参考に、交通（道路）モデル（LOD2）に高さを付与する。付与する高さは道路の横断方向に一律の高さとし、車道の高さとする。
交通領域・及び交通補助領域の区分は交通（道路）モデル（LOD2）と同様である。

交通（道路）モデル（LOD3.0）の作成例を図D-16に示す。図D-16は、交通（道路）モデル（LOD3.0）に交通（道路）モデル（LOD2）を重畳している。交通（道路）モデル（LOD2）は高さをもたないが、交通（道路）モデル（LOD3.0）は高さをもつ。結果として、交通（道路）モデル（LOD3.0）が浮いて見えている。

![Image](images/tocD_img028.png)

![Image](images/tocD_img029.png)

## D.6.1.5 LOD3.1

## D.6.1.5.1 原典資料

**表 D-30 — LOD3.1の原典資料**

|  | 水平位置 | 高さ | 交通領域・交通補助領域の区分 |
| --- | --- | --- | --- |
| LOD3.1 | 以下のいずれかのデータを一つ以上使用する。航空写真MMS点群地上レーザ点群LidarSLAM点群 | 以下のいずれかのデータを一つ以上使用する。航空写真から作成した点群航空レーザ点群MMS点群地上レーザ点群LidarSLAM点群 | 以下のいずれかのデータを一つ以上使用する。都市計画基本図等のDMデータ航空写真MMS画像MMS点群地上レーザ点群LidarSLAM点群 |

## D.6.1.5.2 作業手順

- 三次元図化により道路縁を新規に取得する。三次元図化はMMS点群を基本とする。周辺環境によって航空写真から図化できる場合もあるが、道路縁に数十㎝程度のずれが生じる可能性がある。また航空写真から図化する場合、立体交差部は現地補足が必要となる。
- 航空写真又は点群データを参考に、交差部、道路構造が変化する場所及び位置正確度や取得方法が変わる場所で区切る。このとき交差部は、停止線がある場合は停止線の延長で区切り取得する。停止線がない場合は、要件tran-5に従い区切る。
- 航空写真又は点群データを参考に、b）で作成した道路縁をつないだ面を車道部、車道交差部、歩道部及び島に区分する。
- 航空写真又は点群データを参考に、区画線を判読し、車道内の車線を区分する。

![Image](images/tocD_img030.png)

LOD3.1では、停止線がある場合はtran:Roadを停止線の延長で区切る。一方、LOD1及びLOD2では、tran:Roadを隅切りや交差する道路の道路縁が接する点で区切る。これにより、LOD1及びLOD2で作成したtran:Roadの形状と、LOD3.1で作成した面の形状は異なる。しかしながら、LOD3.1で作成した面が、LOD1及びLOD2で作成した面が同一のtran:Roadの幾何オブジェクトだと判断できる場合は、当該LOD1及びLOD2の面を空間属性としてもつtran:Roadの空間属性として作成したLOD3.1の面を扱う（すなわち、当該tran:Roadのtran:lod3MultiSurfaceとする）。

![Image](images/tocD_img031.png)

交通（道路）モデル（LOD3.1）の作成例を以下に示す。LOD3.1では車線が区分される。

![Image](images/tocD_img032.png)

## D.6.1.6 LOD3.2

## D.6.1.6.1 原典資料

**表 D-31 — LOD3.2の原典資料**

|  | 水平位置 | 高さ | 交通領域・交通補助領域の区分 |
| --- | --- | --- | --- |
| LOD3.2 | 以下のいずれかのデータを一つ以上使用する。航空写真MMS点群地上レーザ点群LidarSLAM点群 | 以下のいずれかのデータを一つ以上使用する。航空レーザ点群MMS点群地上レーザ点群LidarSLAM点群 | 以下のいずれかのデータを一つ以上使用する。都市計画基本図等のDMデータ航空写真MMS画像MMS点群地上レーザ点群LidarSLAM点群 |

## D.6.1.6.2 作業手順

- LOD3.1モデルから、航空写真又は点群データを参考に歩道内の植栽を区分する。
- LOD3.1.モデルから、点群データを参考に15cm以上の段差を表現する。

![Image](images/tocD_img033.png)

交通（道路）モデル（LOD3.2）の作成例を図D-20に示す。LOD3.2では、歩道上の植栽が 区分される。

![Image](images/tocD_img034.png)

交通（道路）モデル（LOD3.2）の作成については、以下の技術レポートを参考にできる。

［出典： [PLATEAU Technical Report #03](https://www.mlit.go.jp/plateau/file/libraries/doc/plateau_tech_doc_0003_ver01.pdf)]

## D.6.1.7 LOD3.3

## D.6.1.7.1 原典資料

**表 D-32 — LOD3.3の原典資料**

|  | 水平位置 | 高さ | 交通領域・交通補助領域の区分 |
| --- | --- | --- | --- |
| LOD3.3 | 以下のいずれかのデータを一つ以上使用する。航空写真MMS点群地上レーザ点群LidarSLAM点群 | 以下のいずれかのデータを一つ以上使用する。MMS点群地上レーザ点群 | 以下のいずれかのデータを一つ以上使用する。都市計画基本図等のDMデータ航空写真MMS画像MMS点群地上レーザ点群LidarSLAM点群 |

## D.6.1.7.2 作業手順

- LOD3.2モデルから、点群データを参考に2cm以上の段差を表現する。

![Image](images/tocD_img035.png)

## D.6.1.8 LOD3.4

## D.6.1.8.1 原典資料

**表 D-33 — LOD3.4の原典資料**

|  | 水平位置 | 高さ | 交通領域・交通補助領域の区分 |
| --- | --- | --- | --- |
| LOD3.4 | 以下のいずれかのデータを一つ以上使用する。航空写真MMS点群地上レーザ点群LidarSLAM点群 | 以下のいずれかのデータを一つ以上使用する。MMS点群地上レーザ点群 | 以下のいずれかのデータを一つ以上使用する。都市計画基本図等のDMデータ航空写真MMS画像MMS点群地上レーザ点群LidarSLAM点群 |

## D.6.1.8.2 作業手順

- LOD3.3モデルから、ユースケースに応じてtran:TrafficArea及びtran:AuxiliaryTrafficAreaの属性tran:functionの区分を細分化する。

## D.6.2 作業上の留意事項

## D.6.2.1 道路と建築物の間の表現

建築物の出入り口につながる導入路であるアプローチや、建築物の周辺をコンクリートや砂利で施工された空間（「犬走り」と呼ぶ）は、道路ではなく、tran:Track（徒歩道）として取得する（図D-24）。これは、アプローチや犬走りが建築物の敷地の一部であるからである。

![Image](images/tocD_img036.png)

## D.6.2.2 道路の立体交差の表現

道路の立体交差を表現する場合は、高架橋の道路と交差する下の道路も面として取得する。

立体交差を2次元で表現する場合には、空間属性の重なりが妥当であるのか否かを判定するために、立体交差では必ず道路のインスタンスを分けなければならない。

## D.6.2.3 uro:sectionType（道路構造の種別）の入力基準

道路構造の種別は下記の入力基準に従い入力する。

- 橋梁、高架橋、トンネル又はアンダーパス以外は「土工区間・通常区間」とする。
- アンダーパスかどうか判断できない箇所は「土工区間・通常区間」とする。

## D.6.2.4 道路と徒歩道の接合部の表現

道路と徒歩道（tran:Track）の接合する場所で、道路は区切らない。

![Image](images/tocD_img037.png)

なお、図D-24は交通（道路）モデル（LOD2）又は交通（道路）モデル（LOD3）の図であるが、交通（道路）モデル（LOD1）の場合も同様に区切る必要はない（図D-26）。

![Image](images/tocD_img038.png)

## D.6.2.5 車道交差部と歩道部の機能を両方もつ場合の交通領域の機能の入力の優先順位

LOD2又はLOD3を作成する際に、歩道部であるが車両が通行できる交通領域が存在する場合（図D-26）がある。このような交通領域の機能（tran:function）は、車道交差部とすることを基本とする。その際は、歩道部の境界線を用いて車道交差部を二つに分ける。

ただし、ユースケースにおいて歩道部の連続性が必要である場合は交通領域の機能（tran:function）を歩道部とできる。

![Image](images/tocD_img039.png)

## D.6.2.6 TrafficArea、AuxiliaryTrafficAreaを構成するMultiSurfaceの作成単位

TrafficArea、AuxiliaryTrafficAreaを構成するMultiSurfaceは同一機能（車道部、歩道部など）となるSurfaceの集まりを1つのMultiSurfaceとして作成する。

ただし、機能が車線となる場合、隣接する別の車線とも同一機能が連続するが、車線ごとに区別する必要があるため、別々のTrafficAreaとして作成する。

また、同一機能を有するSurfaceが連続していない場合は、別々のTrafficArea、AuxiliaryTrafficAreaとしてよい。

![Image](images/tocD_img040.png)

