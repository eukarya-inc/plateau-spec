# C.3.2 建築物の主題属性

## C.3.2 建築物の主題属性

bldg:Buildingの主題属性には、あらかじめCityGML又はGMLにおいて定義された属性（接頭辞bldg、gml）と、i-URにより拡張された属性（接頭辞uro）がある。CityGMLで定義された属性は、建築物の用途や階数など、基本的な情報となる。i-URにより拡張された属性には、建築物を識別するための属性（uro:BuildingIDAttribute）、都市計画基礎調査において収集された詳細な情報を格納するための属性（uro:BuildingDetailAttribute、uro:LargeCustomerFacilityAttribute）、災害リスク情報を格納するための属性（uro:BuildingDisasterRiskAttribute）、作成したデータの品質に関する情報を格納するための属性（uro:DataQualityAttribute）、建築物が存在する土地及び建築物に紐づく不動産IDを格納するための属性（uro:RealEstateIDAttribute）などがある。また、拡張製品仕様においてコード型の属性を追加した場合には、主題属性としてuro:KeyValuePairAttributeが含まれる。

さらに、特定分野での施設管理に使用する属性として、施設区分に関する属性（uro:FacilityTypeAttribute）、その分野における施設の位置や識別に関する属性（uro:FacilityIdAttribute）、その分野における施設の詳細な属性（uro:FacilityAttribute）をもつことができる。また、公共測量標準図式に従った表現に必要となる属性（uro:bldgDmAttribute）をもってもよい。

## C.3.2.1 名称（gml:name）

bldg:Buildingの属性gml:nameは、建築物の名称である。建築物の名称は、建築物を検索したり、地図上での位置を特定したりするために使用することができる有益な情報である。そのため、公共施設やランドマークについては、可能な限り名称を付与することが望ましい。

公共施設の名称については、原典資料として[国土数値情報（公共施設データ）](https://nlftp.mlit.go.jp)がある。またモデル整備主体となる基礎自治体にから主要な公共施設のリストを入手することも考えられる。

## C.3.2.2 用途（bldg:usage）

bldg:Buildingの属性bldg:usageは、建築物の主な用途である。
用途の区分は都市によって異なる場合が多いが、複数の都市間を定量的に比較したい場合には区分が統一されていることが望ましい。そこで、bldg:Buildingの属性bldg:usageには、統一的な区分として、 [都市計画基礎調査実施要領](https://www.mlit.go.jp/toshi/tosiko/kisotyousa001.html)において示された建物利用現況の用途の区分を採用する。

なお、都市ごとの独自の区分を建築物の属性として3D都市モデルに含める場合には、
 uro:BuildingDetailAttribute（ C.3.2.6）に定義された
 uro:majorUsage、uro:orgUsage等の属性（ C.3.2.7）を用いる。

## C.3.2.3 計測高さ（bldg:measuredHeight）

建築物の属性「計測高さ」は、「計測により得られた建築物の地上の最低点から最高点までの高さ」である。その取得方法には、①地上測量による直接計測、②航空写真測量による直接計測、③航空写真測量・数値表層モデル（DSM：Digital Surface Model）による間接計測、④航空レーザ測量・DSMによる間接計測等、様々な方法が存在する。このうち、③及び④の方法により取得する場合、DSMには、建築物の屋根以外を計測した点（以下、「ノイズ」と称す）が含まれる（図C-16）。
そのため、このノイズを除去したうえで、建築物の最高点までの高さを取得する必要がある。

![Image](images/tocC_03_02_img001.png)

ノイズを除去する場合、最高値から一定の割合（例：5%）を除去する、又は標準偏差の2σに含まれない点群を除去するというように閾値を設定しなければならない。しかしながら原典資料の状態や対象地域の地形により点群に含まれるノイズは一律でないことから、これらの条件を踏まえ、データ作成者が設定してよい。

例えば、2020年度に実施されたProject PLATEAUでは、テストエリアにおいて
点群データの最高値から1%、3%、5%、7%を除去した値と、図化により作成した「LOD2」の建築物の高さとの相関性を確認し、最高値から5%を除去することを決定した。

なお、DSMに含まれる点群が建築物の最高点となる場所に存在することは保証されないため、ノイズを除去しても、取得した計測高さが必ずしも建築物の最高点までの高さにはならないことに留意する必要がある。特に、本属性を必要とするユースケースがこれを許容しない場合には、直接計測等の他の取得方法の採用を検討する必要がある。

## C.3.2.4 建築物の住所（bldg:address）

標準製品仕様書では、建築物の主題属性として住所（bldg:address）を定義している。住所は、概ねの場所を検索・特定するために使用できる有益な情報である。そのため、全ての建築物には可能な限り住所を付与することが望ましい。
原典資料としては、国勢調査（町丁・字等別境界データ）、 [国土数値情報（公共施設データ）](https://nlftp.mlit.go.jp)及び基礎自治体から入手した主要な公共施設リスト等がある。

なお、CityGMLでは、住所の記述についてXMLに関する標準化団体であるOASIS（Organization for the Advancement of Structured Information Standards）により策定されたextensible Address Language （xAL）を参照している。住所を構造化して記述する場合には、xALの構造に従う。

建築物の住所は、建築物の場所を特定する地理識別子として利用されるだけではなく、建築物とこれに関連する様々な情報とを連携するキーとして利用されることが想定される。そのため、この属性を用いて、住所の地名辞典を整備更新できるよう、構造化して記述することを推奨する。構造化して記述する場合の記述例を以下に示す。

例1 — 構造化する場合の記述例なお、構造化せずに略式（1行の住所文字列）で記述する場合は、以下のように記載する。

例2 — 住所の記述例## C.3.2.5 建築物の識別属性（uro:BuildingIDAttribute）

uro:BuildingIDAttributeは、3D都市モデル内の建築物オブジェクトを識別するための属性である。そのため、3D都市モデル内の全ての建築物オブジェクトには、uro:BuildingIDAttributeを与えなければならない。
 uro:BuildingIDAttributeには五つの属性がある。このうち、uro:buildingID及びuro:cityを必須とする。

**表 C-24 — C-15: 建築物オブジェクトの識別情報**

| ID | `/req/bldg/15` |
| --- | --- |
| 主題 | 妥当な建築物データセットの要件 |
| 分類 | 要件分類C-1: 妥当な建築物オブジェクト作成 |
| 条文 | 全ての建築物オブジェクトは、uro:buildingID及びuro:cityをもたなければならない。 |

uro:buildingIDは、3D都市モデル内の建築物オブジェクトを区別・特定するための識別子である。gml:idがデータ集合内におけるデータの識別子であることに対し、uro:buildingIDは、現実世界に存在する建築物の識別子となる。
 uro:buildingIDは、建築物の存続期間（建設から取り壊されるまで）において永続的に利用される識別子となる（データ更新においても、建築物の建て替わりがない場合にはこの識別子を引き継ぐ）。

建物IDは、以下の規則により付与する。

**表 C-25**

| `XXXXX` | 当該地物オブジェクトが存在する市区町村のコード。複数の市区町村に跨る場合には、データセットの市区町村のコードとする。先頭の0は省略せず、5桁で記述する。前2桁：JIS X0401による都道府県コード後3桁：JIS X0402による市区町村コード |
| --- | --- |
| `YYYY` | 地物型の区分を示す3桁又は4桁のコード建築物の場合は、bldg |
| `ZZZZZZZZZZZZ` | オブジェクト連番（先頭の0は省略する） |

`ZZZZZZZZZZZZ` は連番を基本とするが、町字や街区等により細分し、エリア内における概ねの場所が分かるように設定することもできる。

ここで、建築物に、ゴミ集積所や集会所といった付帯的な建築物があった場合には、一つの建築物とみなされるとして、uro:buildingIDの値は、同じものを付与してもよい。なお、これらは汎用属性「枝番」により主たる建築物と付帯的な建築物の区分を行うことができる。このとき、付帯的な建築物には空間属性のみを記述し、その他の属性は原則不要とする。属性を記述する場合には、属性uro:noteにゴミ集積所や集会所といった情報を補足的に記述する。

![Image](images/tocC_03_02_img002.png)

uro:cityは、3d都市モデル内の建築物オブジェクトの空間的な範囲を特定するために使用する識別子である。一つのデータ集合には、数多くの建築物オブジェクトが含まれる。これを効率的に検索・表示するためにuro:cityを使用する目的でこの属性を必須とする。

なお、uro:cityには、JIS X0401に示される2桁の都道府県コードと
 JIS X0402に示される市区町村コードを加えた5桁を記載するが、政令指定都市においては「区」に該当する市区町村コードとする。

なお、行政界を跨ぐ建築物の場合、その建築物の住所又は建築物モデル（LOD3）の面積が最も多く含まれる市区町村の市区町村コードとする。また、行政界が確定しておらず、いずれの市区町村に含めるべきかが確定していない場所（境界未確定部）に立地する建築物の市区町村コードは、整備対象となる市区町村の都市計画基本図（数値地形図データ）での取り扱いに準じる。数値地形図データが広域で整備されている等により判断できない場合は、発注者との協議により決定する。

## C.3.2.6 都市計画基礎調査のための属性

都市計画基礎調査で収集された建築物の情報を格納するための属性型として、標準製品仕様書ではuro:BuildingDetailAttribute及びuro:LargeCustomerFacilityAttributeを定義している。
 uro:BuildingDetailAttributeは建物利用現況として調査・収集された情報を格納するための型である。

また、uro:LargeCustomerFacilityAttributeは大規模小売店舗等の立地状況として調査・収集された情報を格納するための型である。uro:BuildingDetailAttribute及びuro:LargeCustomerFacilityAttributeの属性uro:surveyYearは、建物利用現況又は大規模小売店舗等の立地状況の調査が実施された年度をさす。

なお、都市独自に調査・収集している項目等、uro:BuildingDetailAttribute及びuro:LargeCustomerFacilityAttributeに定義された属性で不足する場合には、本作業手順書の手順に従い、属性を拡張する。

## C.3.2.7 都市独自の建物用途（uro:majorUsage、uro:orgUsage、uro:detailedUsage）

uro:majorUsage、uro:orgUsage及びuro:detailedUsageは都市ごとの独自の区分に従った建築物の用途を格納するための属性である。これらの属性には、都市ごとに体系化された階層性をもつ用途のコードを記述できる。

**表 C-26**

| 使用可能な属性 | 説明 |
| --- | --- |
| uro:majorUsage | [都市計画基礎調査実施要領](https://www.mlit.go.jp/toshi/tosiko/kisotyousa001.html)の区分よりも粗い区分に適用。二段階あった場合にはuro:majorUsage2も使用できる。 |
| uro:orgUsage | [都市計画基礎調査実施要領](https://www.mlit.go.jp/toshi/tosiko/kisotyousa001.html)の区分に相当する独自区分に適用。[都市計画基礎調査実施要領](https://www.mlit.go.jp/toshi/tosiko/kisotyousa001.html)の区分における商業施設、文教厚生施設等に設定されたより細かい区分に相当する独自区分があった場合には、uro:orgUsage2を使用できる。 |
| uro:detailedUsage | [都市計画基礎調査実施要領](https://www.mlit.go.jp/toshi/tosiko/kisotyousa001.html)の区分よりもさらに細かい用途の区分に適用。詳細な区分が階層化されている場合には、uro:detailedUsage2及びuro:detailedUsage3を使用できる。 |

なお、都市ごとの独自の用途区分を記述する場合には、用途を示すコードに対応するコードリストを必ず作成しなければならない。

## C.3.2.8 構造種別（uro:buildingStructureType）

bldg:Buildingの属性uro:buildingStructureTypeは、「建築物に使用されている主たる材料の区分」である。構造種別の区分は都市によって異なる場合が多いが、複数の都市間を定量的に比較したい場合には区分が統一されていることが望ましい。そこで、建築物の属性uro:buildingStructureTypeには、統一的な区分として、[都市計画基礎調査実施要領](https://www.mlit.go.jp/toshi/tosiko/kisotyousa001.html)において示された建物利用現況の構造の七区分に、多くの都市で使用されている「非木造」を加えた八区分を採用する。

一方、都市ごとの独自の区分を利用し、データの可視化・分析を行うことも考えられるため、これらについては、建築物の主題属性uro:buildingStructureOrgTypeを使用し記述する。ただし、この属性に対応するコードリストを必ず作成しなければならない。

## C.3.2.9 建築物の災害リスク属性（uro:DisasterRiskAttribute）

uro:DisasterRiskAttributeは、災害リスク情報と建築物の位置関係により建築物毎の災害リスクを空間演算し、その結果を建築物の主題属性として記述するための属性である。
標準製品仕様書では、以下を災害リスク属性として定義している。

- 洪水浸水想定区域（uro:RiverFloodingRiskAttribute）
- 津波浸水想定（uro:TsunamiRiskAttribute）
- 高潮浸水想定（uro:HighTideRiskAttribute）
- 内水浸水想定（uro:InlandFloodingRiskAttribute）
- ため池ハザードマップ（uro:ReservoirFloodingRiskAttribute）
- 土砂災害警戒区域（uro:LandSlideRiskAttribute）

## C.3.2.9.1 一つの建築物が複数の区域に跨る場合の属性付与の方法

- **洪水浸水想定区域の場合**：同一の浸水想定区域図において、複数の区域に建築物が跨って存在する場合は、同一浸水ランクを持つ浸水ランクのメッシュを一つの区域とし、その区域と建築物が重なる面積が最も大きい浸水ランクの値を採用する。（面積が等しい場合は、より危険な区域を採用する）
浸水深は採用した浸水ランクを持つ浸水深のメッシュのうち、建築物と重なる面積が最も大きいメッシュの浸水深を採用する。（同じ浸水深を持つメッシュは面積算出の際に合算する） 浸水継続時間は採用した浸水深のメッシュと重なる浸水継続時間のメッシュの浸水継続時間を採用する。複数の浸水継続時間のメッシュが重なる場合は最も大きい浸水継続時間の値を採用する。（浸水継続時間のメッシュが採用した浸水深のメッシュと重なり、建築物とは直接重ならない場合も対象に含む）
浸水深の有効桁数は、「浸水想定区域図データ電子化ガイドライン（第4版）」に従い、浸水深の有効桁数は、小数点以下 3 桁（4桁目を四捨五入）まで登録可能とするが、小数点以下 2 桁（3桁目を四捨五入）でもよいとする。面積の有効桁数は、小数点2桁（3桁目で四捨五入）とする。
  
- **土砂災害警戒区域の場合**：複数の土砂災害警戒区域が重複している場合は以下のように取り扱う。
 「現象区分」が異なる土砂災害警戒区域が重なっている場合：それぞれを災害リスク属性として記述する。 
 「現象区分」が同じで異なる「区域区分」の土砂災害が重なっている場合：危険度の最も高い「区域区分」を採用し、汎用属性セットを一つのみ記述する。「区域区分」の危険度は、高いほうから以下とする。 土砂災害特別警戒区域（指定済）　＞　土砂災害警戒区域（指定済）　＞　土砂災害特別警戒区域（指定前）　＞　土砂災害警戒区域（指定前） 例えば、一つの建築物について「土石流の土砂災害警戒区域（指定済）」、「土石流の土砂災害特別警戒区域（指定前）」、及び「地すべりの土砂災害特別警戒区域（指定済）」の三種類の範囲が重なっている場合があるとする。このとき、「土石流」「地すべり」とで「現象区分」が異なっている。また、「土砂災害警戒区域（指定済）」と「土砂災害特別警戒区域（指定前）」とは「土砂災害警戒区域（指定済）」のほうが危険度は高い。そのため、「土石流の土砂災害警戒区域（指定済）」及び「地すべりの土砂災害特別警戒区域（指定済）」の二種類を建築物の土砂災害警戒区域の属性として記述する。

## C.3.2.9.2 洪水浸水想定区域の指定河川名称

洪水浸水想定区域（uro:RiverFloodingRiskAttribute）の属性uro:descriptionは、指定河川の名称となる。このとき、指定河川の名称は、以下の規則に従う。

- 水防法に基づき指定された洪水浸水想定区域図の対象となる洪水予報河川又は水位周知河川として示された、「水系名」及び「指定河川名」を用いることを基本とする。例1「利根川水系小山川　洪水浸水想定区域図（想定最大規模）」の場合は、「利根川水系小山川」とする。
- 一つの浸水想定区域図に複数の洪水予報河川又は水位周知河川が含まれている場合は、「指定河川名」を列挙する。指定河川名を列挙する場合の区切り文字は「・」（全角中点）を使用する。例2「多摩川水系　平瀬川・平瀬川支川・二ケ領本川・五反田川洪水浸水想定区域図（想定最大規模）」の場合は、「多摩川水系平瀬川・平瀬川支川・二ケ領本川・五反田川」とする。
- 都道府県が独自に作成している浸水の区域図は、当該浸水想定区域の名称から、対象となる区域を指す名称を用いる。例3「江東内部河川流域浸水予想区域図」の場合は、「江東内部河川流域」とする。

なお、洪水浸水想定区域図の名称には、必ずしも全ての指定河川が含まれているとは限らない。よって、洪水浸水想定区域図の「基本事項等」に記載されている、「対象となる河川」を確認する必要がある。

## C.3.2.10 建築物のデータ品質属性（uro:DataQualityAttribute）

建築物の3D都市モデルを作成する場合、様々な原典資料を組み合わせて作成することが想定される。例えば、地図情報レベル2500の数値地形図を用いてLOD1の建築物を都市全域で作成したが、一部の地域についてはより新しい航空写真が得られたため、これを用いて図化する、又は一棟の建物であっても、屋根形状は地図情報レベル2500の航空写真からの図化により作成し、開口部はMMSにより撮影した地図情報レベル500のレーザ点群データの図化により作成することが考えられる。

位置正確度の異なる原典資料を用いて作成した3D都市モデルを作成した場合、位置正確度の異なる建築物がデータ集合内に混在することになる。同様にして、異なる原典資料を使用したことにより、同じデータ集合内のLOD2の建築物であっても屋根形状のみしか再現されていない建築物と付属物まで取得された建築物とが混在する可能性がある。

3D都市モデルでは、データ集合全体としての品質はメタデータに記録する。しかしながら、メタデータでは、個々の建築物に対して位置正確度や適用したLOD等の品質を記述することが困難である。

そこで、標準製品仕様書では、個々の建築物に対してデータ品質に関する情報を記述するための属性として、「データ品質属性」（uro:DataQualityAttribute）を定義している。データ品質属性は、属性としてデータ作成に使用した原典資料の地図情報レベル、その他原典資料の諸元、精緻化したLOD及びLOD1の押し出しに使用する建築物の高さ（C.3.2.11）をもつ。

3D都市モデルに含まれる全ての建築物オブジェクトは、このデータ品質属性を必ず作成しなければならない。ただし、建築物（bldg:Building）又はその部分（bldg:BuildingPart）に対してデータ品質属性を付与することはできるが、これを構成する屋根面や外壁面（bldg:_BoundarySurface）ごとにデータ品質属性を付与することはできない。

## C.3.2.11 LOD1の押し出しに使用する建築物の高さ

uro:lod1HeightTypeは、LOD1の押し出しに使用する建築物の高さを記述するための属性である。

LOD1において、建築物に一律の高さを与える場合、与えられた高さが何を根拠としているかを3D都市モデルの利用者に対して明確にしておく必要がある。そこで、LOD1で建築物を作成する場合には、建築物の主題属性として、上面の高さが何に基づき算出された値であるかを記述する。

**表 C-27 — C-16: LOD1上面高さの根拠付与**

| ID | `/req/bldg/16` |
| --- | --- |
| 主題 | 妥当な建築物データセットの要件 |
| 分類 | 要件分類C-1: 妥当な建築物オブジェクト作成 |
| 条文 | 建築物の主題属性として、LOD1で作成する建築物の上面の高さの根拠を付与する。 |

また、標準作業手順書ではLOD1での建築物の高さは中央値の使用を推奨している。しかしながらユースケースによっては、中央値では要求を満たさない場合がある。このようなときには必要な高さを主題属性として追加できる。

標準製品仕様では、uro:buildingHeight（建築基準法施行令第2条に定義される地盤面からの建築物の高さ）及びuro:eaveHeight（建築基準法施行令第2条に定義される建築物の地盤面から軒桁までの高さ）をuro:BuildingDetailAttributeの属性として定義しているが、これら以外の高さを、拡張製品仕様において追加してもよい。追加する場合には、数値の単位を明らかにするため、gen:measureAttributeを使用する。

**表 C-28 — C-17: 建築物の高さ属性追加方法**

| ID | `/req/bldg/17` |
| --- | --- |
| 主題 | 妥当な建築物データセットの要件 |
| 分類 | 要件分類C-1: 妥当な建築物オブジェクト作成 |
| 条文 | 建築物に高さを属性として追加する場合には、gen:measureAttributeを使用する。 |

## C.3.2.12 施設管理のための属性

施設管理のための属性は、港湾施設及び漁港施設、河川管理施設や公園管理施設等の施設管理に必要な情報を定義した属性である。施設管理のための属性は以下のデータ型を用いて記述する。

## C.3.2.12.1 施設分類属性（uro:FacilityTypeAttribute）

uro:FacilityTypeAttributeは、各分野で定める施設の区分を記述するためのデータ型である。CityGMLは、地物型を物体としての性質に着目して定義し、機能や用途は属性で区分している。例えば、「建築物（bldg:Building）」という地物型を定義し、bldg:usageにより「業務施設」や「商業施設」などを区分している。これにより、都市に存在する様々な地物を、分野を問わず網羅的に、かつ、矛盾が無く表現することを目指している。一方、各分野には独自の施設の区分がある。この区分は当該分野での施設管理に必要な情報であるが、CityGMLの地物型の区分とは一致しない。そこで、これらの地物型に分野独自の区分を付与するためにこのデータ型を用いる。uro:FacilityTypeAttributeは、二つの属性をもつ。uro:classは分野を特定するための属性である。またuro:functionは、uro:classにより特定した分野における施設の区分を示す。

標準製品仕様書では、港湾施設、漁港施設及び公園施設については標準製品仕様書においてuro:functionの区分が示されている。その他の区分についてはuro:classへの分野の追加も含め、拡張製品仕様書において拡張できる。

## C.3.2.12.2 施設識別属性（uro:FacilityIdAttribute）

uro:FacilityIdAttributeは、施設の位置を特定する情報及び施設を識別する情報を記述するためのデータ型である。uro:FacilityIdAttributeは、施設を識別するための情報として、識別子（uro:id）や正式な名称以外の呼称（uro:alternativeName）に加え、施設の位置を示すための、都道府県（uro:prefecture）、市区町村（uro:city）及び開始位置の経緯度（uro:startLat、uro:startLong）を属性としてもつ。また、鉄道上や道路上の施設については、路線や距離標での位置特定のための属性（uro:route、uro:startPost、uro:endPost）を使用できる。

なお、河川管理施設の場合は、uro:FacilityIdAttributeを継承するuro:RiverFacilityIdAttributeを使用する。これにより、左右岸上での位置の情報を記述できる。

## C.3.2.12.3 施設詳細属性（uro:FacilityAttribute）

uro:FacilityAttributeは、各分野において施設管理に必要となる情報を記述するためのデータ型である。uro:FacilityAttributeは、抽象クラスであり、これを継承する具象となるデータ型に、施設の区分毎に必要となる情報を属性として定義している。

標準製品仕様書では、港湾施設、漁港施設及び公園施設について、細分した施設の区分ごとにデータ型を定義している。また、施設に関する工事や点検の状況や内容を記述するためのデータ型（uro:MaintenanceHistoryAttribute）を定義している。

## C.3.2.13 数値地形図属性（uro:bldgDmAttribute）

公共測量標準図式に従った形状表現に必要な情報を記述するための属性である。LOD0の幾何オブジェクトのほか、数値地形図との互換性を保つために必要な情報が、属性として定義されている。

## C.3.2.14 不動産ID属性（uro:bldgRealEstateIDAttribute）

建築物が存在する土地及び建築物に紐づく不動産IDを記述するための属性である。不動産IDとは、「不動産を一意に特定することができる、各不動産の共通コード」である（参考：[不動産IDルールガイドライン](https://www.mlit.go.jp/tochi_fudousan_kensetsugyo/content/001594268.pdf)）。属性の型であるuro:RealEstateIDAttributeには、土地及び建築物に紐づく不動産IDを記述するための属性が定義されている。また、uro:RealEstateIDAttributeの属性uro:matchingScoreは、登記簿の情報と当該建築物の空間属性及び主題属性との一致の程度を示す値である。uro:matchingScoreは100点満点で算出され、点数が低いほど、一致度が低い、すなわち紐づけの信頼性が低いことを意味する。

