# P.5.2 繰り返しオブジェクトの指定

## P.5.2 繰り返しオブジェクトの指定

繰り返しオブジェクトは、GML形式以外の外部形式ファイルの参照（core:libraryObject）または、GML形式で記述された幾何オブジェクトの参照（core:relativeGMLGeometry）のいずれかを指定する。

繰り返しオブジェクトを外部形式ファイルの参照により指定する場合は、作成したプロトタイプモデルを地下埋設物モデル内のサブフォルダに格納し、属性core:libraryObjectではこのプロトタイプモデルへの相対パスにより所在を示す。

**表 P-11 — P-9: プロトタイプモデルの参照条件**

| ID | `/req/unf/9` |
| --- | --- |
| 主題 | 妥当な地下埋設物データセットの要件 |
| 分類 | 要件分類P-1: 妥当な地下埋設物オブジェクト |
| 条文 | 外部形式ファイルで記述されたプロトタイプモデルを参照する場合は、地下埋設物モデルを格納するunfフォルダにサブフォルダ（サブフォルダ名称：prototype）を格納し、相対パスにより参照する。 |

GML形式ファイルで記述された幾何オブジェクトをプロトタイプモデルとして使用する場合、3D都市モデルと同じファイルにプロトタイプとなる幾何オブジェクトを含めなければならない。このとき、３D都市モデルは平面直角座標系が適用されており、同一ファイルには同じ座標参照系しか適用してはならないことから、プロトタイプモデルも平面直角座標系で記述しなければならない。

そのため、実在する都市オブジェクトの幾何オブジェクトをプロトタイプモデルとし、ほかの都市オブジェクトからこの幾何オブジェクトを参照することが効率的である。

**表 P-12 — P-10: GML形式のプロトタイプモデル記述条件**

| ID | `/req/unf/10` |
| --- | --- |
| 主題 | 妥当な地下埋設物データセットの要件 |
| 分類 | 要件分類P-1: 妥当な地下埋設物オブジェクト |
| 条文 | GML形式でプロトタイプモデルを記述する場合は、3D都市モデルに含まれる都市オブジェクトの幾何オブジェクトを作成し、これをプロトタイプモデルとして使用する。 |

