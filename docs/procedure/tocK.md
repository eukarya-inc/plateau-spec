# 附属書K 妥当な都市計画決定情報オブジェクト

## 附属書K （規定） 妥当な都市計画決定情報オブジェクト

## K.1 概要

本付属書では、「3D都市モデル標準製品仕様書」（以下、「標準製品仕様書」という）に適合したデータ製品について、「都市計画決定情報モデル」に従って作成されるべき都市オブジェクト（以下「都市計画決定情報オブジェクト」という）が満たすべき要件と、妥当な都市計画決定情報オブジェクトを作成するための標準的な作業手順を示す。

**表 K-1 — K-1: 妥当な都市計画決定情報オブジェクト**

| ID | `/req/urf` |
| --- | --- |
| 対象の種類 | 妥当な都市計画決定情報オブジェクトの要件 |
| 説明 | 都市計画決定情報の説明とLODの要件 |
| 規定 | 要件K-1: 都市計画決定情報のLOD条件要件K-2: 都市計画の区域記述条件要件K-3: 都市計画の効力日付と種類記述条件要件K-4: 都市施設データ型の一致条件要件K-5: 階層構造地物の符号化条件要件K-6: urf:Boundaryの一致条件留意事項K-1: 都市計画図書からの主題属性入力留意事項K-2: urf:validTo及びurf:validToTypeの運用留意事項K-3: GISデータに適用される空間参照系留意事項K-4: GISデータの位置正確度の確認 |

## K.2 都市計画決定情報の記述とLOD

## K.2.1 都市計画決定情報モデル

都市計画決定情報とは、都市計画図書（計画図及び計画書）に含まれる情報である。都市計画決定情報は、i-URに定義された地物型を使用して記述する。CityGMLには、都市計画区域や用途地域のような目には見えない制約や制限のような概念的な地物は定義されていないため、i-URではCityGMLを拡張し新たに定義している。

標準製品仕様書で対象とする都市計画決定情報のLODは、LOD1とする。

**表 K-2 — K-1: 都市計画決定情報のLOD条件**

| ID | `/req/urf/1` |
| --- | --- |
| 主題 | 妥当な都市計画決定情報データセットの要件 |
| 分類 | 要件分類K-1: 妥当な都市計画決定情報オブジェクト |
| 条文 | 都市計画決定情報に適用されるLODは、LOD1とする。 |

## K.2.2 使用可能な地物型とLOD

都市計画決定情報は、i-URのUrbanFunctionモジュールに定義されたurf:_UrbanFunctionの下位型を用いて記述する。urf:_UrbanFunctionを継承するurf:Zoneは、概念的な区域であり、これをさらに継承して、都市計画区域や用途地域、地区計画のような地物型が、都市計画決定情報として都市計画法及び関連法令に基づき定義されている。

**表 K-3 — 都市計画決定情報モデルの記述に使用する地物型と空間属性**

| 地物型 | 空間属性 | LOD0 | LOD1 | LOD2 | LOD3 | 適用 |
| --- | --- | --- | --- | --- | --- | --- |
| urf:Zoneを継承する地物型 |  |  | ● |  |  | 都市計画の区域は、urf:Zoneを継承するクラスを用いて記述する。 |
| ↑ | urf:lod1MultiSurface |  | ● |  |  | ↑ |
| ●：必須■：条件付必須〇：任意（ユースケースに応じて要否を決定してよい） | ← | ← | ← | ← | ← | ← |

**表 K-4 — K-2: 都市計画の区域記述条件**

| ID | `/req/urf/2` |
| --- | --- |
| 主題 | 妥当な都市計画決定情報データセットの要件 |
| 分類 | 要件分類K-1: 妥当な都市計画決定情報オブジェクト |
| 条文 | 都市計画の区域は、urf:Zoneを継承する地物型を用いて記述する。 |

urf:Zoneは具象の地物型であり、これを使用して都市オブジェクトを作成できるが、都市計画決定情報は、urf:Zoneを継承する地物型（例：urf:UrbanPlanningArea）を使用して記述しなければならない。
なお、都市計画の区域以外に法令で定める区域（例：港湾区域）は、urf:Zoneを使用して記述する（ 附属書U参照）。

## K.2.3 都市計画決定情報の空間属性

都市計画決定情報の空間属性は、都市計画の区域と一致し、gml:MultiSurfaceを用いて記述する。また、区域の境界を区域界（urf:Boundary）として記述する場合は、gml:MultiCurveを用いる。
なお、区域及びその境界は高さをもたない（高さは０とする）。

## K.2.4 都市計画決定情報の主題属性

都市計画決定情報の主題属性は、都市計画に定める項目であり、都市計画図書を用いて作成する。

## K.2.4.1 外部ファイルの参照

都市計画に定める項目には、定型化されていないものや図表が含まれるものがある。このような情報に対応する属性には、型としてgml:StringOrRefTypeを設定している。gml:StringOrRefTypeは、文字列（xs:string）又は参照（xlink:href）のいずれかを選択可能な型である。

3D都市モデルの属性として文字列で記述することが難しい場合は、xlink:hrefを用いて外部ファイルを参照してよい。この外部ファイルは、自治体のウェブサイト等から公開されている都市計画決定に関わる計画書や計画図となる。

**表 K-5 — K-1: 都市計画図書からの主題属性入力**

| ID | `/att/urf/1` |
| --- | --- |
| 主題 | 妥当な都市計画決定情報データセットの要件 |
| 分類 | 要件分類K-1: 妥当な都市計画決定情報オブジェクト |
| 条文 | 都市計画図書の多くは紙資料として管理されており、資料の収集やデータの入力に労力を要する。また、文章や図表として記載されており、GISデータとしてデータ化することが困難な情報も含まれる。そのため、主題属性の入力対象は、これにかかる作業量も考慮し、決定する必要がある。 |

## K.2.4.2 都市計画の当初決定年月日及び告示番号と最終（最新）決定年月日及び告示番号

都市計画は、社会経済情勢の変化を踏まえ、適時適切な見直しが行われる。このような変化を把握するための情報として、当初の告示番号を記録する属性urf:notificationNumberと、当初の決定年月日を記録する属性urf:validFromがある。また、見直し後の最終（最新）の告示番号を記録する属性urf:finalNotificationNumberとその日付を記録する属性urf:finalNotificationDateがある。

当初の決定と最終（最新）の決定との間のより詳細な変遷を記録する場合には、属性urf:validFromとurf:validFromType、また、urf:validToとurf:validToTypeを使用する（K.2.4.3参照）。

なお、最終（最新）の都市計画において指定された都市計画の区域は、属性urf:notificationNumberと属性urf:finalNotificationNumberの値が一致する。

また、当初の告示番号が不明な場合、属性urf:notificationNumberの値は「Null」を入力する。当初の決定年月日が不明な場合、属性urf:validFromの値は「0001-01-01」とする。

## K.2.4.3 都市計画決定情報の変遷の表現

都市計画には、新規に決定される場合、変更される場合、また、変更に伴い実質廃止される場合がある。このような時間の経過に伴う都市計画の変遷を、属性urf:validFromとurf:validFromType、また、urf:validToとurf:validToTypeにより記述できる。

属性urf:validFromは、その都市計画が効力を生じる日付（xs:date）を記述する。属性urf:validFromTypeは、この日付が「決定」又は「変更」であるかを区別するために用いる。

**表 K-6 — K-3: 都市計画の効力日付と種類記述条件**

| ID | `/req/urf/3` |
| --- | --- |
| 主題 | 妥当な都市計画決定情報データセットの要件 |
| 分類 | 要件分類K-1: 妥当な都市計画決定情報オブジェクト |
| 条文 | この都市計画の効力が生じる日付を属性urf:validFromに記述し、そのときの都市計画の種類（新規又は変更）を属性urf:validFromTypeに記述する。 |

都市計画の変更や廃止により都市計画が効力を失った日付（xs:date）は、属性urf:validToにより記述できる。また、その時の都市計画の区分（変更又は廃止）は、属性urf:validToTypeにより記述できる。

例えば、ある都市計画が新規に決定され、その後、変更され、さらに変更された内容が廃止されたとする（図K-1）。この場合、当初の都市計画のurf:validFromには決定された日付が入り、urf:validFromTypeは「決定」となる。また、urf:validToには、変更により効力を失った日付が入る。このときのurf:validToTypeは「変更」となる。また、変更後の都市計画のurf:validFromには決定された日付が入り、urf:validFromTypeは「変更」となる。また、urf:validToには、廃止により効力を失った日付が入る。このときのurf:validToTypeは「廃止」となる。

![Image](images/tocK_img001.png)

**表 K-7 — K-2: urf:validTo及びurf:validToTypeの運用**

| ID | `/att/urf/2` |
| --- | --- |
| 主題 | 妥当な都市計画決定情報データセットの要件 |
| 分類 | 要件分類K-1: 妥当な都市計画決定情報オブジェクト |
| 条文 | 都市計画の効力を生じる日付（urf:validFrom）及びその都市計画の区分（urf:validFromType）は運用上必須とするが、都市計画が効力を失う日付（urf:validTo）及びその都市計画の区分（urf:validToType）は、任意の属性とする。都市計画の変遷を無効となった区域も含めて把握したい場合には、urf:validTo及びurf:validToTypeを整備することで、その変遷の把握が容易となる。 |

## K.2.4.4 構造化された属性の使用

都市施設は、その種類によって都市計画に定める事項が異なる場合がある。例えば、交通施設の場合、道路は種別及び車線の数（車線のない道路である場合を除く。）その他の構造が必要であるが、自動車ターミナルの場合は種別及び面積が必要となる。

標準製品仕様書では、道路や自動車ターミナルといった都市計画法第11条第1項各号に挙げられた都市施設の種類ごとに、都市計画に定める事項が異なる場合にはこれらを都市施設の種類ごとにデータ型として構造化している。都市施設の種類は、属性urf:functionによって分かる。そのため、属性urf:functionの値により、使用すべきデータ型が限定される。例えば、属性urf:functionの値が「道路」を示す場合には、道路のために構造化されたデータ型を使用できる。

**表 K-8 — K-4: 都市施設データ型の一致条件**

| ID | `/req/urf/4` |
| --- | --- |
| 主題 | 妥当な都市計画決定情報データセットの要件 |
| 分類 | 要件分類K-1: 妥当な都市計画決定情報オブジェクト |
| 条文 | 都市施設ごとに構造化されたデータ型は、都市施設の属性urf:functionと一致していなければならない。 |

## K.2.5 都市計画決定情報の階層構造

都市計画決定情報には、地物の階層構造（包含関係）が定義されている。階層構造をもつ場合は、全体となる地物の一部として、部品となる地物を記述できる。階層構造は、応用スキーマクラス図において、集成の関連で記述される。

階層構造をもつ地物の組み合わせを表K-9に示す。

**表 K-9 — 階層構造をもつ地物の組合せ**

| 全体となる地物 | 部品となる地物 | 説明 |
| --- | --- | --- |
| urf:Zoneを継承する全ての地物 | urf:Boundary（境界） | 区域と区域の境界との関係。 |
| urf:UrbanFacility（都市施設）を継承する地物型のうち、都市計画法施行令第6条の2に掲げられる都市施設を表す地物型 | urf:ThreeDimentionalExtent（立体的な範囲） | 都市施設と、都市施設に定められた立体的な範囲との関係。 |
| urf:_AbstractDistritPlan（地区計画等）を継承する地物型 | urf:PromotionArea（再開発等促進区、開発整備促進区、沿道再開発等促進区） | 地区計画等と、地区計画等に定める再開発等促進区、開発整備促進区、沿道再開発促進区との関係。 |
| urf:_AbstractDistrictPlan（地区計画等）を継承する地物型 | urf:DistrictDevelopmentPlan（地区整備計計画）及びこれを継承する地物型 | 地区計画等と地区計画等において定められた地区整備計画との関係。 |
| urf:DistrictDevelopmentPlan及びこれを継承する地物型 | urf:District（地区） | 地区整備計画と、地区整備計画において定められる、建築物等の用途の制限等都市計画法第12条の5第7項第2号に掲げられた事項が設定された地区との関係。 |
| urf:DistrictDevelopmentPlan及びこれを継承する地物型 | urf:DistrictFacility及びこれを継承する地物型 | 地区整備計画と、地区整備計画において定められる地区施設との関係。 |
| urf:DisasterPreventionBlockImprovementZonePlan（防災街区整備地区計画） | urf:ZonalDisasterPreventionFacility（地区防災施設） | 防災街区整備地区計画と、防災街区整備地区計画において定められる地区防災施設との関係。 |

階層構造をもつ地物の組み合わせをCityGML形式に符号化する際には、部品となる地物を全体となる地物の子要素として出力しなければならない。

**表 K-10 — K-5: 階層構造地物の符号化条件**

| ID | `/req/urf/5` |
| --- | --- |
| 主題 | 妥当な都市計画決定情報データセットの要件 |
| 分類 | 要件分類K-1: 妥当な都市計画決定情報オブジェクト |
| 条文 | 階層構造をもつ地物の組み合わせでは、部品となる地物が全体となる地物の子要素として符号化しなければならない。 |

図K-2に例を示す。urf:DistrictDevelopmentPlan（地区整備計画）とurf:District（地区）との間には、応用スキーマ図では集約で関連付けられ、urf:DistrictDevelopmentPlanが全体、urf:Districtが部品として定義されている。この場合、CityGML形式に符号化する際にはurf:DistrictDevelopmentPlanのタグの子要素としてurf:Districtが出現しなければならない。

![Image](images/tocK_img002.png)

## K.3 urf:Boundary

urf:Boundaryは、都市計画区域や用途地域等の区域（urf:Zone）を区切る境界線に属性をもたせたい場合に使用する型である。区域の境界線に属性をもたせる必要が無い場合は、urf:Boundaryは使用しなくてよい。

## K.3.1 urf:Boundaryの空間属性

urf:Boundaryは、urf:Zoneの境界となる。そのため、urf:Boundaryの空間属性（gml:MultiCurve）は、urf:Zoneの空間属性（gml:MultiSurface）を構成する曲線と一致しなければならない。

**表 K-11 — K-6: urf:Boundaryの一致条件**

| ID | `/req/urf/6` |
| --- | --- |
| 主題 | 妥当な都市計画決定情報データセットの要件 |
| 分類 | 要件分類K-1: 妥当な都市計画決定情報オブジェクト |
| 条文 | urf:Boundaryの空間属性（gml:MultiCurve）は、これをurf:boundaryによって参照するurf:Zoneの空間属性（gml:MultiSurface）に含まれるgml:Polygonの外周又は内周と一致しならなければならない。 |

## K.3.2 urf:Boundaryの主題属性

区域の境界線に行政界や地番界、道路区域などが指定される場合がある。また、これらの線からの相対的な距離（オフセット）により指定される場合もある。このような境界線の種類やオフセット量をurf:Boundaryの主題属性として記述する。

## K.4 標準的な作業手順

## K.4.1 幾何オブジェクトの作成

都市計画決定情報モデルの作成に使用する原典資料を示す。

**表 K-12 — 原典資料 一覧**

|  | 水平位置 | 高さ |
| --- | --- | --- |
| LOD1 | GISデータ都市計画図書 | ― |

## K.4.1.1 LOD1

都市計画決定情報モデル（LOD1）作成例を図K-3に示す。

![Image](images/tocK_img003.png)

幾何オブジェクトの作成方法として、「GISデータの変換により作成する方法」「既成図数値化により作成する方法」「新規に作成する方法」の3つがある。

## K.4.1.1.1 GISデータの変換により作成する方法

GISデータがある場合には、これを利用できる。
ただし、既存のGISデータの利用にあたっては以下の点に留意する。

**表 K-13 — K-3: GISデータに適用される空間参照系**

| ID | `/att/urf/3` |
| --- | --- |
| 主題 | 妥当な都市計画決定情報データセットの要件 |
| 分類 | 要件分類K-1: 妥当な都市計画決定情報オブジェクト |
| 条文 | 都市計画決定された時期やGISデータが作成された時期により、データに適用された空間参照系が異なる場合がある。そのため、GISデータに設定された空間参照系を確認すること。また、空間参照系が設定されていない場合には、背景となる地形図との重畳により位置を確認し、適切な空間参照系を設定の上、標準製品仕様書が指定する空間参照系に変換すること。 |

**表 K-14 — K-4: GISデータの位置正確度の確認**

| ID | `/att/urf/4` |
| --- | --- |
| 主題 | 妥当な都市計画決定情報データセットの要件 |
| 分類 | 要件分類K-1: 妥当な都市計画決定情報オブジェクト |
| 条文 | 都市計画決定情報のGISデータには、計画図（縮尺1／2500以上）から作成されたデータや総括図（縮尺1／25000以上）から作成されたデータがある。また、計画図から作成されたデータであっても、元となる計画図が小縮尺の地形図を拡大した便宜的に縮尺1／2500の縮尺である場合もある。標準製品仕様書では、地図情報レベル2500の地形図を背景として作成された都市計画決定情報オブジェクトを、地図情報レベル2500という。既存のGISデータを利用する場合も、そのGISデータが地図情報レベル2500の地形図を背景として作成されたデータでなければ、GISデータからの変換により作成した都市計画決定情報オブジェクトも地図情報レベル2500とはならない。ただし、このときの地図情報レベル2500とは、背景となる地形図が作成された時点のものとなる。地図情報レベル2500以外のGISデータを利用する場合には、原典資料リストにおいて、地図情報レベルを明示すること。 |

## K.4.1.1.2 既成図数値化により幾何オブジェクトを作成する方法

GISデータが存在しない場合には、計画図から区域の形状をデジタイズし、幾何オブジェクトを作成することができる。既成図数値化の作業手順及び精度管理は、「作業規程の準則　第3編第5章　既成図数値化」に従う。

なお、計画図そのものの位置正確度は、「GISデータを変換する方法」と同様に確認する必要がある。計画図が地図情報レベル2500の品質を満たしていない場合には、この計画図から作成した都市計画決定情報も地図情報レベル2500とはならない。

## K.4.1.1.3 新規に幾何オブジェクトを作成する方法

新規に幾何オブジェクトを作成する方法とは、地図情報レベル2500の数値地形図データ（都市計画基本図データ）を背景として新たに都市計画の区域を作図する方法である。主として、今後新たに都市計画決定や変更をする際に、計画図に掲載する区域の図形と3D都市モデルの都市計画決定オブジェクトを一体的に作成することを想定した手法である。

## K.4.2 作業上の留意事項

## K.4.2.1 都市計画の変更に伴う区域の考え方

都市計画の変更に伴い、区域の形状が変化する場合がある。このとき、GISデータでは区域を示す図形が1つであっても、実際には、決定された告示が異なる部分の集まりとなる。3D都市モデルでは、都市計画の区域を、都市計画の効力が生じた告示ごとに区域を分割して作成する（図K-4）。

都市計画の効力が生じた告示の日付は属性urf:validFromに記述し、告示の番号はurf:notificationNumberに記述する。一方、当該都市計画を含む最終（最新）の都市計画の告示日と告示番号は、属性urf:finalNotificationDateとurf:finalNotificationNumberに記述する。

都市計画が変更となったが、当該区域の形状に変化がない場合、各区域のurf:validFrom及びurf:notificationNumberの値は変化しないが、最新の都市計画の告示日と告示番号を示すurf:finalNotificationDateとurf:finalNotificationNumberは、更新される。

![Image](images/tocK_img004.png)

![Image](images/tocK_img005.png)

都市計画決定情報のデータセットに必須として含むべきデータはデータセットが作成された時点で有効である都市計画である。また、無効となった区域を把握したい場合にはこれを含むことができる。

図K-4の例では、2025年10月1日にある区域が「第2種住居地域」として指定され、2027年10月1日に都市計画の変更により区域が拡大された。また、2030年10月1日に再度都市計画が変更され区域が縮小された。このとき、縮小された区域は2025年に指定された区域の一部であった。続いて2035年10月1日の都市計画の変更では「第2種住居地域」として指定されていた全ての区域は「近隣商業地域」に変更された。このような場合、各年に整備した都市計画決定情報のデータセットには次のようなデータが含まれる。

2025年のデータセットには、この年に決定された「第2種住居地域」のデータ（データ①）が含まれる。urf:validFromの値は2025-10-01となり、urf:validFromTypeの値は1（新規）となる。

2027年のデータセットには、この年に拡大された「第2種住居地域」のデータ（データ②）が追加される。データ②は都市計画の変更により生じた区域であるため、urf:validFromTypeの値は3（変更）となる。また、最新の告示番号が更新されるため、データ①の属性urf:noteは更新され、値は2027-10-01-○○市告示第150号となる。

2030年のデータセットには、2025年に決定された区域が縮小された区域のデータ（データ①-2）と、2027年に決定された区域のデータ（データ②）が含まれる。ともに、最新の告示番号であるurf:noteが更新される（値は2030-10-01-○○市告示第160号）。このとき、都市計画が変更される前まで存在していた区域（データ①）の消失を把握したい場合には、urf:validTo及びurf:validToTypeを使用する。urf:validToの値は2030-10-01となり、urf:validToTypeの値は3（変更）となる。2030年のデータセットとして必須となるデータはデータ①-2及びデータ②であり、データ①はオプションである。

2035年のデータセットには、新たに決定された「近隣商業地域」を示す区域のデータ（データ③）が含まれる。また、消失した区域の把握を行う場合には、第2種住居地域の区域を示すデータ①-2及びデータ②のurf:validTo及びurf:validToTypeを記述したものをデータセットに含める。2035年度のデータセットとして必須となるのはデータ③であり、データ①、データ①-2及びデータ②はオプションである。

また、オプションとなるデータは、各年の必須のデータ（有効な都市計画のデータ）の差分により生成可能である。なお、既に都市計画が決定されてから長い時間が経ち、複数の変更が加えられ、それらの記録が紙でしか残されていない場合も多い。このような場合、過去の都市計画の変遷を管理することは現実的でないため、urf:notificationNumber（告示番号）をNullとするなどとし、本標準製品仕様書に基づいてデータ整備が可能な時点から時系列に整備することも考えられる。

## K.4.2.2 原典資料が得られない場合の対応

過去の都市計画決定図書の入手が困難であり、過去の都市計画の変遷が分からない場合の対応例を以下に示す。

## K.4.2.2.1 最新（最終）の都市計画のみが明らかな場合

最新（最終）の変更に関する情報は得られるが、過去の都市計画の情報が得られない場合、最新（最終）の都市計画決定情報のみを作成する。このとき、作成するデータの告示日urf:validFromは変更告示の日付となり、その区分urf:validFromTypeは変更を示す3となる。また、この都市計画は現在有効であるため、urf:validTo及びurf:validToTypeは作成しない。都市計画の決定者urf:custodianは、この変更告示を行った行政機関の名称となる。

なお、この場合、告示日（urf:validFrom）と告示番号（urf:notificationNuber）は、最終の告示日（urf:finalNotificationDate）及び告示番号（urf:finalNotificationNumber）と一致する。

![Image](images/tocK_img006.png)

## K.4.2.2.2 当初と最新（最終）のみ明らかな場合

当初の都市計画決定と最新（最終）の変更に関する情報は得られるが、その間の変遷に関する情報が得られない場合がある。この場合、最新（最終）の変更に関する情報は、前項K.4.2.2.1と同様に作成する（図K-7作成するデータ①）。

これに加えて、当初の都市計画のデータを作成することができる（作成するデータ②）。このとき、作成するデータ②の告示日urf:validFromは当初の告示の日付となり、その区分urf:validFromTypeは新規を示す1となる。また、この都市計画は現在無効であるため、urf:validToとurf:validToTypeを作成するが、変遷が分からないため、urf:validToは無効を示す0001-01-01となり、urf:validToTypeは変更を示す3となる。都市計画の決定者urf:custodianは、この当初の告示を行った行政機関の名称となる。

![Image](images/tocK_img007.png)

