# M.2.4 トンネルの主題属性

## M.2.4 トンネルの主題属性

トンネルの主題属性には、あらかじめCityGML又はGMLにおいて定義された属性（接頭辞tun、gml）と、i-URにより拡張された属性（接頭辞uro）がある。CityGMLで定義された属性は、トンネルの機能など、基本的な情報となる。

i-URにより拡張された属性には、大きく10種類の属性がある。トンネルの管理に関する基本的な情報（uro:tunBaseAttribute）、トンネルの構造に関する情報（uro:tunStructureAttribute）、トンネルの機能に関する情報（uro:tunFunctionalAttribute）、トンネルの損傷に関する情報（uro:tunRiskAssessmentAttribute）、トンネルの災害リスクに関する情報（uro:tunDisasterRiskAttribute）、作成したトンネルのデータ品質に関する情報（uro:DataQualityAttribute）、特定分野における施設の分類情報（uro:tunFacilityTypeAttribute）、uro:tunFacilityTypeAttribute.classによって指定された分野における施設の識別情報（uro:tunFacilityIdAttribute）、uro:tunFacilityTypeAttribute.classによって指定された分野における施設管理情報（uro:tunFacilityAttribute）、公共測量標準図式による図形表現に必要な情報（uro:tunDmAttribute）である。

## M.2.4.1 構造物管理属性（uro:tunBaseAttribute）

トンネルの管理者や建設に関する諸元等、トンネルの管理に必要な基本的な情報。

## M.2.4.2 構造物構造属性（uro:tunStructureAttribute）

トンネルの延長や幅員など、トンネルの構造に関する情報。

## M.2.4.3 構造物機能属性（uro:tunFunctionalAttribute）

トンネルの利用者や進行方向。

## M.2.4.4 構造物損傷属性（uro:tunRiskAssessmentAttribute）

構造物の損傷及び対応状況に関する情報。

## M.2.4.5 災害リスク属性（uro:tunDisasterRiskAttribute）

浸水想定区域や土砂災害警戒区域等の災害リスクに関する情報。

## M.2.4.6 施設管理のための属性

uro:FacilityTypeAttributeは、施設管理のための属性は、港湾施設及び漁港施設、河川管理施設や公園管理施設等の施設管理に必要な情報を定義した属性である。施設管理のための属性は以下のデータ型を用いて記述する。

## M.2.4.6.1 施設分類属性（uro:FacilityTypeAttribute）

uro:FacilityTypeAttributeは、各分野で定める施設の区分を記述するためのデータ型である。CityGMLは、地物型を物体としての性質に着目して定義し、機能や用途は属性で区分している。例えば、「トンネル（tun:Tunnel）」という地物型を定義し、tun:functionにより「道路トンネル」や「鉄道トンネル」などを区分している。これにより、都市に存在する様々な地物を、分野を問わず、網羅的に、かつ、矛盾が無く表現することを目指している。一方、各分野には独自の施設の区分がある。この区分は当該分野での施設管理に必要な情報であるが、CityGMLの地物型の区分とは一致しない。そこで、これらの地物型に分野独自の区分を付与するためにこのデータ型を用いる。uro:FacilityTypeAttributeは、二つの属性をもつ。uro:classは分野を特定するための属性である。またuro:functionは、uro:classにより特定した分野における施設の区分を示す。

## M.2.4.6.2 施設識別属性（uro:FacilityIdAttribute）

uro:FacilityIdAttributeは、施設の位置を特定する情報及び施設を識別する情報を記述するためのデータ型である。uro:FacilityIdAttributeは、施設を識別するための情報として、識別子（uro:id）や正式な名称以外の呼称（uro:alternativeName）に加え、施設の位置を示すための、都道府県（uro:prefecture）、市区町村（uro:city）及び開始位置の経緯度（uro:startLat、uro:startLong）を属性としてもつ。また、鉄道上や道路上の施設については、路線や距離標での位置特定のための属性（uro:route、uro:startPost、uro:endPost）を使用できる。

なお、河川管理施設の場合は、uro:FacilityIdAttributeを継承するuro:RiverFacilityIdAttributeを使用する。これにより、左右岸上での位置の情報を記述できる。

## M.2.4.6.3 施設詳細属性（uro:FacilityAttribute）

uro:FacilityAttributeは、各分野において施設管理に必要となる情報を記述するためのデータ型である。uro:FacilityAttributeは、抽象クラスであり、これを継承する具象となるデータ型に、施設の区分毎に必要となる情報を属性として定義している。

標準製品仕様書では、港湾施設、漁港施設及び公園施設について、細分した施設の区分ごとにデータ型を定義している。また、施設に関する工事や点検の状況や内容を記述するためのデータ型（uro:MaintenanceHistoryAttribute）を定義している。

## M.2.4.7 数値地形図属性（uro:tunDmAttribute）

公共測量標準図式に従った形状表現に必要な情報を記述するための属性である。LOD0の幾何オブジェクトのほか、数値地形図との互換性を保つために必要な情報が、属性として定義されている。

## M.2.4.8 品質属性（uro:DataQualityAttribute）

トンネルオブジェクトの作成に使用した原典資料の記録や、適用した詳細なLODの区分を示すための属性である。
使用した原典資料やそれに基づくデータの品質、また、採用したLODは、データセットのメタデータに記録できる。ただし、データセット全体に対して一つのメタデータを作成することが基本となり、個々の都市オブジェクトの品質を記録することは困難である。

同じデータセットの中に、航空写真測量により作成したその他の構造物オブジェクトや完成図等から作成したその他の構造物オブジェクトというように、複数の品質をもつ都市オブジェクトが混在している場合には、都市オブジェクトごとにこの構造物品質属性を使用して、品質情報を記録することで、その品質を明確にできる。

そこで、標準製品仕様書では、個々のデータに対してデータ品質に関する情報を記述するための属性として、「データ品質属性」（uro:DataQualityAttribute）を定義している。データ品質属性は、属性としてデータ作成に使用した原典資料の地図情報レベル、その他原典資料の諸元及び精緻化したLODをもつ。

3D都市モデルに含まれる全てのトンネルオブジェクトは、このデータ品質属性を必ず作成しなければならない。ただし、トンネル（tun:Tunnel）又はトンネル部分（tun:TunnelPart）に対してデータ品質属性を付与することはできるが、これを構成する屋根面や外壁面（tun:_BoundarySurfaceの下位クラス）にデータ品質属性を付与することはできない。

