# C.11.1 幾何オブジェクトの作成

## C.11.1 幾何オブジェクトの作成

建築物モデルの作成に必要となる原典資料を表C-47に示す。

**表 C-47 — 建築物モデルの原典資料一覧（幾何オブジェクト）**

|  | 水平位置 | 高さ | 上面の形状 | 付属物 | 屋内空間 |
| --- | --- | --- | --- | --- | --- |
| LOD0 | 都市計画基本図等のDMデータ | ― | ― | ― | ― |
| LOD1 | 都市計画基本図等のDMデータ又は航空写真 | 航空レーザ点群又は航空写真から作成した点群 | ― | ― | ― |
| LOD2 | 都市計画基本図等のDMデータ又は航空写真 | 航空レーザ点群又は航空写真から作成した点群 | 航空レーザ点群又は航空写真から作成した点群 | 航空レーザ点群又は航空写真から作成した点群 | ― |
| LOD3 | 以下のいずれかのデータを一つ以上使用する。都市計画基本図等のDMデータ航空写真航空レーザ点群MMS点群地上レーザ点群LiderSLAM点群平面図 | 以下のいずれかのデータを一つ以上使用する。航空レーザ点群航空写真から作成した点群MMS点群地上レーザ点群LiderSLAM点群 | 以下のいずれかのデータを一つ以上使用する。航空レーザ点群航空写真から作成した点群MMS点群地上レーザ点群LiderSLAM点群 | 以下のいずれかのデータを一つ以上使用する。航空レーザ点群航空写真から作成した点群MMS点群地上レーザ点群LiderSLAM点群 | ― |
| LOD4 | 以下のいずれかのデータを一つ以上使用する。都市計画基本図等のDMデータ航空写真航空レーザ点群MMS点群地上レーザ点群LiderSLAM点群平面図BIMモデル | 以下のいずれかのデータを一つ以上使用する。航空レーザ点群航空写真から作成した点群MMS点群地上レーザ点群LiderSLAM点群BIMモデル | 以下のいずれかのデータを一つ以上使用する。航空レーザ点群航空写真から作成した点群MMS点群地上レーザ点群LiderSLAM点群BIMモデル | 以下のいずれかのデータを一つ以上使用する。航空レーザ点群航空写真から作成した点群MMS点群地上レーザ点群LiderSLAM点群BIMモデル | 以下のいずれかのデータを一つ以上使用する。平面図及び断面図MMS点群LidarSLAM点群地上レーザ点群LiderSLAM点群BIMモデル |
| 注記C.11.1の注記原典資料の一覧に示す平面図、断面図は設計時や竣工時に作成された図面を指す。また、図面は紙出力された資料及びCADデータを含む。 | ← | ← | ← | ← | ← |

## C.11.1.1 LOD0

## C.11.1.1.1 原典資料

**表 C-48**

|  | 水平位置 | 高さ | 上面の形状 | 付属物 | 屋内空間 |
| --- | --- | --- | --- | --- | --- |
| LOD0 | 都市計画基本図等のDMデータ | ― | ― | ― | ― |

## C.11.1.1.2 作業手順

- DMデータより建築物に関する図式を抽出する。
表C-49に関する公共測量標準図式の分類コードを示す。ただし、都市により独自の分類コードを使用していることがあるため、都市ごとの公共測量作業規程を確認する必要がある。
- 妥当な幾何オブジェクトの要件に適合するよう、必要に応じて図式を修正する。
公共測量標準図式では、建築物の外周は、始終点が一致した面として定義されている。ただし、採用する公共測量標準図式の版によっては、建築物の外周が線として作成されている場合もある。 
そのため、抽出したDMデータの幾何オブジェクトが妥当な幾何オブジェクトの要件に適合しているかを確認し、適合していない場合には修正が必要となる。

**表 C-49 — 建築物に該当する公共測量標準図式の分類コード**

| ファイル名 | Building_class.xml |
| --- | --- |
| ファイルURL | [https://www.geospatial.jp/iur/codelists/3.2/Building_class.xml](https://www.geospatial.jp/iur/codelists/3.2/Building_class.xml) |
| コード | 説明 |
| 3001 | 普通建物 |
| 3002 | 堅ろう建物 |
| 3003 | 普通無壁舎 |
| 3004 | 堅ろう無壁舎 |
| 3000 | 分類しない建物 |
| 出典： [[15]](https://www.gsi.go.jp/common/000259076.pdf) | ← |

**表 C-50 — C-1: 2次元のGISデータのエラーについて**

| ID | `/att/bldg/1` |
| --- | --- |
| 主題 | 妥当な建築物データセットの要件 |
| 分類 | 要件分類C-1: 妥当な建築物オブジェクト作成 |
| 条文 | 建築物モデル（LOD0）で使用するgml:Polygonは、その外周及び内周の自己交差や重なりが許されない。そのため、DMデータの形状に下記図の「誤」に区分されるエラーが含まれる場合は、図形を修正する必要がある。![Image](images/tocC_11_01_img001.png)gml:Polygonの例　（附属書Bより再掲） |

**表 C-51 — C-2: より詳細な建築物モデルに基づく建築物モデル（LOD0）の修正について**

| ID | `/att/bldg/2` |
| --- | --- |
| 主題 | 妥当な建築物データセットの要件 |
| 分類 | 要件分類C-1: 妥当な建築物オブジェクト作成 |
| 条文 | より新しい原典資料を用いて建築物モデル（LOD2）を作成する場合、LOD2の外周の正射影と既存のLOD0の形状が一致するよう、LOD0の形状を修正することを基本とする。一方、建築物モデル（LOD3）又は建築物モデル（LOD4）を作成する場合、LOD3又はLOD4の外周の正射影とLOD0の形状を一致させる必要はない。 |

## C.11.1.2 LOD1

## C.11.1.2.1 原典資料

**表 C-52**

|  | 水平位置 | 高さ | 上面の形状 | 付属物 | 屋内空間 |
| --- | --- | --- | --- | --- | --- |
| LOD1 | 都市計画基本図等のDMデータ又は航空写真 | 航空レーザ点群又は航空写真から作成した点群 | ― | ― | ― |

## C.11.1.2.2 作業手順

- 建築物モデル（LOD0）の範囲に含まれる航空写真から作成した点群又は航空レーザ点群を抽出し、中央値を算出する。
- 建築物モデル（LOD0）を構成する各頂点に、高さとして、算出した中央値を与える。
- 前項で作成した高さをもった外周を、地表面の高さまで押し下げ、立体を作成する。地表面が傾斜している場合は、最低となる高さまで押し下げる。

**表 C-53 — C-3: 面の向きについて**

| ID | `/att/bldg/3` |
| --- | --- |
| 主題 | 妥当な建築物データセットの要件 |
| 分類 | 要件分類C-1: 妥当な建築物オブジェクト作成 |
| 条文 | LOD1では、建築物を立体として作成する。立体を構成する各面は、外側が正となる向きになっていなければならない。建築物モデル（LOD0）において、lod0FootPrintを使用した場合、この面は上向きとなる。一方、この面を立体の底として利用する場合は、下向きの面にならなければならない。つまり、建築物モデル（LOD0）で使用するlod0FootPrintの面と、建築物モデル（LOD1）の底面として使用する面は、表裏の関係となる。面の向きを変えるには、座標列を反転させればよい。 |

**表 C-54 — C-4: より詳細な建築物モデルに基づく建築物モデル（LOD1）の修正について**

| ID | `/att/bldg/4` |
| --- | --- |
| 主題 | 妥当な建築物データセットの要件 |
| 分類 | 要件分類C-1: 妥当な建築物オブジェクト作成 |
| 条文 | 建築物モデル（LOD2）を作成した際に、建築物モデル（LOD1）の形状と著しく乖離することが明らかとなった場合は、建築物モデル（LOD1）を、建築物モデル（LOD2）に基づいて修正することを基本とする。 LOD1では、LOD0により記述される建築物の外形データを一律の高さで上向きに押し出すことにより建築物を立体として作成する。そのため、建築物の外形データの取得方法によっては、一律の高さを与えることで実際の建築物の形状と著しく乖離する場合がある。下記図は建築物の正面玄関に存在する階段の両端にあたる部分が外周の一部として取得されていたため、LOD1による一律の押し出しにより、実際の形状と乖離した例である。 このような場合は、建築物モデル（LOD2）に基づき、建築物モデル（LOD1）を修正することを基本とする。ただし、修正は、建築物モデル（LOD1）がbldg:lod0RoofEdgeから作成されている場合に限る。 なお、建築物モデル（LOD3）及び建築物モデル（LOD4）は作成の手法上、建築物の外形に異なる地図情報レベルが含まれる場合があるため、建築物モデル（LOD1）を修正する必要はない。![Image](images/tocC_11_01_img002.png)実際の建築物の形状と乖離するLOD1建築物（中央）の例 |

**表 C-55 — C-5: LOD1の押し出し高さについて**

| ID | `/att/bldg/5` |
| --- | --- |
| 主題 | 妥当な建築物データセットの要件 |
| 分類 | 要件分類C-1: 妥当な建築物オブジェクト作成 |
| 条文 | LOD1の押し出し高さは一律の高さである。一律の高さは、建築物モデル（LOD0）の範囲に含まれる航空写真から作成した点群又は航空レーザ点群の中央値を原則としている。取得した押し出し高さ（中央値）が妥当であるかどうかの判断方法の一例を下記に示す。 建築物モデル（LOD1）に対して塔状比（LOD1の押し出し高さ/√LOD0の面積）（下記図）を算出し閾値を超えたものは、該当の建築物モデルを航空写真又は航空レーザ点群で屋根の高さを取得できるか目視で確認する。![Image](images/tocC_11_01_img003.png)塔状比の計算例閾値は整備する自治体の特性（都市部が多い、山間部が多い等）に応じ変更する。例えば、2023年度に整備した東京都の建築物モデルでは、閾値として「2」を採用した。上記の判断方法にて押し出し高さが妥当でないと判断された場合は、以下の手法のいずれかにより押し出し高さを設定する。なお、採用する手法については、発注者と協議が必要である。 都市計画基礎調査の建物利用現況に含まれる「高さ」を押し出し高さとする。建築確認申請書類等に記載される「建築物の高さ」を押し出し高さとする。「階高（3mや4m）」に都市計画基礎調査等に含まれる「建物階数」を乗算した値を押し出し高さとする。一律3mを押し出し高さとする。下記図に実際に正しい高さが取得できない建築物の事例を示す。![Image](images/tocC_11_01_img004.png)樹木下の建築物の例中央値以外の値を採用する場合は、uro:lod1HeightTypeの値をコードリスト（DataQualityAttribute_lod1HeightType.xml）から採用した方法に従って選択し、入力する。 |

## C.11.1.3 LOD2

## C.11.1.3.1 原典資料

**表 C-56**

|  | 水平位置 | 高さ | 上面の形状 | 付属物 | 屋内空間 |
| --- | --- | --- | --- | --- | --- |
| LOD2 | 都市計画基本図等のDMデータ又は航空写真 | 航空レーザ点群又は航空写真から作成した点群 | 航空レーザ点群又は航空写真から作成した点群 | 航空レーザ点群又は航空写真から作成した点群 | ― |

## C.11.1.3.2 作業手順

- 建築物の外観を構成する各面を取得する。
建築物モデル（LOD0）の範囲に含まれる航空写真から作成した点群又は航空レーザ点群を抽出し、建築物の屋根形状を作成する。このとき、屋根の棟及び谷で区切り、屋根の傾斜や向きを再現する。
- 前項で作成した各面を境界とする立体を作成する。
建築物モデル（LOD2）の作成については、以下の技術レポートを参考にできる。 
参考「 [AI等を活用したLOD2自動生成ツールの開発及びOSS化技術検証レポート](https://www.mlit.go.jp/plateau/file/libraries/doc/plateau_tech_doc_0056_ver01.pdf)」

## C.11.1.4 LOD3

## C.11.1.4.1 原典資料

**表 C-57**

|  | 水平位置 | 高さ | 上面の形状 | 付属物 | 屋内空間 |
| --- | --- | --- | --- | --- | --- |
| LOD3 | 以下のいずれかのデータを一つ以上使用する。都市計画基本図等のDMデータ航空写真航空レーザ点群MMS点群地上レーザ点群LiderSLAM点群平面図 | 以下のいずれかのデータを一つ以上使用する。航空レーザ点群航空写真から作成した点群MMS点群地上レーザ点群LiderSLAM点群 | 以下のいずれかのデータを一つ以上使用する。航空レーザ点群航空写真から作成した点群MMS点群地上レーザ点群LiderSLAM点群 | 以下のいずれかのデータを一つ以上使用する。航空レーザ点群航空写真から作成した点群MMS点群地上レーザ点群LiderSLAM点群 | ― |

## C.11.1.4.2 作業手順

- 建築物の側面を構成する各面を取得する。
建築物モデル（LOD2）の範囲に含まれるMMS点群又は地上レーザ点群を抽出し、建築物の側面を作成する。
- 前項で作成した各面を、外壁面などの境界面や開口部（扉や窓）に区分する。
- 前項で区分した面を用いて建築物の立体を作成する。
建築物モデル（LOD3）の作成については、以下の技術レポートを参考にできる。 
参考「 [3D都市モデルLOD3データ作成実証レポート](https://www.mlit.go.jp/plateau/file/libraries/doc/plateau_tech_doc_0003_ver01.pdf)」

## C.11.1.5 LOD4

## C.11.1.5.1 原典資料

**表 C-58**

|  | 水平位置 | 高さ | 上面の形状 | 付属物 | 屋内空間 |
| --- | --- | --- | --- | --- | --- |
| LOD4 | 以下のいずれかのデータを一つ以上使用する。都市計画基本図等のDMデータ航空写真航空レーザ点群MMS点群地上レーザ点群LiderSLAM点群平面図BIMモデル | 以下のいずれかのデータを一つ以上使用する。航空レーザ点群航空写真から作成した点群MMS点群地上レーザ点群LiderSLAM点群BIMモデル | 以下のいずれかのデータを一つ以上使用する。航空レーザ点群航空写真から作成した点群MMS点群地上レーザ点群LiderSLAM点群BIMモデル | 以下のいずれかのデータを一つ以上使用する。航空レーザ点群航空写真から作成した点群MMS点群地上レーザ点群LiderSLAM点群BIMモデル | 以下のいずれかのデータを一つ以上使用する。平面図及び断面図MMS点群LidarSLAM点群地上レーザ点群LiderSLAM点群BIMモデル |

## C.11.1.5.2 作業手順（BIMモデルからの変換により作成する場合）

BIMモデルからの建築物モデル（LOD4）の作成については、以下のマニュアルに従う。
参考「 [3D都市モデル整備のためのBIM活用マニュアル](https://www.mlit.go.jp/plateau/libraries/handbooks/)」

## C.11.1.5.3 作業手順（測量により作成する場合）

建築物モデル（LOD4）において、屋外の形状を作成する手順は、建築物モデル（LOD3）と同様となる。以下の作業手順により屋内の形状を取得する。

- 平面図、断面図等の図面又は点群を使用し、建築物の内部を部屋に区分する。
- 各部屋の境界面を、天井面（bldg:CeilingSurface）、床面（bldg:FloorSurface）、内壁面（bldg:InteriorWallSurface）又は閉鎖面（bldg:ClosureSurface）に区分する。
- （LOD4.1又はLOD4.2の場合）図面又は点群データを参考に、階段、スロープ、輸送設備（エスカレータ、エレベータ及び動く歩道）、柱及びデッキ・ステージを作成する。
- （LOD4.2の場合）平面図、断面図等または点群データを参考に手すり、パネル（部屋の間仕切りのパネル）及び梁を取得する。また、椅子や机などの家具を作成する。

**表 C-59 — C-6: 建築物モデル（LOD4）における部屋の区分について**

| ID | `/att/bldg/6` |
| --- | --- |
| 主題 | 妥当な建築物データセットの要件 |
| 分類 | 要件分類C-1: 妥当な建築物オブジェクト作成 |
| 条文 | 建築物モデル（LOD4）では、建築確認申請における部屋を部屋（bldg:Room）として取得する。このときの部屋には、例えば防火区画のように、壁等により物理的に区切られていない、仮想的に区切られた空間を含む。このような空間を区切る場合には、閉鎖面（bldg:ClosureSurface）を使用する。 |

**表 C-60 — C-7: 建築物モデル（LOD4）における付属物の取得について**

| ID | `/att/bldg/7` |
| --- | --- |
| 主題 | 妥当な建築物データセットの要件 |
| 分類 | 要件分類C-1: 妥当な建築物オブジェクト作成 |
| 条文 | 建築物モデル（LOD4）では、取得対象とする地物型に応じて、LOD4.0、LOD4.1及びLOD4.2の三段階にLODを細分している。LOD3では、対象とする地物の大きさにより各LODにおける付属物等の取得基準を定めているが、LOD4では対象とする地物の大きさではなく種類で取得基準を指定していることに注意する。 |

