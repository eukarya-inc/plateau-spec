# C.11.2.6 都市計画基礎調査（建物利用現況）の付与

## C.11.2.6 都市計画基礎調査（建物利用現況）の付与

建築物モデルに、都市計画基礎調査等の原典資料から主題属性を付与する方法として、GISソフトウェアを用いた空間結合（建築物モデル（LOD0）の図形と原典資料の図形の重なりを利用して、主題属性を付与する方法）を採用することが標準的である。

しかしながら、建築物モデルの原典資料となる都市計画基本図（数値地形図）と都市計画基礎調査（建物利用現況）は、作成時点、取得基準及び作成方法が異なる場合があり、両者の外形は必ずしも一致しない。また、自治体によって建物利用現況の作成方法が異なるため、同一の作業手順を全自治体に適用することは難しい。

![Image](images/tocC_11_02_06_img001.png)

そこで、空間結合により建築物モデルに建物利用現況の属性を付与する方法として二つの事例を示す。
事例1は建築物モデル（LOD0）と建物利用現況のGISデータ（面）の交差面積がそれぞれの図形の面積に占める割合で対応付ける手法、事例2は建築物モデル（LOD0）と建物利用のGISデータ（面）がどれだけ似た図形であるかを指標化しそれらの指標を基に対応付ける手法である。事例1は交差面積と元図形の面積のみで建築物モデルと建物利用現況を対応付けるため、建築物モデルと建物利用現況の形状の差異に強い手法である。一方で、形状が異なる建築物モデルと建物利用現況であっても対応付く恐れもある。そういった問題が懸念される場合は、事例2のような形状の類似性を評価し、それを基に建築物モデルと建物利用現況を対応付ける手法を使用するとよい。ただし、前述の通り、原典資料の状態及び品質（位置の品質、整備時点の差異等）は、自治体ごとに異なるため、作業方法については発注者と協議することが望ましい。

事例1　交差面積を利用して建築物モデルと建物利用現況を対応付ける。

- 建物利用現況と建築物モデル（LOD0）（都市計画基本図）で、GISソフトウェアを使用し空間交差（インターセクト）を実行する。
- 空間交差の結果を基に、一つの建築物モデルの面積に対し重なる建物利用現況の図形面積の合計の比率を計算し、閾値未満の建築物モデルは属性付与対象から削除する。（図C-45）注記1C.11.2.6の注記1この際に使用する閾値は原典資料の特性により、適切な閾値を設定する。例えば、2023年度整備の東京都の建築物モデルの場合は、60%を閾値としている。図C-45 — b．処理結果のイメージ
- 空間交差の結果を基に、一つ建物利用現況に対し重なる建築物モデルの面積の合計の比を計算し、閾値未満の建物利用現況は属性付与対象から削除する。（図C-46）図C-46 — c．処理結果のイメージ
- b）及びc）で削除したあと残った建築物モデル、建物利用現況で再度空間交差を実行する。
- 空間交差の結果を基に、一つの建築物モデルの面積に対し重なる建物利用現況の図形面積の合計の比を計算し、閾値未満の建築物モデルは属性付与対象から削除する。（図C-47）図C-47 — e．処理結果のイメージ
- 空間交差の結果を基に、一つ建物利用現況に対し重なる建築物モデルの面積の合計の比率を計算し、閾値未満の建物利用現況は属性付与対象から削除する。（図C-48）図C-48 — f．処理結果のイメージ
- 空間交差の結果、一対一で対応付いた場合は、その建物利用現況の主題属性を建築物モデルに付与する。処理の結果、図C-49のようにAとA’、BとB’が一対一で対応付く。図C-49 — g．処理結果のイメージ
- 建築物モデル一つに対し複数の建物現況調査が対応付いた場合は、重なる面積が最大の建物利用現況を採用し、その属性を建築物モデルに付与する。処理の結果、図C-50のように新たにCとC‘が一対一で対応付く。図C-50 — h．処理結果のイメージ
- 建物利用現況一つに対して複数の建築物が対応付いた場合は、同じ建物利用現況の主題属性をそれぞれの建築物モデルに付与する。処理の結果、図C-51のように新たにDとD‘が二対一で対応付く。図C-51 — i．処理結果のイメージ

事例2　周長等を利用して建築物モデルと建物利用現況を対応づける

事例1は交差面積のみで建築物モデルと建物利用現況の対応付けを行っている。事例2では、建築物モデル（LOD0）及び建物利用現況の各図形の面積、周長、狭長（図形の面積を図形の周長で除した値）を算出し、それらを使って似た形状同士を対応付ける手法である。そのため、建築物モデルと建物利用現況の形状が近しいことが前提となることに留意する。

- 建築物モデル及び建物利用現況の各図形の面積、周長、狭長を算出する。
- 建物利用現況と建築物モデルで、GISソフトウェアを使用し空間交差（インターセクト）を実行する。
- 空間交差の結果、対応付いた建築物モデルと建物利用現況の全ての組み合わせに対し面積、周長、狭長から面積差率（ABS（（建築物モデルの面積-建物利用現況の図形面積）/建築物モデルの面積）×100）、周長差率（ABS（（建築物モデルの周長-建物利用現況の周長）/建築物モデルの周長）×100）、狭長差率（ABS（（建築物モデルの狭長-建物利用現況の狭長）/建築物モデルの狭長）×100）を求める。注記2C.11.2.6の注記2ABS（X）はXの絶対値とする。
- 面積差率、周長差率、狭長差率が各閾値を超える建築物モデルと建物利用現況の組み合わせを属性付与対象の対象外とする。注記3C.11.2.6の注記3この際に使用する閾値は原典資料の特性により、適切な閾値を設定する。例えば、面積差率、周長差率、狭長差率の平均及び標準偏差を算出し、その平均及び標準偏差から各差率の閾値を設定することができる。ただし、この閾値の設定の考え方は建築物モデルと建物利用現況の大多数が近しい形状をもつことが前提である。
- d）を実施し残った建築物モデルと建物利用現況の組み合わせが一対一で対応付いた場合は、その建物利用現況の主題属性を建築物モデルに付与する。
- 一つの建築物モデルに対し、複数の建物利用現況が対応付いた場合は、その中で面積差率、周長差率、狭長差率を加算し、3で除したものの最も低い建物利用現況を採用し、その主題属性を建築物モデルに付与する。
- 一つの建物利用現況に対し、複数の建築物モデルが対応付いた場合は同じ建物利用現況の主題属性をそれぞれの建築物モデルに付与する。

