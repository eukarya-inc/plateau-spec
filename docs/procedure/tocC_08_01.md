# C.8.1 建築物付属物の空間属性

## C.8.1 建築物付属物の空間属性

bldg:BuildingInstallationの空間属性の型は、gml:_Geometryである。gml:_Geometryは、幾何オブジェクトの基底要素であり、実装においては、この下位型のうち、具象となる幾何オブジェクトを、地物の形状に合わせて選定する。

**表 C-37 — C-25: bldg:BuildingInstallationの空間属性タイプ**

| ID | `/req/bldg/25` |
| --- | --- |
| 主題 | 妥当な建築物データセットの要件 |
| 分類 | 要件分類C-1: 妥当な建築物オブジェクト作成 |
| 条文 | bldg:BuildingInstallationの空間属性の型には、gml:MultiSurfaceを使用することを原則とする。 |

ある程度の広がりをもつ地物は、曲面の集まり又は立体を使用する。CityGMLでは、曲面や立体だけではなく、点や曲線も使用可能である。しかしながら3D都市モデルでは、3次元での利用を想定し、付属物の形状に使用可能な幾何オブジェクトを曲面又は立体に限定する。原則として面の集まり（gml:MultiSurface）を使用するが、ユースケースの必要に応じてgml:Solidを使用できる。

**表 C-38 — C-26: bldg:BuildingInstallationの接触条件**

| ID | `/req/bldg/26` |
| --- | --- |
| 主題 | 妥当な建築物データセットの要件 |
| 分類 | 要件分類C-1: 妥当な建築物オブジェクト作成 |
| 条文 | bldg:BuildingInstallationの空間属性は、bldg:Building又はbldg:BuildingPartと接していなければならない。 |

また、建築物付属物をbldg:BuildingInstallationを用いて記述する場合には、一棟のbldg:Building又はbldg:Buildingの一部でなければならず、孤立して存在することは許されない。
 bldg:BuildingInstallationも、その境界面をbldg:_BoundarySurfaceを用いて記述することができる。bldg:_BoundarySurfaceを用いて建築物付属物の外壁面等を記述する場合は、bldg:BuildingInstallationの空間属性は、この境界面となるbldg:_BoundarySurfaceの空間属性を外部参照しなければならない。

**表 C-39 — C-27: bldg:BuildingInstallationの境界面参照条件**

| ID | `/req/bldg/27` |
| --- | --- |
| 主題 | 妥当な建築物データセットの要件 |
| 分類 | 要件分類C-1: 妥当な建築物オブジェクト作成 |
| 条文 | bldg:BuildingInstallationの境界面をbldg:_BoundarySurfaceを用いて記述する場合、bldg:BuildingInstallation の空間属性bldg:lod2Geomerty又はbldg:lod3Geomertyは、bldg:_BoundarySurfaceの空間属性を外部参照しなければならない。 |

図C-40に建築物付属物と境界面の例を示す。図C-40は建築物の外部に設置された階段であり、その大きさから立体として取得する。このとき、立体を構成する各境界面を、bldg:_BoundarySurfaceの下位型となる地物型にて取得する場合は、階段部分及び踊り場はbldg:OuterFloorSurface、側面はbldg:WallSurface、下面はbldg:GroundSurfaceとして取得する。また、建築物本体との境界面は仮想的にbldg:ClosureSurfaceとして取得する。この仮想的な面は、立体の外側境界を閉じるために必要である。

![Image](images/tocC_08_01_img001.png)

ユースケースに不要な場合には、bldg:BuildingInstallationの境界面はbldg:_BoundarySurfaceを用いて記述しなくてもよい。ただし、bldg:BuildingInstallationの境界面が、bldg:Buildingの境界面を兼ねる場合には、必ずbldg:BuildingInstallationの境界面をbldg:_BoundarySurfaceを用いて記述しなければならない。

**表 C-40 — C-28: bldg:BuildingInstallationの境界面記述条件**

| ID | `/req/bldg/28` |
| --- | --- |
| 主題 | 妥当な建築物データセットの要件 |
| 分類 | 要件分類C-1: 妥当な建築物オブジェクト作成 |
| 条文 | bldg:BuildingInstallationの境界面が、bldg:Buildingの境界面を兼ねる場合、bldg:BuildingInstallationの境界面は、bldg:_BoundarySurfaceの下位型を用いて記述する。 |

このとき、bldg:Buildingの境界面とbldg:BuildingInstallationの境界面とは、表裏の関係になる。

