# 附属書N 妥当なその他の構造物オブジェクト

## 附属書N （規定） 妥当なその他の構造物オブジェクト

## N.1 概要

本付属書では、「3D都市モデル標準製品仕様書」（以下、「標準製品仕様書」という）に適合したデータ製品について、「その他の構造物モデル」に従って作成されるべき都市オブジェクト（以下、「その他の構造物オブジェクト」という）が満たすべき要件と、妥当なその他の構造物オブジェクトを作成するための標準的な作業手順を示す。

**表 N-1 — N-1: 妥当なその他の構造物オブジェクト**

| ID | `/req/cons` |
| --- | --- |
| 対象の種類 | 妥当なその他の構造物オブジェクトの要件 |
| 説明 | その他の構造物の説明とLODの要件 |
| 規定 | 要件N-1: その他の構造物記述のLOD対応条件要件N-2: その他の構造物のLOD0形状定義要件N-3: その他の構造物のLOD1形状定義要件N-4: その他の構造物のLOD2形状定義要件N-5: その他の構造物のLOD3形状定義 |

## N.2 その他の構造物の記述とLOD

## N.2.1 その他の構造物モデル

その他の構造物とは、構造物のうち、建築物、橋梁及びトンネルを除く土木構造物をいう。「構造物」とは、「目的とする機能を持ち、作用に対して抵抗することを意図として人為的に構築されるもの」（土木・建築にかかる設計の基本、国土交通省）であり、ダム、堤防、床止め、堰（せき）、水門・閘門・陸閘、樋門・樋管、伏せ越し、水制、護岸、防波堤その他の土木構造物を指す。

その他の構造物の記述には、i-URのUrbanObjectモジュールに定義された、uro:OtherConstructionを使用する。uro:OtherConstructionは、CityGML3.0において新たに追加されたモジュールである構造物（Construction）モジュールの地物型であるcon:OtherConstructionを、CityGML2.0においても使えるように、i-URにおいて拡張した地物型である。

標準製品仕様書では、その他の構造物の表現に必要な地物型等をi-URから抽出し、LODごとに、含むべき地物型、各地物型の空間属性の型、取得基準、取得方法及び補足を定めた「その他の構造物モデル」を定義する。

その他の構造物モデルのLODは、LOD0からLOD3までを対象とする。

![Image](images/tocN_img001.png)

- LOD0は、その他の構造物の形状を、「公共測量標準図式」に従い、点、線又は面により表現する。
- LOD1は、その他の構造物の上方からの正射影の外周に一律の高さを与えて上向きに押し出した立体（箱モデル）である。
- LOD2は、航空写真等上空から取得したデータの利用を前提とした区分であり、その他の構造物の上面を詳細化する。
- LOD3は、MMSによる点群や画像等、側面から取得したデータや図面の利用を前提とした区分であり、その他構造物の側面を詳細化する。また、その他の構造物の付属物を表現できる。

## N.2.2 使用可能な地物型とLOD

その他の構造物モデルは、LODごとに使用すべき地物型やその空間属性を定めている。

**表 N-2 — N-1: その他の構造物記述のLOD対応条件**

| ID | `/req/cons/1` |
| --- | --- |
| 主題 | 妥当なその他の構造物データセットの要件 |
| 分類 | 要件分類N-1: 妥当なその他の構造物オブジェクト |
| 条文 | その他の構造物の記述には、指定されたLODに対応する地物型及び空間属性を使用する。 |

その他の構造物は、橋梁（brid:Bridge）やトンネル（tun:Tunnel）と同様に、本体（uro:OtherConstruction）とその付属物（uro:ConstructionInstallation）から構成される。また、本体の外形は、境界面（uro:_BoundarySurface）に区分される。境界面はその向きや機能により、屋根面（uro:RoofSurface）、外壁面（uro:WallSurface）、底面（uro:GroundSurface）、閉鎖面（uro:ClosureSurface）、屋外床面（uro:OuterFloorSurface）及び屋外天井面（uro:OuterRoofSurface）に区分する。

- その他の構造物モデル（LOD0）では、uro:OtherConstructionのみを使用し、その他の構造物の形状を点、線又は面として表現する。
- その他の構造物モデル（LOD1）では、uro:OtherConstructionのみを使用し、その他の構造物の形状を立体として表現する。
- その他の構造物モデル（LOD2）では、uro:OtherConstructionを使用し、その他の構造物の形状を立体として表現するとともに、その境界面を区分する。
- その他の構造物モデル（LOD3）では、uro:OtherConstructionを使用し、その他の構造物の形状を立体として表現するとともに、その境界面を区分し、また、その他の構造物の付属物をuro:ConstructionInstallationにより表現できる。

その他の構造物の各LODにおいて使用可能な地物型と空間属性を、表N-3に示す。

**表 N-3 — その他の構造物モデルの記述に使用する地物型と空間属性**

| 地物型 | 空間属性 | LOD0 | LOD1 | LOD2 | LOD3 | 適用 |
| --- | --- | --- | --- | --- | --- | --- |
| uro:OtherConstruction |  | ● | ● | ● | ● |  |
| ↑ | uro:lod0Geometry | ● |  |  |  | 数値地形図（DM）の取得方法に従う。 |
| ↑ | uro:lod1Geometry |  | ● |  |  | 立体となる。 |
| ↑ | uro:lod2Geometry |  |  | ● |  | 立体となる。 |
| ↑ | uro:lod3Geometry |  |  |  | ● | 立体となる。 |
| uro:RoofSurface |  |  |  | ● | ● | 構造物の外形を構成する面のうち、上向きの面に使用する。 |
| ↑ | uro:lod2MultiSurface |  |  | ● |  |  |
| ↑ | uro:lod3MultiSurface |  |  |  | ● | ↑ |
| uro:WallSurface |  |  |  | ● | ● | 構造物の外形を構成する面のうち、側方の面に使用する。 |
| ↑ | uro:lod2MultiSurface |  |  | ● |  |  |
| ↑ | uro:lod3MultiSurface |  |  |  | ● | ↑ |
| uro:GroundSurface |  |  |  | ● | ● | 構造物の外形を構成する面のうち、下向きの面に使用する。 |
| ↑ | uro:lod2MultiSurface |  |  | ● |  |  |
| ↑ | uro:lod3MultiSurface |  |  |  | ● | ↑ |
| uro:ClosureSurface |  |  |  | ■ | ■ | 行政界で区切る場合に必須とする。 |
| ↑ | uro:lod2MultiSurface |  |  | ■ |  | ClosureSurfaceを作成する場合は必須とする。 |
| ↑ | uro:lod3MultiSurface |  |  |  | ■ | ↑ |
| uro:OuterCeilingSurface |  |  |  |  | 〇 |  |
| ↑ | uro:lod2MultiSurface |  |  |  |  | OuterCeilingSurfaceを作成する場合は必須とする。 |
| ↑ | uro:lod3MultiSurface |  |  |  | ■ | ↑ |
| uro:OuterFloorSurface |  |  |  |  | 〇 |  |
| ↑ | uro:lod2MultiSurface |  |  |  |  | OuterFloorSurfaceを作成する場合は必須とする。 |
| ↑ | uro:lod3MultiSurface |  |  |  | ■ | ↑ |
| uro:ConstructionlInstallation |  |  |  |  | ■ | LOD3.1において必須とする。 |
| ↑ | uro:lod2Geometry |  |  |  |  |  |
| ↑ | uro:lod3Geometry |  |  |  | ■ | OtherConstructionInstallationを作成する場合は必須とする。 MultiSurfaceとする。 |
| ●：必須■：条件付必須〇：任意（ユースケースに応じて要否を決定してよい） | ← | ← | ← | ← | ← | ← |

## N.2.3 その他の構造物の空間属性

## N.2.3.1 LOD0

その他の構造物モデル（LOD0）では、その他の構造物の形状を、点、線又は面により表現する。このとき、その他の構造物オブジェクトは、その他の構造物モデル（LOD0）の定義に従ったものでなければならない。

**表 N-4 — N-2: その他の構造物のLOD0形状定義**

| ID | `/req/cons/2` |
| --- | --- |
| 主題 | 妥当なその他の構造物データセットの要件 |
| 分類 | 要件分類N-1: 妥当なその他の構造物オブジェクト |
| 条文 | その他の構造物のLOD0の形状は、その他の構造物モデル（LOD0）の定義に従う。 |

点は、gml:Point又はgml:MultiPointにより実装する。線は、gml:MultiCurveにより実装する。また、面はgml:MultiSurfaceにより実装する。

## N.2.3.2 LOD1

その他の構造物モデル（LOD1）では、その他の構造物の形状を、構造物の上方からの正射影の外周に一律の高さを与えて上向きに押し出した立体により表現する。このとき、その他の構造物オブジェクトは、その他の構造物モデル（LOD1）の定義に従ったものでなければならない。

**表 N-5 — N-3: その他の構造物のLOD1形状定義**

| ID | `/req/cons/3` |
| --- | --- |
| 主題 | 妥当なその他の構造物データセットの要件 |
| 分類 | 要件分類N-1: 妥当なその他の構造物オブジェクト |
| 条文 | その他の構造物のLOD1の形状は、その他の構造物モデル（LOD1）の定義に従う。 |

その他の構造物モデル（LOD1）では、構造物の外周に一律の高さを与えた立体を表現することを基本とする。ただし、水制や床止めのように、同じ形状の小規模な構造物が繰り返し配置され、一体となってその機能を果たす構造物の場合、全体を包含する矩形又は矩形の集まりを面として取得し、一律の高さを与えて上向きに押し出した立体とする。

## N.2.3.3 LOD2

その他の構造物モデル（LOD2）では、その他の構造物の形状を、主要な部分を簡略化した立体として表現する。立体は、上空から見た形状を取得し、立体の各境界面を、屋根面（RoofSurface）、外壁面（WallSurface）、底面（GroundSurface）又は閉鎖面（ClosureSurface）のいずれかに区分する。このとき、その他の構造物オブジェクトは、その他の構造物モデル（LOD2）の定義に従ったものでなければならない。

**表 N-6 — N-4: その他の構造物のLOD2形状定義**

| ID | `/req/cons/4` |
| --- | --- |
| 主題 | 妥当なその他の構造物データセットの要件 |
| 分類 | 要件分類N-1: 妥当なその他の構造物オブジェクト |
| 条文 | その他の構造物のLOD2の形状は、その他の構造物モデル（LOD2）の定義に従う。 |

その他の構造物モデル（LOD2）では、上空から見た形状が取得されるため、屋根面は詳細化されるが、外壁面は詳細化されない。

## N.2.3.4 LOD3

その他の構造物モデル（LOD3）では、その他の構造物の形状を立体として表現する。この立体は、主要な部分の外形を構成する特徴点から構成する面を境界面とする。また、立体の各境界面を、屋根面（RoofSurface）、外壁面（WallSurface）、底面（GroundSurface）又は閉鎖面（ClosureSurface）のいずれかに区分する。さらに、構造上不可欠ではない付属物（手すり、柵、構造物と一体ではない階段）を表現することができる。このとき、その他の構造物オブジェクトは、その他の構造物モデル（LOD3）の定義に従ったものでなければならない。

その他の構造物モデル（LOD3）は、構造上不可欠ではない付属物（手すり、柵、構造物と一体ではない階段）の表現有無によりLOD3.0及びLOD3.1に区分する。

**表 N-7 — N-5: その他の構造物のLOD3形状定義**

| ID | `/req/cons/5` |
| --- | --- |
| 主題 | 妥当なその他の構造物データセットの要件 |
| 分類 | 要件分類N-1: 妥当なその他の構造物オブジェクト |
| 条文 | その他の構造物のLOD3の形状は、その他の構造物モデル（LOD3）の定義に従う。 |

その他の構造物モデル（LOD1）及びその他の構造物モデル（LOD2）では、水制や床止めは、一体となって設置された構造物全体をまとめて一つのオブジェクトとして取得される。一方、その他の構造物モデル（LOD3）では、一つ一つの水制や床止めの形状を表現できる。ただし、一つ一つの水制や床止めを計測してその形状を再現する必要はなく、一つの水制又は床止めのその他の構造物モデル（LOD3）をテンプレートとして作成し、このモデルを配置する座標のみを変更した複製を配置してもよい。

## N.2.4 その他の構造物の主題属性

その他の構造物の主題属性には、構造物の種類を区分する属性のほか、構造物の管理者や完成年などの基本的な属性（uro:consBaseAttribute）、構造物の構造に関する属性（uro:consStructureAttribute）、構造物の位置や識別に関する属性（uro:FacilityIdAttribute）、特定の分野における施設区分に関する属性（uro:FacilityTypeAttribute）、その分野における施設管理に必要な属性（uro:FacilityAttribute）、公共測量標準図式に従った表現に必要となる属性（uro:consDmAttribute）及び作成したデータの品質に関する属性（uro:DataQualityAttribute）がある。

## N.2.4.1 分類（uro:class）、機能（uro:function）

その他の構造物には、ダム、堤防、床止め、堰、水門・閘門・陸閘、樋門・樋管、伏せ越し、水制、護岸、防波堤その他の土木構造物が含まれるが、これらの区分は属性classにより行う。また、属性functionにより、細分できる。

標準製品仕様書では、主に河川、港湾、漁港に関する構造物の区分をコードリストに用意しているが、不足する場合には、拡張製品仕様書において拡張できる。

## N.2.4.2 構造物基本属性（uro:consBaseAttribute）

構造物の管理に必要となる基本的な情報及び、構造物の建設に関する基本的な情報を記述する。

## N.2.4.3 構造物構造属性（uro:consStructureAttribute）

構造物の規模に関する基本的な情報を記述する。

## N.2.4.4 施設管理のための属性

施設管理のための属性は、港湾施設及び漁港施設、河川管理施設や公園管理施設等の施設管理に必要な情報を定義した属性である。施設管理のための属性は以下のデータ型を用いて記述する。

## N.2.4.4.1 施設分類属性（uro:FacilityTypeAttribute）

uro:FacilityTypeAttributeは、各分野で定める施設の区分を記述するためのデータ型である。CityGMLは、地物型を物体としての性質に着目して定義し、機能や用途は属性で区分している。例えば、「その他の構造物（uro:OtherConstruction）」という地物型を定義し、uro:classにより「ダム」や「堤防」などを区分している。これにより、都市に存在する様々な地物を、分野を問わず網羅的に、かつ、矛盾が無く表現することを目指している。一方、各分野には独自の施設の区分がある。この区分は当該分野での施設管理に必要な情報であるが、CityGMLの地物型の区分とは一致しない。そこで、これらの地物型に分野独自の区分を付与するためにこのデータ型を用いる。uro:FacilityTypeAttributeは、二つの属性をもつ。uro:classは分野を特定するための属性である。またuro:functionは、uro:classにより特定した分野における施設の区分を示す。

標準製品仕様書では、港湾施設、漁港施設及び公園施設については標準製品仕様書においてuro:functionの区分が示されている。その他の区分についてはuro:classへの分野の追加も含め、拡張製品仕様書において拡張できる。

## N.2.4.4.2 施設識別属性（uro:FacilityIdAttribute）

uro:FacilityIdAttributeは、施設の位置を特定する情報及び施設を識別する情報を記述するためのデータ型である。uro:FacilityIdAttributeは、施設を識別するための情報として、識別子（uro:id）や正式な名称以外の呼称（uro:alternativeName）に加え、施設の位置を示すための、都道府県（uro:prefecture）、市区町村（uro:city）及び開始位置の経緯度（uro:startLat、uro:startLong）を属性としてもつ。また、鉄道上や道路上の施設については、路線や距離標での位置特定のための属性（uro:route、uro:startPost、uro:endPost）を使用できる。

なお、河川管理施設の場合は、uro:FacilityIdAttributeを継承するuro:RiverFacilityIdAttributeを使用する。これにより、左右岸上での位置の情報を記述できる。

## N.2.4.4.3 施設詳細属性（uro:FacilityAttribute）

uro:FacilityAttributeは、各分野において施設管理に必要となる情報を記述するためのデータ型である。uro:FacilityAttributeは、抽象クラスであり、これを継承する具象となるデータ型に、施設の区分毎に必要となる情報を属性として定義している。

標準製品仕様書では、港湾施設、漁港施設及び公園施設について、細分した施設の区分ごとにデータ型を定義している。また、施設に関する工事や点検の状況や内容を記述するためのデータ型（uro:MaintenanceHistoryAttribute）を定義している。

## N.2.4.5 数値地形図属性（uro:consDmAttribute）

公共測量標準図式に従った形状表現を行うために必要な属性である。LOD0の幾何オブジェクトの他、数値地形図との互換性を保つために必要な情報が、属性として定義されている。

## N.2.4.6 品質属性（uro:DataQualityAttribute）

その他の構造物オブジェクトの作成に使用した原典資料の記録や、適用した詳細なLODの区分を示すための属性である。
使用した原典資料やそれに基づくデータの品質、また、採用したLODは、データセットのメタデータに記録できる。ただし、データセット全体に対して一つのメタデータを作成することが基本となり、個々の都市オブジェクトの品質を記録することは困難である。

同じデータセットの中に、航空写真測量により作成したその他の構造物オブジェクトや完成図等から作成したその他の構造物オブジェクトというように、複数の品質をもつ都市オブジェクトが混在している場合には、都市オブジェクトごとにこの構造物品質属性を使用して、品質情報を記録することで、その品質を明確にできる。

そこで、標準製品仕様書では、個々のデータに対してデータ品質に関する情報を記述するための属性として、「データ品質属性」（uro:DataQualityAttribute）を定義している。データ品質属性は、属性としてデータ作成に使用した原典資料の地図情報レベル、その他原典資料の諸元及び精緻化したLODをもつ。

3D都市モデルに含まれる全てのその他の構造物オブジェクトは、このデータ品質属性を必ず作成しなければならない。ただし、その他の構造物（uro:OtherConstruction）に対してデータ品質属性を付与することはできるが、これを構成する屋根面や外壁面（uro:_BoundarySurfaceの下位クラス）にデータ品質属性を付与することはできない。

## N.3 標準的な作業手順

## N.3.1 幾何オブジェクトの作成

作成に必要となる原典資料を示す。

**表 N-8 — 原典資料一覧**

|  | 水平位置 | 高さ | 上面の形状 | 側面の形状 | 付属物等 |
| --- | --- | --- | --- | --- | --- |
| LOD0 | 以下のいずれかのデータを一つ以上使用する都市計画図等のDMデータ平面図航空写真 | ― | ― | ― | ― |
| LOD1 | 以下のいずれかのデータを一つ以上使用する都市計画図等のDMデータ平面図航空写真 | 以下のいずれかのデータを一つ以上使用する断面図又は構造図等航空レーザ点群航空写真から作成した点群 | ― | ― | ― |
| LOD2 | 以下のいずれかのデータを一つ以上使用する都市計画図等のDMデータ平面図航空写真 | 以下のいずれかのデータを一つ以上使用する断面図又は構造図等航空レーザ点群航空写真から作成した点群 | 以下のいずれかのデータを一つ以上使用する平面図及び断面図又は構造図等航空レーザ点群航空写真から作成した点群 | ― | ― |
| LOD3.0 | 以下のいずれかのデータを一つ以上使用する都市計画図等のDMデータ平面図航空写真MMS点群地上レーザ点群LiderSLAM点群 | 以下のいずれかのデータを一つ以上使用する断面図又は構造図等航空レーザ点群航空写真から作成した点群MMS点群地上レーザ点群LiderSLAM点群 | 以下のいずれかのデータを一つ以上使用する平面図及び断面図又は構造図等航空レーザ点群航空写真から作成した点群MMS点群地上レーザ点群LiderSLAM点群 | 以下のいずれかのデータを一つ以上使用する断面図又は構造図MMS点群地上レーザ点群 | ― |
| LOD3.1 | 以下のいずれかのデータを一つ以上使用する都市計画図等のDMデータ平面図航空写真MMS点群地上レーザ点群LiderSLAM点群 | 以下のいずれかのデータを一つ以上使用する断面図又は構造図等航空レーザ点群航空写真から作成した点群MMS点群地上レーザ点群LiderSLAM点群 | 以下のいずれかのデータを一つ以上使用する平面図及び断面図又は構造図等航空レーザ点群航空写真から作成した点群MMS点群地上レーザ点群LiderSLAM点群 | 以下のいずれかのデータを一つ以上使用する断面図又は構造図MMS点群地上レーザ点群LiderSLAM点群 | 以下のいずれかのデータを一つ以上使用する平面図及び断面図又は構造図等航空レーザ点群航空写真から作成した点群MMS点群地上レーザ点群LiderSLAM点群 |
| 注記1N.3.1の注記1DMデータとは、数値地形図（DM）のデータである。注記2N.3.1の注記2原典資料の一覧に示す平面図、断面図、構造図は設計時や竣工時に作成された図面を指す。また、図面は紙出力された資料及びCADデータを含む。 | ← | ← | ← | ← | ← |

## N.3.1.1 LOD0

## N.3.1.1.1 原典資料

**表 N-9 — LOD0の原典資料**

|  | 水平位置 | 高さ | 上面の形状 | 側面の形状 | 付属物等 |
| --- | --- | --- | --- | --- | --- |
| LOD0 | 以下のいずれかのデータを一つ以上使用する都市計画図等のDMデータ平面図航空写真 | ― | ― | ― | ― |

## N.3.1.1.2 作業手順

- DMデータ、平面図又は航空写真から、構造物を包含する外形線、中央位置又は外形線により囲まれた面を取得する。高さは0とする。
護岸・堤防、水門・閘門・陸門・樋門・樋管（幅3.75m以上）、堰（長さ1.25m以上）、伏せ越し及び防波堤は外形線を取得する。 
水門（幅3.75m以下）及び堰（長さ1.25m以下）は中央位置を点として取得する。 
船揚場、水制及び床止めは外周を面として取得する。 
取得方法は数値地形図に従う。

## N.3.1.2 LOD1

## N.3.1.2.1 原典資料

**表 N-10 — LOD1の原典資料**

|  | 水平位置 | 高さ | 上面の形状 | 側面の形状 | 付属物等 |
| --- | --- | --- | --- | --- | --- |
| LOD1 | 以下のいずれかのデータを一つ以上使用する都市計画図等のDMデータ平面図航空写真 | 以下のいずれかのデータを一つ以上使用する断面図又は構造図等航空レーザ点群航空写真から作成した点群 | ― | ― | ― |

## N.3.1.2.2 作業手順

その他構造物の作業手順は作成する構造物の種類によって異なるため、種類ごとに作業手順を記載する。

## N.3.1.2.2.1 護岸・堰・ダム・水門・閘門・陸門・樋門・樋管

- DMデータ、平面図又は航空写真から、構造物の外周の上からの正射影をポリゴンとして取得する。
- 断面図若しくは構造図等の構造物の高さがわかる図面、航空写真から作成した点群又は航空レーザ点群から、付属物を含まないその他構造物の最高高さを取得し、a）で作成したポリゴンに高さを与える。図N-2 — 一律の高さの取得イメージ
- b）で高さを与えたポリゴンを、水面（地面）の高さ（陸上に設置されている場合は地表面）まで下向きに押し出し、立体とする。水面の高さは水部モデル（陸上に設置されている場合は、地形モデル）の頂点の高さのうち、最も低い高さとする。

![Image](images/tocN_img002.png)

## N.3.1.2.2.2 堤防

- DMデータ、平面図又は航空写真から、堤防の外周の正射影（表のり先と裏のり先の間の範囲）をポリゴンとして取得する。
- 表のり先法線と地形モデルの交線の高さ及び裏のり先法線と地形モデルの交線の高さを取得し、その高さの最低値を取得する。
- a）で作成したポリゴンにb）で取得した高さの最低値を各頂点に与える。この時作成された高さを持ったポリゴンは水平面となる。
- a）で作成したポリゴン内に含まれる航空レーザ点群又は航空写真から作成した点群の最高高さを取得し、c）で作成した高さ付きのポリゴンを最高高さから下向きに押し出し、立体とする。

![Image](images/tocN_img003.png)

## N.3.1.2.2.3 水制・床止め

- DMデータ又は平面図から、一体となって設置された構造物全体の形状を包含するポリゴンを作成する。この時作成されたポリゴンは矩形又は矩形の集まりとなる。
- 断面図、構造図等の構造物の高さがわかる図面から水面（地面）の高さと構造物の最高高さを取得し、一律の高さを与えて押し出した立体を作成する。水面の高さは水涯線の頂点のうち最も低い高さとする。
このときの水涯線は、水涯線の各頂点に地形モデルとの交点の高さを与えた高さ付きの水涯線とする。ただし、海面の場合は東京湾平均海面の高さ0mとする。 
その他の構造物モデル（LOD1）は航空測量から作成することを想定しているため、水中や地中部分は作成しない、下図のように作成する。図N-5 — 水制の断面イメージ

![Image](images/tocN_img004.png)

その他の構造物モデル（LOD1）の作成例を以下に示す。

![Image](images/tocN_img005.png)

![Image](images/tocN_img006.png)

![Image](images/tocN_img007.png)

## N.3.1.3 LOD2

## N.3.1.3.1 原典資料

**表 N-11 — LOD2の原典資料**

|  | 水平位置 | 高さ | 上面の形状 | 側面の形状 | 付属物等 |
| --- | --- | --- | --- | --- | --- |
| LOD2 | 以下のいずれかのデータを一つ以上使用する都市計画図等のDMデータ平面図航空写真 | 以下のいずれかのデータを一つ以上使用する断面図又は構造図等航空レーザ点群航空写真から作成した点群 | 以下のいずれかのデータを一つ以上使用する平面図及び断面図又は構造図等航空レーザ点群航空写真から作成した点群 | ― | ― |

## N.3.1.3.2 作業手順

その他構造物の作業手順は作成する構造物の種類によって異なるため、それぞれの種類の作業手順を記載する。

## N.3.1.3.2.1 護岸・堰・水門・閘門・陸門・樋門・樋管・伏せ越し

- その他の構造物モデル（LOD1）に航空レーザ点群又は航空写真から作成した点群を重畳させる。
- その他の構造物モデル（LOD1）の立体の上面のうち、高さが異なる部分を判読し、分割線（エッジ）を取得する。
分割線の取得基準はデータセットが採用する地図情報レベルの高さの誤差の標準偏差に収まるようにする。このとき、構造上不可欠でない付属物（手すり、柵、構造物と一体でない階段）は、その他の構造物モデル（LOD2）での作成対象でないため、高さが異なる部分とはしない。 
なお、上空から見えないとなる部分は外周を取得できない。例えば上部に管理所等の構造物があり、水門や堰のゲートが上から見えない場合はゲートの形状を表現しない。図面を用いて外周を取得する場合も同様である。図N-10 — その他の構造物モデル（LOD1）を高さが異なる面で分割するイメージ
- その他の構造物モデル（LOD1）の立体をb）で取得した分割線を用いて分割する。
これにより、その他の構造物モデル（LOD1）の立体を、高さの異なる部分に分割できる。
- c）で分割した立体の上面の各頂点に、点群の高さを与える。護岸や堤防に階段が設けられている場合は、最上段及び最下段を結ぶスロープ状に表現する。
これにより、その他の構造物モデル（LOD1）の立体を分割した各部分は、それぞれの高さをもつ。
- d）で作成した立体を構成する境界面を屋根面（RoofSurface）、外壁面（WallSurface）又は底面（GroundSurface）に区分する。
境界面は、上向きの面を屋根面、下向きの面の内最も低い面（水面又は地面と接する面）を底面、それ以外の面を外壁面に区分する。

![Image](images/tocN_img008.png)

## N.3.1.3.2.2 堤防

- その他の構造物モデル（LOD1）に航空レーザ点群又は航空写真から作成した点群を重畳させる。
- 点群の高さが異なる部分を判読し、その外周（エッジ）を取得する。この時取得される外周は表法面等の堤防を構成する各面の外周となる。
外周の取得基準は、データセットが採用する地図情報レベルの水平及び高さの誤差の標準偏差に収まるようにする。
- その他の構造物モデル（LOD1）の立体をb）で取得した外周を基に分割する。
- c）で分割した立体の上面の各頂点に対し、点群の高さを与える。護岸や堤防に階段が設けられている場合は、最上段及び最下段を結ぶスロープ状に表現する。
- d）で作成した立体を構成する面を屋根面（RoofSurface）、外壁面（WallSurface）、底面（GroundSurface）又は閉鎖面（ClosureSurface）に区分する。
境界面の区分は、表法面、天端、裏法面、小段、裏法面等、堤防を横断方向に区分する面を屋根面とし、下向きの面を底面とする。外壁面は堤防を縦断方向に区分する面（堤防の端）とし、行政界等で区切り、一部のみを作成する場合、その仮想的な境界面には閉鎖面を使用する。階段がある場合は階段を屋根面として区分する。

![Image](images/tocN_img009.png)

## N.3.1.3.2.3 水制・床止め

- 航空レーザ点群又は航空写真から作成した点群から、TINを作成する。
 TINの作成に使用する点群の密度は、1点/m2以上とする。
- a）で作成したTINを基にその他の構造物モデル（LOD1）の立体の上面を細分化する。
- b）で作成した立体を構成する面を屋根面（RoofSurface）、底面（GroundSurface）に区分する。上から見える面を全て屋根面、下向きの面（水面又は地面と接する面）を底面とし、外壁面は使用しない。図N-13 — その他の構造物モデル（LOD2）のイメージ（水制）

その他の構造物モデル（堰、樋門）（LOD2）の作成例を以下に示す。

![Image](images/tocN_img010.png)

![Image](images/tocN_img011.png)

![Image](images/tocN_img012.png)

## N.3.1.4 LOD3.0

## N.3.1.4.1 原典資料

**表 N-12 — LOD3.0 の原典資料**

|  | 水平位置 | 高さ | 上面の形状 | 側面の形状 | 付属物等 |
| --- | --- | --- | --- | --- | --- |
| LOD3.0 | 以下のいずれかのデータを一つ以上使用する都市計画図等のDMデータ平面図航空写真MMS点群地上レーザ点群LiderSLAM点群 | 以下のいずれかのデータを一つ以上使用する断面図又は構造図等航空レーザ点群航空写真から作成した点群MMS点群地上レーザ点群LiderSLAM点群 | 以下のいずれかのデータを一つ以上使用する平面図及び断面図又は構造図等航空レーザ点群航空写真から作成した点群MMS点群地上レーザ点群LiderSLAM点群 | 以下のいずれかのデータを一つ以上使用する断面図又は構造図等MMS点群地上レーザ点群LiderSLAM点群 | ― |

## N.3.1.4.2 作業手順

## N.3.1.4.2.1 護岸・堰・水門・閘門・陸門・樋門・樋管・伏せ越し

- その他の構造物モデル（LOD2）を作成する。
- 断面図若しくは構造図等の構造物の側面形状が分かる図面、MMS点群又は地上レーザ点群等を用いて、上空から見えない部分の上面及び側面の詳細な形状を取得し、その他の構造物モデル（LOD2）を詳細化する。
例えば、上部に管理所等の構造物が存在する場合も水門や堰のゲートを表現する。階段がある場合、段差を表現する。航空写真又は航空レーザ点群から側面形状を取得可能な場合はMMS点群等を使用しなくてよい。
- b）で作成した立体を構成する各面を屋根面（RoofSurface）、外壁面（WallSurface）又は底面（GroundSurface）に区分する。
上向きの面のうち、屋根の機能を有する面あるいは最も高い面を屋根面、下向きの面のうち最も低い面（水面又は地面と接する面）を底面、それ以外の面を外壁面に区分する。その他の構造物モデル（LOD3.0）では屋外床面（OuterFloorSurface）及び屋外天井面（OuterCeilingSurface）を使用しない。行政界や管理区間でその他の構造物を区切る場合、仮想的に生成する断面は、閉鎖面（ClosureSurface）とする。

![Image](images/tocN_img013.png)

## N.3.1.4.2.2 堤防

- その他の構造物モデル（LOD2）を作成する。
- その他の構造物モデル（LOD2）に階段がある場合、MMS点群又は地上レーザ点群から段差を表現する。
- b）で作成した立体を構成する面を屋根面（RoofSurface）、外壁面（WallSurface）、底面（GroundSurface）もしくは、閉鎖面（ClosureSurface）に区分する。表法面、天端、裏法面、小段等、上向きの面を屋根面とし、下向きの面を底面とする。外壁面は堤防を縦断方向に区分する面（堤防の端）とする。行政界等で区切り、構造物の一部のみを作成する場合、その仮想的な境界面には閉鎖面（ClosureSurface）を使用する。なお、階段がない場合は、その他の構造物モデル（LOD2）と同一のモデルとなる。

## N.3.1.4.2.3 水制・床止め

- 一つ一つの構造物の形状を平面図、断面図若しくは構造図等の構造物の形状がわかる図面、航空レーザ点群又は地上レーザ点群から取得し立体として表現する。水制・床止めの形状を個々に表現できるが、個々に形状を作成する必要はなく、同一のモデルを複製して配置してもよい。
- a）で作成した立体を複製して実際の位置に近しい箇所に配置する。この時、構造物の傾きを再現する必要はない。
- 立体を構成する面を全て外壁面（WallSurface）とする。図N-18 — その他構造物モデル（LOD3.0）のイメージ（水制）

その他の構造物モデル（堰、樋門、堤防）（LOD3.0）の作成例を以下に示す。
構造上不可欠なシリンダーは付属物とせず、その他の構造物モデル（LOD3.0）でも取得している。シリンダーのように部材全体が曲面として作成される場合、外壁面として区分する。

![Image](images/tocN_img014.png)

![Image](images/tocN_img015.png)

![Image](images/tocN_img016.png)

## N.3.1.5 LOD3.1

## N.3.1.5.1 原典資料

**表 N-13 — LOD3.1の原典資料**

|  | 水平位置 | 高さ | 上面の形状 | 側面の形状 | 付属物等 |
| --- | --- | --- | --- | --- | --- |
| LOD3.1 | 以下のいずれかのデータを一つ以上使用する都市計画図等のDMデータ平面図航空写真MMS点群地上レーザ点群LiderSLAM点群 | 以下のいずれかのデータを一つ以上使用する断面図又は構造図等航空レーザ点群航空写真から作成した点群MMS点群地上レーザ点群LiderSLAM点群 | 以下のいずれかのデータを一つ以上使用する平面図及び断面図又は構造図等航空レーザ点群航空写真から作成した点群MMS点群地上レーザ点群LiderSLAM点群 | 以下のいずれかのデータを一つ以上使用する断面図又は構造図等MMS点群地上レーザ点群LiderSLAM点群 | 以下のいずれかのデータを一つ以上使用する平面図及び断面図又は構造図等航空レーザ点群航空写真から作成した点群MMS点群地上レーザ点群LiderSLAM点群 |

## N.3.1.5.2 作業手順

## N.3.1.5.2.1 護岸・堰・水門・閘門・陸門・樋門・樋管・伏せ越し

- その他の構造物モデル（LOD3.0）を作成する。
- a）に平面図、断面図若しくは構造図等の付属物の形状が分かる図面又は航空レーザ点群等の点群から構造上不可欠ではない付属物（手すり、柵、構造物と一体ではない階段等）を表現する。
- ユースケースに応じて、a）の境界面のうち、上向きの面を屋外床面（OuterFloorSurface）、下向きの面を屋外天井面（OuterCeilingSurface）に区分できる。屋外床面は通行可能な面を区分するために使用する。図N-22 — LOD3.1（水門）の境界面の区分のイメージ

その他の構造物モデル（堰、樋門）（LOD3.1）の作成例を以下に示す。

![Image](images/tocN_img017.png)

![Image](images/tocN_img018.png)

## N.3.1.5.2.2 堤防

- その他の構造物モデル（LOD3.0）を作成する。
- その他の構造物モデル（LOD3.0）に平面図、断面図若しくは構造図等の付属物の形状が分かる図面又は航空レーザ点群等の点群を用いて、構造上不可欠ではない付属物（手すり、柵、構造物と一体ではない階段）を表現する。
- ユースケースに応じて、a）の境界面のうち、上向きの面を屋外床面（OuterFloorSurface）に区分できる。屋外床面は通行可能な面を区分するために使用する。堤防に階段がある場合は、通行可能な面（階段部）を屋外床面に区分する。

その他の構造物モデル（堤防）（LOD3.1）の作成例を以下に示す。

![Image](images/tocN_img019.png)

## N.3.2 作成上の留意事項

## N.3.2.1 行政界を跨ぐその他の構造物モデルの取り扱い

標準製品仕様書では、その他の構造物のうち、堤防のように延長が長く、構造上の切れ目なく続く場合は、市区町村界で区切ることができるとしている。このとき、市区町村界で区切られたその他の構造物の境界面は、閉鎖面（cons:ClosureSurface）となる。

水門や樋門のように単体で設置されているその他の構造物についても、行政界を跨ぐ場合は、その他の構造物モデルを一つのオブジェクトとして作成するため、基本方針としてその他の構造物モデルを区切らないとしている。

行政界を跨ぐその他の構造物モデルは、これに関係する市区町村の3D都市モデルに重複して含めてよい。

