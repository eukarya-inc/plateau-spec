# C.3.1.3 LOD2

## C.3.1.3 LOD2

建築物モデル（LOD2）では、建築物の形状を立体として表現する。このとき、建築物オブジェクトは、建築物モデル（LOD2）の定義に従ったものでなければならない。

**表 C-13 — C-10: 建築物のLOD2形状定義**

| ID | `/req/bldg/10` |
| --- | --- |
| 主題 | 妥当な建築物データセットの要件 |
| 分類 | 要件分類C-1: 妥当な建築物オブジェクト作成 |
| 条文 | 建築物のLOD2の形状は、建築物モデル（LOD2）の定義に従う。 |

![Image](images/tocC_03_01_03_img001.png)

建築物モデル（LOD2）は、含むべき地物によりLOD2.0、LOD2.1及びLOD2.2に細分される。LOD2.0、LOD2.1及びLOD2.2は、航空写真等上空から取得したデータの利用を前提とした区分であり、屋根形状を含む建築物の上面を詳細化する。

標準製品仕様書は、原則としてLOD2.0を採用する。ただし、ユースケースの必要に応じてLOD2.1又はLOD2.2を採用できる。

**表 C-14 — 建築物モデル（LOD2）の取得イメージ**

| LOD | LOD2.0 | LOD2.1 | LOD2.2 |
| --- | --- | --- | --- |
| 取得例 | ![Image](images/tocC_03_01_03_img002.png) | ![Image](images/tocC_03_01_03_img003.png) | ![Image](images/tocC_03_01_03_img004.png) |
| 説明 | 屋根の主要な外形が再現される。LOD2.0では付属物は取得しないため、バルコニーも屋根として取得する。なお、LOD2では屋根面は詳細化されるが外壁面は詳細化されないため、バルコニーの下部も建築物の一部として表現される。 | 小屋根のうち規模が大きいものが再現される。LOD2.0では切妻屋根として表現されたが、LOD2.1の条件を満たしたため、小屋根として表現された。また、LOD2.1の条件を満たすバルコニーが、付属物として区分される。 | 小屋根のうち規模の小さいものが再現される。LOD2.1では無視された屋根窓の屋根がLOD2.2の条件を満たしたため、この屋根形状が表現された。また、LOD2.2の条件を満たす屋根上の煙突が付属物として、さらに区分される。 |

![Image](images/tocC_03_01_03_img005.png)

**表 C-15 — LOD2.0,LOD2.1及びLOD2.2の区分**

| 建築物モデル（LOD2）に含むべき地物 | 対応するCityGMLの地物型 | LOD2.0 | LOD2.1 | LOD2.2 |
| --- | --- | --- | --- | --- |
| 建築物 | Building | ● | ● | ● |
| 屋根 | RoofSurface | ●射影の短辺の実長3m以上 | ●射影の短辺の実長3m以上又は射影の短辺の実長1m以上かつ正射影の面積3m2以上 | ●射影の短辺の実長1m以上又は正射影の面積1m2以上 |
| 底面 | GroundSurface | ● | ● | ● |
| 外壁面 | WallSurface | ● | ● | ● |
| 建築物部分 | BuildingPart | ■一棟の建築物を主題属性の異なる複数の部分に分ける場合に必須とする。 | ■一棟の建築物を主題属性の異なる複数の部分に分ける場合に必須とする。 | ■一棟の建築物を主題属性の異なる複数の部分に分ける場合に必須とする。 |
| 閉鎖面 | ClosureSurfacce | ■BuildingPartを使用する場合に必須とする | ■BuildingPartを使用する場合に必須とする | ■BuildingPartを使用する場合に必須とする |
| 屋外床面 | OuterFloorSurface |  | 〇 | 〇 |
| 屋外天井面 | OuterCeilingSurface |  |  |  |
| 屋外付属物バルコニー、屋外階段、スロープ、手すり、エレベータ、エスカレータ、庇、アンテナ、煙突、看板等 | BuildingInstallation |  | ●射影の短辺の実長3m以上又は射影の短辺の実長1m以上かつ正射影の面積が3m2以上 | ●射影の短辺の実長1m以上 |
| ●：必須■：条件付必須〇：任意（ユースケースに応じて要否を決定してよい） | ← | ← | ← | ← |

LOD2では、建築物は、屋根、壁等を境界として区切られた空間（立体）となる。そのため、建築物の立体を構成する境界面は、屋根、外壁等の境界面となる地物型の空間属性（面）と一致する。この関係性を図C-8に示す。

![Image](images/tocC_03_01_03_img006.png)

**表 C-16 — C-11: LOD2立体の境界面参照**

| ID | `/req/bldg/11` |
| --- | --- |
| 主題 | 妥当な建築物データセットの要件 |
| 分類 | 要件分類C-1: 妥当な建築物オブジェクト作成 |
| 条文 | bldg:lod2Solidで示される立体は、その境界面として、建築物の境界となる地物型（bldg:_BoundarySurface）の空間属性を外部参照しなければならない。 |

bldg:Buildingは空間属性bldg:lod2Solidによって立体（gml:Solid）をもつ。立体は、外部境界（gml:exterior）として合成曲面（gml:CompositeSurface）をもつ。この合成曲面は、連続する曲面の集まりである。gml:surfaceMemberにより、合成曲面を構成する個々の曲面（gml:Polygon）をもつ。このとき、gml:surfaceMemberは個々の曲面（gml:Polygon）の識別子を参照するのみで、曲面の実体はもたない。曲面の実体は、別途記述される。この仕組みを外部参照と呼び、XLinkを使って識別子（gml:id）を参照する。曲面の実体は、屋根、外壁等の境界面であるbldg:_BoundarySurfaceの空間属性として記述される。

bldg:_BoundarySurfaceは空間属性bldg:lod2MultiSurfaceによりgml:MultiSurfaceをもつ。これは、1個以上の曲面の集まりであり、個々の曲面はgml:Polygonとして記述される。曲面には、それぞれを区別する識別子が付与される。この識別子は、先に述べたbldg:Buildingの空間属性を構成する要素（gml:surfaceMember）として、参照される。

外部参照の例を図C-9に示す。建築物と、この建築物の外壁の形状を示す面（gml:id=”LOD2_1_S”）があった場合、立体の境界を構成する面として、外壁面（gml:WallSurface）の空間属性を、XLinkを用いて参照している（xlink:href=”#LOD2_1_S”）。

![Image](images/tocC_03_01_03_img007.png)

