# 附属書U 妥当な区域オブジェクト

## 附属書U （規定） 妥当な区域オブジェクト

## U.1 概要

本付属書では、「3D都市モデル標準製品仕様書」（以下、「標準製品仕様書」という）に適合したデータ製品について、妥当な区域オブジェクトの要件と、妥当な区域オブジェクトを作成するための標準的な作業手順を示す。

**表 U-1 — U-1: 妥当な区域オブジェクト**

| ID | `/req/area` |
| --- | --- |
| 対象の種類 | 妥当な区域オブジェクトの要件 |
| 説明 | 区域の説明とLODの要件 |
| 規定 | 要件U-1: 区域記述のLOD対応条件要件U-2: urf:lod1MultiSurfaceの面定義要件U-3: urf:Zoneの識別方法要件U-4: urf:Zoneの継承地物型使用条件要件U-5: urf:Boundaryの重なり条件留意事項U-1: 現況との差異への対応留意事項U-2: 法定図書からの主題属性入力 |

## U.2 区域モデルの記述とLOD

## U.2.1 使用可能な地物型とLOD

i-URには、区域を記述するための地物型が用意されている。詳細度（LOD）ごとに、使用すべき地物型やその空間属性が異なる。

**表 U-2 — U-1: 区域記述のLOD対応条件**

| ID | `/req/area/1` |
| --- | --- |
| 主題 | 妥当な区域データセットの要件 |
| 分類 | 要件分類U-1: 妥当な区域オブジェクト |
| 条文 | 区域の記述には、指定されたLODに対応する地物型及び空間属性を使用する。 |

区域は、i-URのUrban Functionモジュールに定義されたurf:Zoneを用いて記述する。urf:Zoneは法令で定められた区域に該当する。標準製品仕様書が対象とする区域モデルのLODはLOD1のみである。使用する地物型とLODを表U-3に示す。

**表 U-3 — 区域モデルの記述に使用する地物型と空間属性**

| 地物型 | 空間属性 | LOD0 | LOD1 | LOD2 | LOD3 | 適用 |
| --- | --- | --- | --- | --- | --- | --- |
| urf:Zone |  |  | ● |  |  |  |
| ↑ | urf:lod1MultiSurface |  | ● |  |  | ↑ |
| ●：必須■：条件付必須〇：任意（ユースケースに応じて要否を決定してよい） | ← | ← | ← | ← | ← | ← |

## U.2.2 区域モデルのLOD

## U.2.2.1 区域モデル（LOD1）

区域モデル（LOD1）の定義を表U-4に示す。

**表 U-4 — 原典資料　区域モデル（LOD1）の定義**

|  |  | 地物型 | 空間属性の型 | 取得基準 | 取得方法 | 補足 |
| --- | --- | --- | --- | --- | --- | --- |
| LOD1 | ● | Zone | MultiSurface |  | 区域の境界に囲まれた面を取得する。高さは0とする。 | 都市計画の区域は、Zoneを継承するクラスを用いて記述する。 |
| ●：必須■：条件付必須〇：任意（ユースケースに応じて要否を決定してよい） | ← | ← | ← | ← | ← | ← |

## U.2.3 区域の空間属性

## U.2.3.1 LOD1

区域は高さをもたない面として表現する。

**表 U-5 — U-2: urf:lod1MultiSurfaceの面定義**

| ID | `/req/area/2` |
| --- | --- |
| 主題 | 妥当な区域データセットの要件 |
| 分類 | 要件分類U-1: 妥当な区域オブジェクト |
| 条文 | urf:lod1MultiSurfaceで示される面は、区域の境界により囲まれた、高さをもたない面とする。 |

## U.2.4 区域の主題属性

## U.2.4.1 urf:function

urf:Zoneは、法令により定められた区域を定義する汎用的な地物型であり、属性urf:functionによりその区域の種類を識別する。

**表 U-6 — U-3: urf:Zoneの識別方法**

| ID | `/req/area/3` |
| --- | --- |
| 主題 | 妥当な区域データセットの要件 |
| 分類 | 要件分類U-1: 妥当な区域オブジェクト |
| 条文 | urf:Zoneの種類は、属性urf:functionにより識別できなければならない。 |

標準製品仕様書では、属性urf:functionの定義域として、港湾区域や河川区域等が用意されているが、この定義域が不足する場合には、定義域に必要な区域の名称を追加できる。定義域を追加する場合は、拡張製品仕様書においてurf:Zoneの定義に追加したい区域の名称を追記するとともに、urf:functionが参照するコードリストZone_function.xmlにコードとコードに対応する説明を追加する。

ただし、都市計画の区域のように、urf:Zoneを継承し、地物型が定義されている場合には、urf:Zoneではなく、これを継承するそれぞれの地物型を使用して記述しなければならない。

**表 U-7 — U-4: urf:Zoneの継承地物型使用条件**

| ID | `/req/area/4` |
| --- | --- |
| 主題 | 妥当な区域データセットの要件 |
| 分類 | 要件分類U-1: 妥当な区域オブジェクト |
| 条文 | urf:Zoneを継承する地物型が存在する場合には、urf:Zoneを継承した地物型を使用して記述しなければならない。 |

## U.3 urf:Boundary

urf:Boundaryは、区域の境界に属性をもたせたい場合に使用する型である。区域の境界に属性をもたせる必要が無い場合は、urf:Boundaryは使用しなくてよい。

## U.3.1 urf:Boundaryの空間属性

urf:Boundaryは、urf:Zoneの境界となる。そのため、urf:Boundaryの空間属性（gml:MultiCurve）は、urf:Zoneの空間属性（gml:MultiSurface）を構成する曲線と一致しなければならない。

**表 U-8 — U-5: urf:Boundaryの重なり条件**

| ID | `/req/area/5` |
| --- | --- |
| 主題 | 妥当な区域データセットの要件 |
| 分類 | 要件分類U-1: 妥当な区域オブジェクト |
| 条文 | urf:Boundaryの空間属性（gml:MultiCurve）は、これをurf:boundaryによって参照するurf:Zoneの空間属性（gml:MultiSurface）に含まれるgml:Polygonの外周又は内周と重ならなければならない。 |

## U.3.2 urf:Boundaryの主題属性

区域の境界に行政界や地番界、道路区域などが指定される場合がある。また、これらの線からの相対的な距離（オフセット）により指定される場合もある。このような境界線の種類やオフセット量をurf:Boundaryの主題属性として記述する。

## U.4 標準的な作業手順

## U.4.1 幾何オブジェクトの作成

幾何オブジェクトの作成に必要となる原典資料を表U-9に示す。

**表 U-9 — 原典資料**

|  | 区域の境界に囲まれた面 | 高さ | 主題属性 |
| --- | --- | --- | --- |
| LOD1 | 以下のいずれかのデータを一つ以上使用する。GISデータ法定図書 | ― | 以下のいずれかのデータを一つ以上使用する。GISデータ法定図書 |

## U.4.1.1 LOD1

GISデータが存在する場合には、これを利用する。ただし、利用可能なGISデータは位置正確度をもつもののみとする。GISデータを利用する場合は、原典資料リストにその地図情報レベルを記載すること。

GISデータが無い場合には、法定図書に含まれる図面を使用し、既成図数値化により幾何オブジェクトを作成する。既成図数値化の作業手順及び精度管理は、「作業規程の準則　第3編第5章　既成図数値化」に従う。

## U.4.2 主題属性の作成

GISデータが存在する場合には、これを利用する。また、GISデータの属性に不足がある場合には、法定図書を原典資料とする。

## U.4.3 作業上の留意事項

**表 U-10 — U-1: 現況との差異への対応**

| ID | `/att/area/1` |
| --- | --- |
| 主題 | 妥当な区域データセットの要件 |
| 分類 | 要件分類U-1: 妥当な区域オブジェクト |
| 条文 | 法定図書の図面から区域の境界を入力する場合、図面の作成時点が古い等の理由により、現況の背景地形とずれる可能性がある。背景地形とのずれへの対応として以下の2つの方法がある。現況の背景地形に合わせて、背景地図上で境界を入力する。図面上に記載された線をデジタイズし、境界を入力する。a）の方法は、区域の境界が、「河川の中心線」、「道路の中心線」、「行政界」というように、地物の形状を用いて指定されている場合に有効である。b）の方法は、地物との相対的な位置関係ではなく、図面上の境界の位置が「正」となる場合に有効である。いずれの方法が適切であるかは、区域の指定方法や図面の位置づけにより異なるため、区域の管理者やデータ整備主体への確認が必要である。 |

**表 U-11 — U-2: 法定図書からの主題属性入力**

| ID | `/att/area/2` |
| --- | --- |
| 主題 | 妥当な区域データセットの要件 |
| 分類 | 要件分類U-1: 妥当な区域オブジェクト |
| 条文 | 区域に付与すべき属性は、法定図書で網羅される。しかしながら、法定図書の多くは紙資料として管理されており、資料の収集やデータの入力に労力を要する。また、文章や図表として法定図書に記載されており、GISデータとしてデータ化することが困難な情報も含まれる。そのため、主題属性の入力対象は、これにかかる作業量も考慮し、決定する必要がある。 |

