# D.3.1 道路の空間属性

## D.3.1 道路の空間属性

tran:Roadの空間属性は、いずれのLODにおいても、同一のLODにおける道路の連続性を担保する必要がある。

**表 D-8 — D-3: tran:Roadの幾何座標一致条件**

| ID | `/req/tran/3` |
| --- | --- |
| 主題 | 妥当な交通（道路）データセットの要件 |
| 分類 | 要件分類D-1: 妥当な交通（道路）オブジェクト |
| 条文 | 連続するtran:Roadの幾何オブジェクトは、同一のLODにおいて、その境界の座標を一致させなければならない。 |

## D.3.1.1 LOD0

交通（道路）モデル（LOD0）では、道路の形状を、線として表現する。このとき、線は、ネットワーク（道路中心線）を基本とする。ただし、数値地形図データ（以下、DMデータ）との互換性を保つために、道路縁を選択できる。

LOD0において、道路の形状の線をネットワーク（道路中心線）として記述する場合、gml:GeometrixComplexの下位型であるgml:CompositeCurveを用いて記述する。このとき、gml:CompositeCurveに含む幾何オブジェクトは、gml:LineStringとする。gml:CompositeCurveに含まれるgml:LineString同士は交差してはならない。

**表 D-9 — D-4: LOD0 tran:Roadの交差禁止条件**

| ID | `/req/tran/4` |
| --- | --- |
| 主題 | 妥当な交通（道路）データセットの要件 |
| 分類 | 要件分類D-1: 妥当な交通（道路）オブジェクト |
| 条文 | LOD0におけるtran:Roadの空間属性に含まれるgml:LineStringは互いに交差してはならない。 |

これは、一つの交通（道路）オブジェクトに対して適用するものである。例えば、高架における上の道路と下の道路というように、異なる交通（道路）オブジェクトの空間属性が交差することを許容する。

## D.3.1.2 LOD1

交通（道路）モデル（LOD1）では、道路の形状を面として表現する。道路の横断方向の境界は道路縁となる。道路の延長方向は、以下の場所で区切る。

**表 D-10 — D-5: tran:Roadオブジェクトの区切り位置**

| ID | `/req/tran/5` |
| --- | --- |
| 主題 | 妥当な交通（道路）データセットの要件 |
| 分類 | 要件分類D-1: 妥当な交通（道路）オブジェクト |
| 条文 | tran:Roadのオブジェクトは、以下に示す場所で区切る。 |
| A | 交差部（四差路、多差路及び三差路） |
| B | 道路構造の変化点（uro:RoadStructureAttribute） |
| C | 位置正確度や取得方法が変わる場所（uro:RoadDataQualityAttribute） |

道路は、延長方向に連続して存在する地物であるため、データ作成者によって異なる区切り方になる可能性がある。そこで、標準製品仕様書では、道路を必ず区切るべき位置として、「交差部（四差路、多差路及び三差路）」「道路構造の変化点（トンネル、橋梁）」、及び「位置正確度や取得方法が変わる場所」を指定している。これらの位置では、必ず道路を区切らなければならない。

なお、ユースケースの必要に応じて、より詳細に区切ってもよい。（例：車線数が変わる場所で区切る）

## D.3.1.2.1 交差部（四差路、多差路及び三差路）での道路の区切り方

交差部での道路の区切り方は、以下に定義する優先順位で区切る。ただし、区切った交差部同士が重なる場合は、一つの交差部とする。なお、本手順書では道路が交差、分岐又は合流する場合において、ある道路の道路縁と他の道路縁とが接する点（道路角）を「接点」と呼ぶ。

- 隅切りのない四差路及び多差路
一つの道路において、道路縁の両側に接点が存在する場合は、接点を結んで道路を区切る。
- 隅切りのある四差路及び多差路
一つの道路において、道路縁の両側に隅切りが存在する場合は、隅切りの頂点を接点とし、接点を結んだ範囲を交差部とする。また、どちらか一方に隅切りが存在しない場合は、隅切りの頂点及び接点を結んだ範囲を交差部とする。
- 三差路
道路縁の片側にしか接点が存在しない道路が一つでもある場合（三差路）は、隅切りがある場合は隅切りの頂点を接点とし、全ての接点から垂線を引き区切る。隅切りがある場合や区切りが複数ある場合は、より外側の区切りを採用する。

![Image](images/道路の空間属性__img001.png)

![Image](images/道路の空間属性__img002.png)

![Image](images/道路の空間属性__img003.png)

![Image](images/道路の空間属性__img004.png)

![Image](images/道路の空間属性__img005.png)

![Image](images/道路の空間属性__img006.png)

## D.3.1.2.2 道路構造の変化点（トンネル、橋梁）での道路の区切り方

道路構造の変化点での道路の区切りは、トンネル、橋梁の図式を基に区切る。
区切り例：橋梁、高架橋、トンネル

![Image](images/道路の空間属性__img007.png)

区切り例：複雑な道路構造の場合の道路の区切り

![Image](images/道路の空間属性__img008.png)

## D.3.1.3 LOD2

交通（道路）モデル（LOD2）では、道路の形状を面として表現する。このとき、道路（tran:Road）は、横断構成要素であるtran:TrafficAreaとtran:AuxiliaryTrafficAreaに分解される。すなわち、tran:Roadの空間属性は、これを構成するtran:TrafficAreaとtran:AuxiliaryTrafficAreaの空間属性の集まりとなる。

**表 D-11 — D-6: LOD2 tran:Roadの空間属性一致条件**

| ID | `/req/tran/6` |
| --- | --- |
| 主題 | 妥当な交通（道路）データセットの要件 |
| 分類 | 要件分類D-1: 妥当な交通（道路）オブジェクト |
| 条文 | LOD2におけるtran:Roadの空間属性は、これを構成するtran:TrafficArea及びtran:AuxiliaryTrafficAreaの空間属性の集まりと一致しなければならない。 |

## D.3.1.4 LOD3

交通（道路）モデル（LOD3）では、道路の形状を面として表現する。このとき、道路（tran:Road）は、横断構成要素であるtran:TrafficAreaとtran:AuxiliaryTrafficAreaに分解される。すなわち、tran:Roadの空間属性は、これを構成するtran:TrafficAreaとtran:AuxiliaryTrafficAreaの空間属性の集まりとなる。

**表 D-12 — D-7: LOD3 tran:Roadの空間属性一致条件**

| ID | `/req/tran/7` |
| --- | --- |
| 主題 | 妥当な交通（道路）データセットの要件 |
| 分類 | 要件分類D-1: 妥当な交通（道路）オブジェクト |
| 条文 | LOD3におけるtran:Roadの空間属性は、これを構成するtran:TrafficArea及びtran:AuxiliaryTrafficAreaの空間属性の集まりと一致しなければならない。 |

