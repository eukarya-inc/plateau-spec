# 4.21 汎用都市オブジェクトモデルの応用スキーマ

## 4.21 汎用都市オブジェクトモデルの応用スキーマ

汎用都市オブジェクトは、CityGMLに定義されていない地物を記述するための汎用的な地物型である。

拡張製品仕様書において、必要に応じて使用する。

## 4.21.1 汎用都市オブジェクトモデルのLOD

標準製品仕様書が対象とする汎用都市オブジェクトモデル（gen:GenericCityObject）のLODは、LOD0からLOD4までである。

## 4.21.2 汎用都市オブジェクトモデルの応用スキーマクラス図

## 4.21.2.1 Generic（CityGML）

## 4.21.2.1.1 汎用都市オブジェクト

gen:GenericCityObjectは、CityGMLに定義されていない地物を作成したい場合に使用する汎用的な地物型である。

![Image](images/toc4_21_img001.png)

## 4.21.2.1.2 汎用属性

gen:_genericAttributeは、CityGMLに定義されていない属性を追加したい場合に使用する汎用的なデータ型である。文字列や整数のように、追加したい属性型に応じて、gen:_genericAttributeを継承するデータ型が定義されている。

![Image](images/toc4_21_img002.png)

core:_CityObjectは、0以上のgen:_genericAttributeをもつことができる構造となっている。CityGMLに定義されたbldg:Buildingやbldg:LandUseなどの全ての地物型はcore:_CityObjectを継承しているため、bldg:Buildingやbldg:LandUseなどの全ての地物型も、0以上のgen:_genericAttributeをもつことができる（全ての地物型に汎用属性を追加できる）。

## 4.21.3 汎用都市オブジェクトモデルの応用スキーマ文書

## 4.21.3.1 Generic（CityGML）

## 4.21.3.1.1 gen:stringAttribute

**表 4-825**

| 型の定義 | 文字列型の汎用属性。CityGML又はi-URに定義されていない文字列型の属性を追加したい場合に使用する。 | ← |
| --- | --- | --- |
| 上位の型 | gen:_genericAttribute | ← |
| ステレオタイプ | << DataType >> | ← |
| 継承する属性 | ← | ← |
| 属性名 | 属性の型及び多重度 | 定義 |
| gen:name     [ _genericAttribute ] | xs::string [1..1] | 汎用属性の名称。 |
| 自身に定義された属性 | ← | ← |
| 属性名 | 属性の型及び多重度 | 定義 |
| gen:value     [ stringAttribute ] | xs::string [1..1] | 汎用属性の値。 |

## 4.21.3.1.2 gen:intAttribute

**表 4-826**

| 型の定義 | 整数型の汎用属性。CityGML又はi-URに定義されていない整数型の属性を追加したい場合に使用する。 | ← |
| --- | --- | --- |
| 上位の型 | gen:_genericAttribute | ← |
| ステレオタイプ | << DataType >> | ← |
| 継承する属性 | ← | ← |
| 属性名 | 属性の型及び多重度 | 定義 |
| gen:name     [ _genericAttribute ] | xs::string [1..1] | 汎用属性の名称。 |
| 自身に定義された属性 | ← | ← |
| 属性名 | 属性の型及び多重度 | 定義 |
| gen:value     [ intAttribute ] | xs::integer [1..1] | 汎用属性の値。 |

## 4.21.3.1.3 gen:doubleAttribute

**表 4-827**

| 型の定義 | 実数型の汎用属性。CityGML又はi-URに定義されていない実数型の属性を追加したい場合に使用する。 | ← |
| --- | --- | --- |
| 上位の型 | gen:_genericAttribute | ← |
| ステレオタイプ | << DataType >> | ← |
| 継承する属性 | ← | ← |
| 属性名 | 属性の型及び多重度 | 定義 |
| gen:name     [ _genericAttribute ] | xs::string [1..1] | 汎用属性の名称。 |
| 自身に定義された属性 | ← | ← |
| 属性名 | 属性の型及び多重度 | 定義 |
| gen:value     [ doubleAttribute ] | xs::double [1..1] | 汎用属性の値。 |

## 4.21.3.1.4 gen:dateAttribute

**表 4-828**

| 型の定義 | 日付型の汎用属性。CityGML又はi-URに定義されていない日付型の属性を追加したい場合に使用する。 | ← |
| --- | --- | --- |
| 上位の型 | gen:_genericAttribute | ← |
| ステレオタイプ | << DataType >> | ← |
| 継承する属性 | ← | ← |
| 属性名 | 属性の型及び多重度 | 定義 |
| gen:name     [ _genericAttribute ] | xs::string [1..1] | 汎用属性の名称。 |
| 自身に定義された属性 | ← | ← |
| 属性名 | 属性の型及び多重度 | 定義 |
| gen:value     [ dateAttribute ] | xs::date [1..1] | 汎用属性の値。 |

## 4.21.3.1.5 gen:uriAttribute

**表 4-829**

| 型の定義 | URI型の汎用属性。CityGML又はi-URに定義されていないURI型の属性を追加したい場合に使用する。 | ← |
| --- | --- | --- |
| 上位の型 | gen:_genericAttribute | ← |
| ステレオタイプ | << DataType >> | ← |
| 継承する属性 | ← | ← |
| 属性名 | 属性の型及び多重度 | 定義 |
| gen:name     [ _genericAttribute ] | xs::string [1..1] | 汎用属性の名称。 |
| 自身に定義された属性 | ← | ← |
| 属性名 | 属性の型及び多重度 | 定義 |
| gen:value     [ uriAttribute ] | xs::anyURI [1..1] | 汎用属性の値。 |

## 4.21.3.1.6 gen:measureAttribute

**表 4-830**

| 型の定義 | 単位付き計測値型の汎用属性。CityGML又はi-URに定義されていない単位付き計測値型の属性を追加したい場合に使用する。 | ← |
| --- | --- | --- |
| 上位の型 | gen:_genericAttribute | ← |
| ステレオタイプ | << DataType >> | ← |
| 継承する属性 | ← | ← |
| 属性名 | 属性の型及び多重度 | 定義 |
| gen:name     [ _genericAttribute ] | xs::string [1..1] | 汎用属性の名称。 |
| 自身に定義された属性 | ← | ← |
| 属性名 | 属性の型及び多重度 | 定義 |
| gen:value     [ measureAttribute ] | gml::MeasureType [1..1] | 汎用属性の値。必ず計測の単位（uom）を付ける。 |

## 4.21.3.1.7 gen:genericAttributeSet

**表 4-831**

| 型の定義 | 汎用属性のグループ。CityGML又はi-URに定義されていない属性をグループ化して追加したい場合に使用する。 | ← |
| --- | --- | --- |
| 上位の型 | gen:_genericAttribute | ← |
| ステレオタイプ | << DataType >> | ← |
| 継承する属性 | ← | ← |
| 属性名 | 属性の型及び多重度 | 定義 |
| gen:name     [ _genericAttribute ] | xs::string [1..1] | 汎用属性の名称。 |
| 自身に定義された属性 | ← | ← |
| 属性名 | 属性の型及び多重度 | 定義 |
| gen:codeSpace     [ genericAttributeSet ] | gml::CodeType [0..1] | 汎用属性のグループを維持管理する機関のURI。文字列とする。 |
| 自身に定義された関連役割 | ← | ← |
| 関連役割名 | 関連役割の型及び多重度 | 定義 |
| gen:_genericAttribute             [ genericAttributeSet ] | gen:_genericAttribute [1..*] | グループに含みたい汎用属性。 |

## 4.21.3.1.8 gen:GenericCityObject

**表 4-832**

| 型の定義 | CityGMLに定義されていない地物を定義するための汎用的な地物型。属性gml:nameは、汎用都市オブジェクトを識別する名称とする。コードリスト（GenericCityObject_name.xml）より選択する。 汎用都市オブジェクトを使用する場合は、コードリストを作成すること。 | ← |
| --- | --- | --- |
| 上位の型 | core:_CityObject | ← |
| ステレオタイプ | << FeatureType >> | ← |
| 継承する属性 | ← | ← |
| 属性名 | 属性の型及び多重度 | 定義 |
| gml:description     [ _Feature ] | gml:StringOrRefType [0..1] | 都市オブジェクトの概要。 |
| gml:name     [ _Feature ] | gml::CodeType [0..1] | 都市オブジェクトを識別する名称。文字列とする。 |
| gml:boundedBy     [ _Feature ] | gml::Envelope [0..1] | 都市オブジェクトの範囲及び適用される空間参照系。 CityModelの場合のみ必須とする。 |
| core:creationDate     [ _CityObject ] | xs::date [0..1] | データが作成された日。運用上必須とする。 |
| core:terminationDate     [ _CityObject ] | xs::date [0..1] | データが削除された日。 |
| core:relativeToTerrain     [ _CityObject ] | core::RelativeToTerrainType [0..1] | 地表面との相対的な位置関係。標準製品仕様書では使用しない。 |
| core:relativeToWater     [ _CityObject ] | core::RelativeToWaterType [0..1] | 水面との相対的な位置関係。標準製品仕様書では使用しない。 |
| 自身に定義された属性 | ← | ← |
| 属性名 | 属性の型及び多重度 | 定義 |
| gen:class     [ GenericCityObject ] | gml::CodeType [0..1] | 汎用都市オブジェクトの区分。コードリストより選択する。この属性を使用する場合は、コードリストを作成すること。 |
| gen:function     [ GenericCityObject ] | gml::CodeType [0..*] | 汎用都市オブジェクトの機能。コードリストより選択する。この属性を使用する場合は、コードリストを作成すること。 |
| gen:usage     [ GenericCityObject ] | gml::CodeType [0..*] | 汎用都市オブジェクトの用途。コードリストより選択する。この属性を使用する場合は、コードリストを作成すること。 |
| 継承する関連役割 | ← | ← |
| 関連役割名 | 関連役割の型及び多重度 | 定義 |
| core:externalReference             [ _CityObject ] | core:ExternalReference [0..*] | 外部への参照。標準製品仕様書では使用しない。 |
| gen:dateAttribute             [ _CityObject ] | gen:dateAttribute [0..*] | 日付型属性。属性を追加したい場合に使用する。 |
| gen:doubleAttribute             [ _CityObject ] | gen:doubleAttribute [0..*] | 実数型属性。属性を追加したい場合に使用する。 |
| gen:genericAttributeSet             [ _CityObject ] | gen:genericAttributeSet [0..*] | 汎用属性のセット。属性を追加したい場合に使用する。 |
| gen:intAttribute             [ _CityObject ] | gen:intAttribute [0..*] | 整数型属性。属性を追加したい場合に使用する。 |
| gen:measureAttribute             [ _CityObject ] | gen:measureAttribute [0..*] | 単位付き数値型属性。属性を追加したい場合に使用する。 |
| gen:stringAttribute             [ _CityObject ] | gen:stringAttribute [0..*] | 文字列型属性。属性を追加したい場合に使用する。 |
| gen:uriAttribute             [ _CityObject ] | gen:uriAttribute [0..*] | URI型属性。属性を追加したい場合に使用する。 |
| uro:pointCloud             [ _CityObject ] | uro:AbstractPointCloud [0..1] | ポイントクラウドへの参照。 |
| 自身に定義された関連役割 | ← | ← |
| 関連役割名 | 関連役割の型及び多重度 | 定義 |
| gen:lod0Geometry             [ GenericCityObject ] | gml:_Geometry [0..1] | LOD0の形状。点、線又は平面により記述する。 |
| gen:lod0ImplicitRepresentation             [ GenericCityObject ] | core:ImplicitGeometry [0..1] | 繰り返しオブジェクト（LOD0）への参照。標準製品仕様書では使用しない。 |
| gen:lod1Geometry             [ GenericCityObject ] | gml:_Geometry [0..1] | LOD1の形状。平面又は平面に一律の高さを与えた立体とする。 |
| gen:lod1ImplicitRepresentation             [ GenericCityObject ] | core:ImplicitGeometry [0..1] | 繰り返しオブジェクト（LOD1）への参照。標準製品仕様書では使用しない。 |
| gen:lod2Geometry             [ GenericCityObject ] | gml:_Geometry [0..1] | LOD2の形状。主要な構造を単純な立体図形（球、円柱、円柱、角柱等）の組み合わせにより記述する。 |
| gen:lod2ImplicitRepresentation             [ GenericCityObject ] | core:ImplicitGeometry [0..1] | 繰り返しオブジェクト（LOD2）への参照。標準製品仕様書では使用しない。 |
| gen:lod3Geometry             [ GenericCityObject ] | gml:_Geometry [0..1] | LOD3の形状。主構造及び詳細構造の外形により構成する。 |
| gen:lod3ImplicitRepresentation             [ GenericCityObject ] | core:ImplicitGeometry [0..1] | 繰り返しオブジェクト（LOD3）への参照。標準製品仕様書では使用しない。 |
| gen:lod4Geometry             [ GenericCityObject ] | gml:_Geometry [0..1] | LOD4の形状。主構造及び詳細構造の外形及びその内部形状により構成する。 |

## 4.21.4 汎用都市オブジェクトモデルで使用するコードリストと列挙型

拡張製品仕様書において、汎用都市オブジェクトの名称を示すコードリストを作成する。

