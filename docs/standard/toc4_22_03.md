# 4.22.3 アピアランスモデルの応用スキーマ文書

## 4.22.3 アピアランスモデルの応用スキーマ文書

## 4.22.3.1 Appearance（CityGML）

## 4.22.3.1.1 app:Appearance

**表 4-833**

| 型の定義 | 地物の外観。 地物の幾何オブジェクトとなる面に色又はテクスチャを指定する。![Image](images/toc4_22_03_img001.png)Apperanceを使用してbldg:Buildingの外観を設定した例　　　　（左：色の指定　右：テクスチャの指定） | ← |
| --- | --- | --- |
| 上位の型 | gml:_Feature | ← |
| ステレオタイプ | << FeatureType >> | ← |
| 継承する属性 | ← | ← |
| 属性名 | 属性の型及び多重度 | 定義 |
| gml:description     [ _Feature ] | gml:StringOrRefType [0..1] | 都市オブジェクトの概要。 |
| gml:name     [ _Feature ] | gml::CodeType [0..1] | 都市オブジェクトを識別する名称。文字列とする。 |
| gml:boundedBy     [ _Feature ] | gml::Envelope [0..1] | 都市オブジェクトの範囲及び適用される空間参照系。 CityModelの場合のみ必須とする。 |
| 自身に定義された属性 | ← | ← |
| 属性名 | 属性の型及び多重度 | 定義 |
| app:theme     [ Appearance ] | xs::string [0..1] | 主題。固定値とし、「rgbTexture」とする。 |
| 自身に定義された関連役割 | ← | ← |
| 関連役割名 | 関連役割の型及び多重度 | 定義 |
| app:surfaceDataMember             [ Appearance ] | app:_SurfaceData [0..*] | 使用するテクスチャ及びパラメータ又は色及びパラメータへの参照。 |

## 4.22.3.1.2 app:ParameterizedTexture

**表 4-834**

| 型の定義 | 地物インスタンスに貼り付ける画像と貼り付け方をパラメータにより指定するための型。![Image](images/toc4_22_03_img002.png)bldg:Buildingの外観としてテクスチャを指定した例 | ← |
| --- | --- | --- |
| 上位の型 | app:_Texture | ← |
| ステレオタイプ | << FeatureType >> | ← |
| 継承する属性 | ← | ← |
| 属性名 | 属性の型及び多重度 | 定義 |
| app:isFront     [ _SurfaceData ] | xs::boolean [0..1] | テクスチャを貼る面の指定。 |
| app:imageURI     [ _Texture ] | xs::anyURI [1..1] | テクスチャの画像への参照URI。相対パスにより記述する。 |
| app:mimeType     [ _Texture ] | gml::CodeType [0..1] | テクスチャの画像フォーマット。コードリスト（Appearance_mimeType.xml）より選択する。画像フォーマットは、PNG又はJPEGとする。 |
| app:textureType     [ _Texture ] | TextureTypeType [0..1] | テクスチャの種類。 |
| app:wrapMode     [ _Texture ] | WrapModeType [0..1] | テクスチャの貼り付け方。 borderを選択した場合は、borderColorも指定すること。 |
| app:borderColor     [ _Texture ] | ColorPlusOpacity [0..1] | テクスチャの端の色表現の指定。RGBに加え、不透過率を0から1までの実数値で指定する。不透過率が0の時に透明となる。 |
| 自身に定義された関連役割 | ← | ← |
| 関連役割名 | 関連役割の型及び多重度 | 定義 |
| app:target             [ ParameterizedTexture ] | app:_TextureParameterization [0..*] | テクスチャの貼り付けに使用する幾何への参照。 app:TexCoordListを使用する。 |

## 4.22.3.1.3 app:TexCoordList

**表 4-835**

| 型の定義 | テクスチャの座標とテクスチャを貼り付ける幾何オブジェクトへの参照の対。 | ← |
| --- | --- | --- |
| 上位の型 | app:_TextureParameterization | ← |
| ステレオタイプ | << Type >> | ← |
| 自身に定義された属性 | ← | ← |
| 属性名 | 属性の型及び多重度 | 定義 |
| app:textureCoordinates     [ TexCoordList ] | gml::doubleList [1..*] | テクスチャの座標。UV座標（画像の横方向をU軸、縦方向をV軸とし、座標値を0から1の小数値を用いて記述する座標）により記述する。 |
| app:ring     [ TexCoordList ] | xs::anyURI [1..*] | 幾何オブジェクトへの参照。相対パスにより記述する。参照する幾何オブジェクトは、gml:LinearRingとする。 |

## 4.22.3.1.4 app:X3DMaterial

**表 4-836**

| 型の定義 | 地物インスタンスの表面色を指定するための型。![Image](images/toc4_22_03_img003.png)bldg:Buildingの外観として色を指定した例 | ← |
| --- | --- | --- |
| 上位の型 | app:_SurfaceData | ← |
| ステレオタイプ | << FeatureType >> | ← |
| 継承する属性 | ← | ← |
| 属性名 | 属性の型及び多重度 | 定義 |
| app:isFront     [ _SurfaceData ] | xs::boolean [0..1] | テクスチャを貼る面の指定。 |
| 自身に定義された属性 | ← | ← |
| 属性名 | 属性の型及び多重度 | 定義 |
| app:ambientIntensity     [ X3DMaterial ] | xs::double [0..1] | 環境光（光源からの光の当たっていない部分の明るさ）に対する反射率を指定。これが 0 だと陰の部分が真っ暗になる。 |
| app:diffuseColor     [ X3DMaterial ] | gml::doubleList [0..1] | 拡散反射率を指定（rgb、いずれも 0～1）。これが物体の色になる。 |
| app:emissiveColor     [ X3DMaterial ] | gml::doubleList [0..1] | 発光（rgb、いずれも 0～1）を指定。 0 0 0 より大きくすると、この物体自体がその色で発光する。 |
| app:specularColor     [ X3DMaterial ] | gml::doubleList [0..1] | 鏡面反射率を指定（rgb、いずれも 0～1）で指定。これは光源の光が物体表面でそのまま反射して見える部分（ハイライト）の色になる。 |
| app:shininess     [ X3DMaterial ] | xs::double [0..1] | ハイライトの「強さ」を、 0～１ の間で指定。この値が大きくなるにつれてハイライトが鋭くなり、輝き感が増す。 |
| app:transparency     [ X3DMaterial ] | xs::double [0..1] | 透明度を指定。 0 で不透明になり、1 で透明になる。デフォルトは 0。 |
| app:isSmooth     [ X3DMaterial ] | core::doubleBetween0and1 [0..1] | 陰影付のための補間方法を指定。trueの場合、グーロー法(による陰影付け)となる。 |
| app:target     [ X3DMaterial ] | xs::anyURI [0..*] | 色を設定する幾何への参照。 |

