# 4.16.1.5 地下街モデル（LOD4）

## 4.16.1.5 地下街モデル（LOD4）

## 4.16.1.5.1 地下街モデル（LOD4）の概要

地下街モデル（LOD4）は、地下街モデル（LOD3）により表現される地下街の外側の形状に加え、地下街の内側の形状（屋内空間）を表現する。

地下街モデル（LOD4）は、含むべき地物により、LOD4.0、LOD4.1及びLOD4.2に区分する。これは、建築物モデル（LOD4）の区分と同一である。

標準製品仕様書では原則としてLOD4.0を採用する。ただし、ユースケースの必要に応じてLOD4.1又はLOD4.2を採用できる。

**表 4-737 — LOD4.0, LOD4.1及びLOD4.2の区分**

| 地下街モデル（LOD4）に含むべき地物 | 対応する地物型 | LOD4.0 | LOD4.1 | LOD4.2 |
| --- | --- | --- | --- | --- |
| 地下街 | uro:UndergroundBuilding | ● | ● | ● |
| 建築物部分 | bldg:BuildingPart | ■ | ■ | ■ |
| 屋根面 | bldg:RoofSurface | ● | ● | ● |
| 外壁面 | bldg:WallSurface | ● | ● | ● |
| 底面 | bldg:GroundSurface | ● | ● | ● |
| 屋外天井面 | bldg:OuterCeilingSurface |  |  |  |
| 屋外床面 | bldg:OuterFloorSurface |  |  |  |
| 屋外付属物 | bldg:BuildingInstallation |  |  |  |
| 部屋 | bldg:Room | ● | ● | ● |
| 天井面 | bldg:CeilingSurface | ● | ● | ● |
| 内壁面 | bldg:InteriorWallSurface | ● | ● | ● |
| 床面 | bldg:FloorSurface | ● | ● | ● |
| 閉鎖面 | bldg:ClosureSurface | ● | ● | ● |
| 窓 | bldg:Window | ● | ● | ● |
| 扉 | bldg:Door | ● | ● | ● |
| 階段 | bldg:IntBuildingInstallation |  | ● | ● |
| スロープ | bldg:IntBuildingInstallation |  | ● | ● |
| 輸送設備 | bldg:IntBuildingInstallation |  | ● | ● |
| 柱 | bldg:IntBuildingInstallation |  | ● | ● |
| デッキ・ステージ | bldg:IntBuildingInstallation |  | ● | ● |
| 梁 | bldg:IntBuildingInstallation |  |  | 〇 |
| パネル | bldg:IntBuildingInstallation |  |  | 〇 |
| 手すり | bldg:IntBuildingInstallation |  |  | 〇 |
| 家具 | bldg:BuildingFurniture |  |  | 〇 |
| 階 | grp:CityObjectGroup | ● | ● | ● |
| 任意設定空間（例：防火区画） | grp:CityObjectGroup |  |  | 〇 |
| ●：必須■：条件付必須〇：任意（ユースケースに応じて要否を決定してよい） | ← | ← | ← | ← |

LOD4.0、LOD4.1及びLOD4.2それぞれの取得イメージを 表4-738に示す。

**表 4-738 — 地下街モデル（LOD4）の取得例**

| LOD | 取得イメージと説明 |
| --- | --- |
| LOD4.0 | ![Image](images/toc4_16_01_05_img001.png)LOD4.0は建築物の外形（図1）に加え、建築物の内部を部屋に区分する（図2）。このとき、各部屋の形状は立体として表現し、部屋の立体の境界面を、天井面、内壁面、床面又は閉鎖面のいずれかに区分する（図3）。また、天井面、内壁面又は床面に存在する全ての扉及び窓を表現する（図4）。 CityGMLでは、壁面や天井面などは全て面として表現する。1つの壁が建築物の外形を示す外壁と部屋の外形を示す内壁との機能を備えていた場合、建築物の外形となる面と部屋の外形となる面の2枚の面として表現され、それらの面の間には隙間ができる（何もない）。LOD4.0では地下街の内部に存在する付属物や家具を表現しないため、上図の例でも、付属物である階段、エレベータ、柱等が表現されていない。 なお、地下街の地上への出入口に設けられた建屋は、都市設備（CityFurniture）として取得する。 |
| LOD4.1 | ![Image](images/toc4_16_01_05_img002.png)LOD4.1ではLOD4.0に、屋内の付属物（bldg:IntBuildingInstallation）として、階段、スロープ、輸送設備（エスカレータ、エレベータ及び動く歩道）、柱及びデッキ・ステージが追加される。上図の例では、LOD4.0に加えて、階段、エスカレータ、スロープ及び柱が付属物として追加された。 |
| LOD4.2 | ![Image](images/toc4_16_01_05_img003.png)LOD4.2ではLOD4.1に屋内の付属物（bldg:IntBuildingInstallation）として、手すり、パネル及び梁が付属物として追加される。また、机やいすなどの移動可能な家具（bldg:BuildingFurniture）が追加される。上図の例では、LOD4.2に加えて付属物として階段の手すり及び部屋の間仕切りとしてパネル、また、家具としてテーブルやいす及び棚が追加された。 |

## 4.16.1.5.2 地下街モデル（LOD4.0）の定義

地下街モデル（LOD4.0）の定義として、含むべき地物型、各地物型の空間属性の型、取得基準、取得方法及び補足を示す。

**表 4-739**

| LOD |  | 地物型 | 空間属性の型 | 取得基準 | 取得方法 | 補足 |
| --- | --- | --- | --- | --- | --- | --- |
| LOD4.0 | ● | UndergroundBuilding | Solid又はMultiSurface | 全てを対象とする。 | 屋根面（RoofSurface）、外壁面（WallSurface）及び底面（GroundSurface）を境界面とする立体又は面の集まりを作成する。 | 測量により取得する場合は、Solidとする。BIMモデルからの変換により取得する場合はMultiSurfaceとする。 |
| LOD4.0 | ● | RoofSurface | MultiSurface | 射影の短辺の実長3m以上 | 地下街の外形を取得し、上向き面を屋根面（RoofSurface）とする。面を構成する各頂点にそれぞれの高さを与える。 | 曲面の場合は、データセットが採用する地図情報レベルの水平及び高さの誤差の標準偏差に収まるよう平面に分割する。 |
| LOD4.0 | ● | GroundSurface | MultiSurface | 全てを対象とする。 | 地下街の外形を取得し、下向き面を底面（GroundSurface）とする。面を構成する各頂点にそれぞれの高さを与える。 |  |
| LOD4.0 | ● | WallSurface | MultiSurface | 全てを対象とする。 | 地下街の外形を取得し、屋根面（RoofSurface）及び底面（GroundSurface）以外の面を外壁面（WallSurface）とする。面を構成する各頂点にそれぞれの高さを与える。 | 曲面の場合は、データセットが採用する地図情報レベルの水平及び高さの誤差の標準偏差に収まるよう平面に分割する。 |
| LOD4.0 | ■ | BuildingPart | Solid | 1棟の地下街を、主題属性の異なる複数の部分に分ける場合に必須とする。 | 屋根面（RoofSurface）、外壁面（WallSurface）、底面（GroundSurface）及び閉鎖面（ClosureSurface）を境界面とする立体を作成する。 | BuildingPartを使用する場合、1棟のBuildingには必ず2つ以上のBuildingPartが含まれていなければならず、それらは互いに接していなければならない。BuildingPartを使用する場合、Buildingの空間属性は空となる。 |
| LOD4.0 | ● | ClosureSurface | MultiSurface | 地下街への出入り口となる開口部 | 地下街の外壁面と地表面との交線により囲まれた面を取得する。 | 地上に設置された地下街出入口の建屋は都市設備（CityFurniture）として取得する。 |
| ↑ | ■ | ClosureSurface | MultiSurface | BuildingPartを作成する場合 | BuildingPartと連続する他のBuildingPartとの境界線により囲まれた面を取得する。 | ClosureSurfaceの境界線は、屋根面（RoofSurface）、外壁面（WallSurface）又は底面（GroundSurface）を区切る線分となる。 |
| LOD4.0 |  | OuterFloorSurface |  |  |  | 対象外 |
| LOD4.0 |  | OuterCeilingSurface |  |  |  | 対象外 |
| LOD4.0 |  | BuildingInstallation |  |  |  | 対象外 |
| LOD4.0 | ● | Door | MultiSurface | 全てを対象とする。 | 扉（Door）の外周を取得する。 |  |
| LOD4.0 | ● | Window | MultiSurface | 全てを対象とする。 | 窓（Window）の外周を取得する。 |  |
| LOD4.0 |  | BuildingInstallation | MultiSurface |  |  | 対象外 |
| LOD4.0 | ● | Room | Solid | 全てを対象とする。 | 天井面（CeilingSurface）、内壁面（InteriorWallSurface）、閉鎖面（ClosureSurface）及び床面（FloorSurface）を境界面とする立体を作成する。 |  |
| LOD4.0 | ● | CeilingSurface | MultiSurface | 全てを対象とする。 | 天井の外周を取得する。 |  |
| LOD4.0 | ● | InteriorWallSurface | MultiSurface | 全てを対象とする。 | 部屋（Room）を区切る内壁の角を結ぶ外周を取得する。角となる場所で区切る。 | 曲面の場合は、データセットが採用する地図情報レベルの水平及び高さの誤差の標準偏差に収まるよう平面に分割する。 |
| LOD4.0 | ● | FloorSurface | MultiSurface | 全てを対象とする。 | 床の外周を取得する。 |  |
| LOD4.0 |  | IntBuildingInstallation |  |  |  | 対象外 |
| LOD4.0 | ● | CeilingSurface | MultiSurface | 全てを対象とする。 | 天井の外周を取得する。 |  |
| LOD4.0 | ● | InteriorWallSurface | MultiSurface | 全てを対象とする。 | 部屋（Room）を区切る内壁の角を結ぶ外周を取得する。角となる場所で区切る。 | 曲面の場合は、データセットが採用する地図情報レベルの水平及び高さの誤差の標準偏差に収まるよう平面に分割する。 |
| LOD4.0 | ● | FloorSurface | MultiSurface | 全てを対象とする。 | 床の外周を取得する。 |  |
| LOD4.0 |  | BuildingFurniture |  |  |  | 対象外 |
| LOD4.0 | ● | CityObjectGroup | ー | 階 | ー | Roomの集まりとして表現する。 |
| ●：必須■：条件付必須〇：任意（ユースケースに応じて要否を決定してよい）注記4.16.1.5.2の注記CityObjectGroupは空間属性をもたないため、「―」としている。 | ← | ← | ← | ← | ← | ← |

## 4.16.1.5.3 地下街モデル（LOD4.1）の定義

地下街モデル（LOD4.1）の定義として、含むべき地物型、各地物型の空間属性の型、取得基準、取得方法及び補足を示す。

**表 4-740**

| LOD |  | 地物型 | 空間属性の型 | 取得基準 | 取得方法 | 補足 |
| --- | --- | --- | --- | --- | --- | --- |
| LOD4.1 | ● | UndergroundBuilding | Solid又はMultiSurface | 全てを対象とする。 | 屋根面（RoofSurface）、外壁面（WallSurface）及び底面（GroundSurface）を境界面とする立体又は面の集まりを作成する。 | 測量により取得する場合は、Solidとする。BIMモデルからの変換により取得する場合はMultiSurfaceとする。 |
| LOD4.1 | ● | RoofSurface | MultiSurface | 射影の短辺の実長3m以上 | 地下街の外形を取得し、上向き面を屋根面（RoofSurface）とする。面を構成する各頂点にそれぞれの高さを与える。 | 曲面の場合は、データセットが採用する地図情報レベルの水平及び高さの誤差の標準偏差に収まるよう平面に分割する。 |
| LOD4.1 | ● | GroundSurface | MultiSurface | 全てを対象とする。 | 地下街の外形を取得し、下向き面を底面（GroundSurface）とする。面を構成する各頂点にそれぞれの高さを与える。 |  |
| LOD4.1 | ● | WallSurface | MultiSurface | 全てを対象とする。 | 地下街の外形を取得し、屋根面（RoofSuface）及び底面（GroundSurface）以外の面を外壁面（WallSurface）とする。面を構成する各頂点にそれぞれの高さを与える。 | 曲面の場合は、データセットが採用する地図情報レベルの水平及び高さの誤差の標準偏差に収まるよう平面に分割する。 |
| LOD4.1 | ■ | BuildingPart | Solid | 1棟の地下街を、主題属性の異なる複数の部分に分けたい場合 | 屋根面（RoofSurface）、外壁面（WallSurface）、底面（GroundSurface）及び閉鎖面（ClosureSurface）を境界面とする立体を作成する。 | BuildingPartを使用する場合、1棟のBuildingには必ず2つ以上のBuildingPartが含まれていなければならず、それらは互いに接していなければならない。BuildingPartを使用する場合、Buildingの空間属性は空となる。 |
| LOD4.1 | ● | ClosureSurface | MultiSurface | 地下街への出入り口となる開口部 | 地下街の外壁面と地表面との交線により囲まれた面を取得する。 | 地上に設置された地下街出入口の建屋は都市設備（CityFurniture）として取得する。 |
| ↑ | ■ | ClosureSurface | MultiSurface | BuildingPartを作成する場合 | BuildingPartと連続する他のBuildingPartとの境界線により囲まれた面を取得する。 | ClosureSurfaceの境界線は、屋根面（RoofSurface）、外壁面（WallSurface）又は底面（GroundSurface）を区切る線分となる。 |
| LOD4.1 |  | OuterFloorSurface |  |  |  | 対象外 |
| LOD4.1 |  | OuterCeilingSurface |  |  |  | 対象外 |
| LOD4.1 |  | BuildingInstallation |  |  |  | 対象外 |
| LOD4.1 | ● | BuildingInstallation | MultiSurface | 全てを対象とする。 | 屋外付属物の外形（外側から見える形）を構成する面を取得する。面の各頂点に屋外付属物の高さを与える。 | 曲面の場合は、データセットが採用する地図情報レベルの水平及び高さの誤差の標準偏差に収まるよう平面に分割する。 |
| LOD4.1 | ● | Door | MultiSurface | 全てを対象とする。 | 扉（Door）の外周を取得する。 |  |
| LOD4.1 | ● | Window | MultiSurface | 全てを対象とする。 | 窓（Window）の外周を取得する。 |  |
| LOD4.1 | ● | Room | Solid | 全てを対象とする。 | 天井面（CeilingSurface）、内壁面（InteriorWallSurface）、閉鎖面（ClosureSurface）及び床面（FloorSurface）を境界面とする立体を作成する。 |  |
| LOD4.1 | ● | CeilingSurface | MultiSurface | 全てを対象とする。 | 天井の外周を取得する。 |  |
| LOD4.1 | ● | InteriorWallSurface | MultiSurface | 全てを対象とする。 | 部屋（Room）を区切る内壁の角を結ぶ外周を取得する。角となる場所で区切る。 | 曲面の場合は、データセットが採用する地図情報レベルの水平及び高さの誤差の標準偏差に収まるよう平面に分割する。 |
| LOD4.1 | ● | FloorSurface | MultiSurface | 全てを対象とする。 | 床の外周を取得する。 |  |
| LOD4.1 | ● | IntBuildingInstallation | MultiSurface | 階段、スロープ、エスカレータ、輸送設備（エレベータ、エスカレータ、動く歩道）、柱、デッキ、ステージ | 屋内付属物の外形（外側から見える形）を構成する面を取得する。面の各頂点に屋内付属物の高さを与える。 | 曲面の場合は、データセットが採用する地図情報レベルの水平及び高さの誤差の標準偏差に収まるよう平面に分割する。 |
| LOD4.1 |  | BuildingFurniture |  |  |  | 対象外 |
| LOD4.1 | ● | CityObjectGroup | ー | 階 | ー | Roomの集まりとして表現する。 |
| ●：必須■：条件付必須〇：任意（ユースケースに応じて要否を決定してよい）注記4.16.1.5.3の注記CityObjectGroupは空間属性をもたないため、「―」としている。 | ← | ← | ← | ← | ← | ← |

## 4.16.1.5.4 地下街モデル（LOD4.2）の定義

地下街モデル（LOD4.2）の定義として、含むべき地物型、各地物型の空間属性の型、取得基準、取得方法及び補足を示す。

**表 4-741**

| LOD |  | 地物型 | 空間属性の型 | 取得基準 | 取得方法 | 補足 |
| --- | --- | --- | --- | --- | --- | --- |
| LOD4.2 | ● | UndergroundBuilding | Solid又はMultiSurface | 全てを対象とする。 | 屋根面（RoofSurface）、外壁面（WallSurface）及び底面（GroundSurface）を境界面とする立体又は面の集まりを作成する。 | 測量により取得する場合は、Solidとする。BIMモデルからの変換により取得する場合はMultiSurfaceとする。 |
| LOD4.2 | ● | RoofSurface | MultiSurface | 全てを対象とする。 | 地下街の外形を取得し、上向き面を屋根面（RoofSurface）とする。面を構成する各頂点にそれぞれの高さを与える。 | 曲面の場合は、データセットが採用する地図情報レベルの水平及び高さの誤差の標準偏差に収まるよう平面に分割する。 |
| LOD4.2 | ● | GroundSurface | MultiSurface | 全てを対象とする。 | 地下街の外形を取得し、下向き面を底面（GroundSurface）とする。面を構成する各頂点にそれぞれの高さを与える。 |  |
| LOD4.2 | ● | WallSurface | MultiSurface | 全てを対象とする。 | 地下街の外形を取得し、屋根面（RoofSuface）及び底面（GroundSurface）以外の面を外壁面（WallSurface）とする。面を構成する各頂点にそれぞれの高さを与える。 | 曲面の場合は、データセットが採用する地図情報レベルの水平及び高さの誤差の標準偏差に収まるよう平面に分割する。 |
| LOD4.2 | ■ | BuildingPart | Solid | 1棟の地下街を、主題属性の異なる複数の部分に分けたい場合 | 屋根面（RoofSurface）、外壁面（WallSurface）、底面（GroundSurface）及び閉鎖面（ClosureSurface）を境界面とする立体を作成する。 | BuildingPartを使用する場合、1棟のBuildingには必ず2つ以上のBuildingPartが含まれていなければならず、それらは互いに接していなければならない。BuildingPartを使用する場合、Buildingの空間属性は空となる。 |
| LOD4.2 | ● | ClosureSurface | MultiSurface | 地下街への出入り口となる開口部 | 地下街の外壁面と地表面との交線により囲まれた面を取得する。 | 地上に設置された地下街出入口の建屋は都市設備（CityFurniture）として取得する。 |
| ↑ | ■ | ClosureSurface | MultiSurface | BuildingPartを作成する場合 | BuildingPartと連続する他のBuildingPartとの境界線により囲まれた面を取得する。 | ClosureSurfaceの境界線は、屋根面（RoofSurface）、外壁面（WallSurface）又は底面（GroundSurface）を区切る線分となる。 |
| LOD4.2 |  | OuterFloorSurface |  |  |  | 対象外 |
| LOD4.2 |  | OuterCeilingSurface |  |  |  | 対象外 |
| LOD4.2 | ● | BuildingInstallation | MultiSurface | 全てを対象とする。 | 屋外付属物の外形（外側から見える形）を構成する面を取得する。面の各頂点に屋外付属物の高さを与える。 | 曲面の場合は、データセットが採用する地図情報レベルの水平及び高さの誤差の標準偏差に収まるよう平面に分割する。 |
| LOD4.2 | ● | Door | MultiSurface | 全てを対象とする。 | 扉（Door）の外周を取得する。 |  |
| LOD4.2 | ● | Window | MultiSurface | 全てを対象とする。 | 窓（Window）の外周を取得する。 |  |
| LOD4.2 | ● | Room | Solid | 全てを対象とする。 | 天井面（CeilingSurface）、内壁面（InteriorWallSurface）、閉鎖面（ClosureSurface）及び床面（FloorSurface）を境界面とする立体を作成する。 |  |
| LOD4.2 | ● | CeilingSurface | MultiSurface | 全てを対象とする。 | 天井の外周を取得する。 |  |
| LOD4.2 | ● | InteriorWallSurface | MultiSurface | 全てを対象とする。 | 部屋（Room）を区切る内壁の角を結ぶ外周を取得する。角となる場所で区切る。 | 曲面の場合は、データセットが採用する地図情報レベルの水平及び高さの誤差の標準偏差に収まるよう平面に分割する。 |
| LOD4.2 | ● | FloorSurface | MultiSurface | 全てを対象とする。 | 床の外周を取得する。 |  |
| LOD4.2 | ● | IntBuildingInstallation | MultiSurface | 階段、スロープ、エスカレータ、輸送設備（エレベータ、エスカレータ、動く歩道）、柱、デッキ、ステージ、手すり、パネル、梁 | 屋内付属物の外形（外側から見える形）を構成する面を取得する。面の各頂点に屋内付属物の高さを与える。 | 曲面の場合は、データセットが採用する地図情報レベルの水平及び高さの誤差の標準偏差に収まるよう平面に分割する。 |
| LOD4.2 | ● | BuildingFurniture | MultiSurface | 全てを対象とする。 | 家具の外形（外側から見える形）を構成する面を取得する。面の各頂点に家具の高さを与える。 | 曲面の場合は、データセットが採用する地図情報レベルの水平及び高さの誤差の標準偏差に収まるよう平面に分割する。 |
| LOD4.2 | ● | CityObjectGroup | ― | 階 | ― | Roomの集まりとして表現する。 |
| ●：必須■：条件付必須〇：任意（ユースケースに応じて要否を決定してよい）注記4.16.1.5.4の注記CityObjectGroupは空間属性をもたないため、「―」としている。 | ← | ← | ← | ← | ← | ← |

