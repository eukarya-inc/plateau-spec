# 4.24.3 都市オブジェクトグループモデルの応用スキーマ文書

## 4.24.3 都市オブジェクトグループモデルの応用スキーマ文書

## 4.24.3.1 CityObjectGroup（CityGML）

## 4.24.3.1.1 grp:CityObjectGroup

**表 4-852**

| 型の定義 | 都市オブジェクトの集まり。建築物モデル（LOD4）では、多数の層からなる建築物における、それぞれの層（階）を部屋（bldg:Room）の集まりとして表現する場合及び施設管理者等により任意に設定された防火区画等の領域（任意設定空間）を部屋の集まりとして表現する場合に使用する。 下図は、建築物の1 階の部屋をgrp:CityObjectGroup としてグループ化した例である。![Image](images/toc4_24_03_img001.png)grp:CityObjectGroupの使用例CityGML では、建築物の階や任意設定空間に相当する地物は存在しない。そこで、グループ化の仕組みであるgrp:CityObjectGroup を建築物の階を表現するために使用する。属性gml:name により階又は任意設定空間を識別する名称を付与し、関連役割grp:groupMember により同じ階又は任意に設定空間に存在する部屋（bldg:Room）を参照することで、建築物の階を表現する。![Image](images/toc4_24_03_img002.png)例えば、1 階に六つの部屋が存在する場合、上図のように、1 階を示すgrp:CityObjectGroup は、六つのbldg:Room を関連役割grp:groupMember により参照する。 | ← |
| --- | --- | --- |
| 上位の型 | core:_CityObject | ← |
| ステレオタイプ | << FeatureType >> | ← |
| 継承する属性 | ← | ← |
| 属性名 | 属性の型及び多重度 | 定義 |
| gml:description     [ _Feature ] | gml:StringOrRefType [0..1] | 都市オブジェクトの概要。 |
| gml:name     [ _Feature ] | gml::CodeType [0..1] | 都市オブジェクトを識別する名称。文字列とする。 |
| gml:boundedBy     [ _Feature ] | gml::Envelope [0..1] | 都市オブジェクトの範囲及び適用される空間参照系。 CityModelの場合のみ必須とする。 |
| core:creationDate     [ _CityObject ] | xs::date [0..1] | データが作成された日。運用上必須とする。 |
| core:terminationDate     [ _CityObject ] | xs::date [0..1] | データが削除された日。 |
| core:relativeToTerrain     [ _CityObject ] | core::RelativeToTerrainType [0..1] | 地表面との相対的な位置関係。標準製品仕様書では使用しない。 |
| core:relativeToWater     [ _CityObject ] | core::RelativeToWaterType [0..1] | 水面との相対的な位置関係。標準製品仕様書では使用しない。 |
| 自身に定義された属性 | ← | ← |
| 属性名 | 属性の型及び多重度 | 定義 |
| grp:class     [ CityObjectGroup ] | gml::CodeType [0..1] | グループの区分。コードリスト（CityObjectGroup_class.xml）から選択する。 |
| grp:function     [ CityObjectGroup ] | gml::CodeType [0..*] | グループの機能。コードリスト（CityObjectGroup_function.xml）より選択する。 |
| grp:usage     [ CityObjectGroup ] | gml::CodeType [0..*] | グループの主な使い道。標準製品仕様書では使用しない。 |
| 継承する関連役割 | ← | ← |
| 関連役割名 | 関連役割の型及び多重度 | 定義 |
| core:externalReference             [ _CityObject ] | core:ExternalReference [0..*] | 外部への参照。標準製品仕様書では使用しない。 |
| gen:dateAttribute             [ _CityObject ] | gen:dateAttribute [0..*] | 日付型属性。属性を追加したい場合に使用する。 |
| gen:doubleAttribute             [ _CityObject ] | gen:doubleAttribute [0..*] | 実数型属性。属性を追加したい場合に使用する。 |
| gen:genericAttributeSet             [ _CityObject ] | gen:genericAttributeSet [0..*] | 汎用属性のセット。属性を追加したい場合に使用する。 |
| gen:intAttribute             [ _CityObject ] | gen:intAttribute [0..*] | 整数型属性。属性を追加したい場合に使用する。 |
| gen:measureAttribute             [ _CityObject ] | gen:measureAttribute [0..*] | 単位付き数値型属性。属性を追加したい場合に使用する。 |
| gen:stringAttribute             [ _CityObject ] | gen:stringAttribute [0..*] | 文字列型属性。属性を追加したい場合に使用する。 |
| gen:uriAttribute             [ _CityObject ] | gen:uriAttribute [0..*] | URI型属性。属性を追加したい場合に使用する。 |
| uro:pointCloud             [ _CityObject ] | uro:AbstractPointCloud [0..1] | ポイントクラウドへの参照。 |
| 自身に定義された関連役割 | ← | ← |
| 関連役割名 | 関連役割の型及び多重度 | 定義 |
| grp:groupMember             [ CityObjectGroup ] | core:_CityObject [0..*] | グループに含まれる都市オブジェクト。同じ階に含まれる、bldg:Roomを参照する。 |
| grp:parent             [ CityObjectGroup ] | core:_CityObject [0..1] | この階を含む建築物（bldg:Building）への参照。 |
| uro:dmAttribute             [ CityObjectGroup ] | uro:DmAttribute [0..*] | 地物と独立して配置された注記及び地図記号をグループ化する。標準製品仕様書では使用しない。 |
| uro:ifcBuildingStoreyAttribute             [ CityObjectGroup ] | uro:IfcAttribute [0..*] | IDM・MVDで定義されるIFCに含まれる情報。建築物の階を表現するgrp:CityObjectGroupに付与可能なデータ型は以下とする。  uro:IfcBuildingStorey |
| uro:indoorStoreyAttribute             [ CityObjectGroup ] | uro:IndoorAttribute [0..*] | 屋内ナビゲーションに必要な情報。建築物の階を表現するgrp:CityObjectGroupに付与可能なデータ型は以下とする。  uro:IndoorStoreyAttribute  uro:IndoorZoneAttribute  uro:IndoorUserDefinedAttribute |

## 4.24.3.2 建築物モデル（LOD4）の拡張属性

## 4.24.3.2.1 uro:IfcBuildingStorey

**表 4-853**

| 型の定義 | IFCで記述された建築物の階数の属性。 | ← |
| --- | --- | --- |
| 上位の型 | uro:IfcSpatialStructureElement | ← |
| ステレオタイプ | << DataType >> | ← |
| 継承する属性 | ← | ← |
| 属性名 | 属性の型及び多重度 | 定義 |
| uro:globalId     [ IfcRoot ] | xs::string [0..1] | そのオブジェクトが単一に識別できる唯一な識別子。22桁の文字列により表現する。 |
| uro:name     [ IfcRoot ] | xs::string [0..1] | オブジェクトの名称。 |
| uro:description     [ IfcRoot ] | xs::string [0..1] | オブジェクトの文字情報による追加説明。 |
| uro:objectType     [ IfcObject ] | xs::string [0..1] | オブジェクトの特定の型を示す。 |
| uro:longName     [ IfcSpatialStructureElement ] | xs::string [0..1] | 人が識別可能な名称。uro:IfcBuildingの場合は、敷地を識別するための名称とする。 |
| uro:compositionType     [ IfcSpatialStructureElement ] | IfcElementCompositionEnum [0..1] | 空間構成の区分。単一であればELEMENT を設定。複数から構成される場合はCOMPLEX を設定。 |
| 自身に定義された属性 | ← | ← |
| 属性名 | 属性の型及び多重度 | 定義 |
| uro:elevation     [ IfcBuildingStorey ] | gml::LengthType [0..1] | 建物階の建物の基準高さからの相対的高さ。単位はm。 |

## 4.24.3.2.2 uro:IfcZone

**表 4-854**

| 型の定義 | IFCで記述された施設管理者により任意に設定された空間の属性。 | ← |
| --- | --- | --- |
| 上位の型 | uro:IfcGroup | ← |
| ステレオタイプ | << DataType >> | ← |
| 継承する属性 | ← | ← |
| 属性名 | 属性の型及び多重度 | 定義 |
| uro:globalId     [ IfcRoot ] | xs::string [0..1] | そのオブジェクトが単一に識別できる唯一な識別子。22桁の文字列により表現する。 |
| uro:name     [ IfcRoot ] | xs::string [0..1] | オブジェクトの名称。 |
| uro:description     [ IfcRoot ] | xs::string [0..1] | オブジェクトの文字情報による追加説明。 |
| uro:objectType     [ IfcObject ] | xs::string [0..1] | オブジェクトの特定の型を示す。 |

## 4.24.3.3 屋内ナビゲーションのための拡張属性

## 4.24.3.3.1 uro:IndoorZoneAttribute

**表 4-855**

| 型の定義 | 任意の空間に追加するナビゲーション用の属性。 bldg:InteriorWallSurface、bldg:CeilingSurface、bldg:FloorSurfaceに使用する。 | ← |
| --- | --- | --- |
| 上位の型 | uro:IndoorAttribute | ← |
| ステレオタイプ | << DataType >> | ← |
| 継承する属性 | ← | ← |
| 属性名 | 属性の型及び多重度 | 定義 |
| uro:source     [ IndoorAttribute ] | gml::CodeType [0..1] | 原典資料。コードリスト（Common_indoorSource.xml）から選択する。 |
| 自身に定義された属性 | ← | ← |
| 属性名 | 属性の型及び多重度 | 定義 |
| uro:floorId     [ IndoorZoneAttribute ] | xs::string [0..1] | 任意の空間が紐づけられている階層の固有ID。 |

## 4.24.3.3.2 uro:IndoorStoreyAttribute

**表 4-856**

| 型の定義 | 階層に追加するナビゲーション用の属性。 | ← |
| --- | --- | --- |
| 上位の型 | uro:IndoorAttribute | ← |
| ステレオタイプ | << DataType >> | ← |
| 継承する属性 | ← | ← |
| 属性名 | 属性の型及び多重度 | 定義 |
| uro:source     [ IndoorAttribute ] | gml::CodeType [0..1] | 原典資料。コードリスト（Common_indoorSource.xml）から選択する。 |
| 自身に定義された属性 | ← | ← |
| 属性名 | 属性の型及び多重度 | 定義 |
| uro:category     [ IndoorStoreyAttribute ] | xs::boolean [0..1] | 屋内外区分。1：屋内0：屋外 |
| uro:ordinal     [ IndoorStoreyAttribute ] | xs::double [0..1] | 階層数。 |

## 4.24.3.3.3 uro:IndoorUserDefinedAttribute

建築物モデルの応用スキーマ文書　参照。

